{"version":3,"sources":["../src/scrambling.js"],"names":["wrapApdu","apdu","key","length","result","Buffer","alloc","i"],"mappings":";;;;;QAEgBA,Q,GAAAA,Q;AAAT,SAASA,QAAT,CAAkBC,IAAlB,EAAgCC,GAAhC,EAA6C;AAClD,MAAID,KAAKE,MAAL,KAAgB,CAApB,EAAuB,OAAOF,IAAP;AACvB,MAAMG,SAASC,OAAOC,KAAP,CAAaL,KAAKE,MAAlB,CAAf;AACA,OAAK,IAAII,IAAI,CAAb,EAAgBA,IAAIN,KAAKE,MAAzB,EAAiCI,GAAjC,EAAsC;AACpCH,WAAOG,CAAP,IAAYN,KAAKM,CAAL,IAAUL,IAAIK,IAAIL,IAAIC,MAAZ,CAAtB;AACD;AACD,SAAOC,MAAP;AACD","file":"scrambling.js","sourcesContent":["// @flow\n\nexport function wrapApdu(apdu: Buffer, key: Buffer) {\n  if (apdu.length === 0) return apdu;\n  const result = Buffer.alloc(apdu.length);\n  for (let i = 0; i < apdu.length; i++) {\n    result[i] = apdu[i] ^ key[i % key.length];\n  }\n  return result;\n}\n"]}