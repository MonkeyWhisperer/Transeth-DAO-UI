{"version":3,"sources":["../src/jsonrpc.js"],"names":["encodeRequest","method","params","jsonrpc","id","encodeResponse","result","response","Error","error","message","signals","COMPLETE","completed","isValidResponse"],"mappings":"2VAGO,KAAMA,CAAAA,aAAa,CAAG,CAACC,MAAD,CAASC,MAAM,CAAG,EAAlB,IACpB,CACLC,OAAO,CAAE,KADJ,CAELC,EAAE,CAAE,gBAFC,CAGLH,MAHK,CAILC,MAJK,CADoB,CAAtB,C,oCASA,KAAMG,CAAAA,cAAc,CAAG,CAACD,EAAD,CAAKE,MAAM,CAAG,IAAd,GAAuB,CACnD,GAAIC,CAAAA,QAAQ,CAAG,CACbJ,OAAO,CAAE,KADI,CAEbC,EAFa,CAAf,CAaA,MARIE,CAAAA,MAAM,WAAYE,CAAAA,KAQtB,CAPED,QAAQ,CAACE,KAAT,CAAiBH,MAAM,CAACI,OAAP,EAAkB,mBAOrC,CANWJ,MAAM,GAAKK,iBAAQC,QAM9B,CALEL,QAAQ,CAACM,SAAT,GAKF,CAHEN,QAAQ,CAACD,MAAT,CAAkBA,MAGpB,CAAOC,QACR,CAfM,C,sCAiBA,KAAMO,CAAAA,eAAe,CAAIP,QAAD,EACtB,CAAC,CAACA,QAAF,EACgB,KAArB,GAAAA,QAAQ,CAACJ,OADJ,EAEmB,QAAvB,QAAOI,CAAAA,QAAQ,CAACH,EAFZ,GAGJ,SAAAG,QAAQ,CAACD,MAAT,EAAiC,SAAAC,QAAQ,CAACE,KAA1C,EAAiE,SAAAF,QAAQ,CAACM,SAHtE,CADF,C,qDAOQ,CACbb,aADa,CAEbK,cAFa,CAGbS,eAHa,C","sourcesContent":["import uuidv4 from 'uuid/v4'\nimport signals from './signals'\n\nexport const encodeRequest = (method, params = []) => {\n  return {\n    jsonrpc: '2.0',\n    id: uuidv4(),\n    method,\n    params\n  }\n}\n\nexport const encodeResponse = (id, result = null) => {\n  let response = {\n    jsonrpc: '2.0',\n    id\n  }\n\n  if (result instanceof Error) {\n    response.error = result.message || 'An error occurred'\n  } else if (result === signals.COMPLETE) {\n    response.completed = true\n  } else {\n    response.result = result\n  }\n\n  return response\n}\n\nexport const isValidResponse = (response) => {\n  return !!response &&\n    response.jsonrpc === '2.0' &&\n    (typeof response.id === 'string') &&\n    (response.result !== undefined || response.error !== undefined || response.completed !== undefined)\n}\n\nexport default {\n  encodeRequest,\n  encodeResponse,\n  isValidResponse\n}\n"],"file":"jsonrpc.js"}