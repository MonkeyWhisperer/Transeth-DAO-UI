{"version":3,"file":"past-events.js","names":["request","proxy","params","length","eventNames","getEventNames","eventOptions","pastEvents","fromBlock","toBlock"],"sources":["../../../src/rpc/handlers/past-events.js"],"sourcesContent":["import { getEventNames } from '../../utils/events'\n\nexport default function (request, proxy, wrapper) {\n  // `past_events` RPC compatibility with aragonAPI versions:\n  //   - aragonAPIv2: `'past_events', [eventNames, eventOptions]`\n  //   - aragonAPIv1: `'past_events', [fromBlock (optional), toBlock (optional)]`\n  if (request.params.length === 2 && typeof request.params[1] === 'object') {\n    // aragonAPIv2\n    const eventNames = getEventNames(request.params[0])\n    const eventOptions = request.params[1]\n    return proxy.pastEvents(eventNames, eventOptions)\n  } else if (request.params.length <= 2) {\n    // aragonAPIv1\n    const fromBlock = request.params[0]\n    const toBlock = request.params[1]\n    return proxy.pastEvents(null, { fromBlock, toBlock })\n  }\n\n  // Otherwise, just use pastEvent defaults\n  return proxy.pastEvents()\n}\n"],"mappings":"aAAA,0C,oDAqeuB;4BAneR,kBAAUA,OAAV,CAAmBC,KAAnB,CAAmC,CAChD;AACA;AACA;AACA,GAA8B,CAA1B,GAAAD,OAAO,CAACE,MAAR,CAAeC,MAAf,EAA4D,QAA7B,QAAOH,QAAO,CAACE,MAAR,CAAe,CAAf,CAA1C,CAA0E,CACxE;AADwE,KAElEE,WAAU,CAAG,GAAAC,qBAAA,EAAcL,OAAO,CAACE,MAAR,CAAe,CAAf,CAAd,CAFqD,CAGlEI,YAAY,CAAGN,OAAO,CAACE,MAAR,CAAe,CAAf,CAHmD,CAIxE,MAAOD,MAAK,CAACM,UAAN,CAAiBH,UAAjB,CAA6BE,YAA7B,CACR,CAOD;AAPO,GAA6B,CAAzB,EAAAN,OAAO,CAACE,MAAR,CAAeC,MAAnB,CAAgC,CACrC;AADqC,KAE/BK,UAAS,CAAGR,OAAO,CAACE,MAAR,CAAe,CAAf,CAFmB,CAG/BO,OAAO,CAAGT,OAAO,CAACE,MAAR,CAAe,CAAf,CAHqB,CAIrC,MAAOD,MAAK,CAACM,UAAN,CAAiB,IAAjB,CAAuB,CAAEC,SAAF,CAAaC,OAAb,CAAvB,CACR,CAGD,MAAOR,MAAK,CAACM,UAAN,EACR"}