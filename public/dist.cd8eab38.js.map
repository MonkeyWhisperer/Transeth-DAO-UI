{"version":3,"sources":["../node_modules/walletlink/node_modules/bn.js/lib/bn.js","../node_modules/walletlink/dist/types.js","../node_modules/walletlink/dist/util.js","../node_modules/walletlink/dist/vendor-js/eth-eip712-util/util.js","../node_modules/walletlink/dist/vendor-js/eth-eip712-util/abi.js","../node_modules/walletlink/dist/vendor-js/eth-eip712-util/index.js","../node_modules/walletlink/dist/provider/FilterPolyfill.js","../node_modules/walletlink/dist/provider/JSONRPC.js","../src/classes.ts","../src/error-constants.ts","../src/utils.ts","../src/errors.ts","../src/index.ts","../node_modules/walletlink/dist/provider/SubscriptionManager.js","../node_modules/walletlink/dist/EthereumChain.js","../node_modules/walletlink/dist/provider/WalletLinkProvider.js","../node_modules/walletlink/dist/lib/ScopedLocalStorage.js","../node_modules/walletlink/dist/provider/WalletLinkUI.js","../node_modules/walletlink/dist/lib/cssReset-css.js","../node_modules/walletlink/dist/lib/cssReset.js","../src/constants.js","../src/util.js","../src/options.js","../src/create-element.js","../src/component.js","../src/create-context.js","../src/diff/children.js","../src/diff/props.js","../src/diff/index.js","../src/render.js","../src/clone-element.js","../src/diff/catch-error.js","../node_modules/clsx/dist/clsx.m.js","../src/index.js","../node_modules/walletlink/dist/components/LinkDialog-css.js","../node_modules/walletlink/dist/vendor-js/qrcode-svg/index.js","../node_modules/walletlink/dist/components/QRCode.js","../node_modules/walletlink/dist/components/Spinner-css.js","../node_modules/walletlink/dist/components/Spinner.js","../node_modules/walletlink/dist/components/LinkDialog.js","../node_modules/walletlink/dist/components/TryExtensionLinkDialog-css.js","../node_modules/walletlink/dist/components/icons/link-icon-svg.js","../node_modules/walletlink/dist/components/icons/globe-icon-svg.js","../node_modules/walletlink/dist/components/icons/lock-icon-svg.js","../node_modules/walletlink/dist/components/icons/QRLogo.js","../node_modules/walletlink/dist/components/TryExtensionLinkDialog.js","../node_modules/walletlink/dist/components/LinkFlow.js","../node_modules/walletlink/dist/components/Snackbar-css.js","../node_modules/walletlink/dist/components/Snackbar.js","../node_modules/walletlink/dist/provider/WalletLinkSdkUI.js","../node_modules/bind-decorator/index.js","../node_modules/walletlink/dist/connection/ClientMessage.js","../node_modules/walletlink/dist/connection/RxWebSocket.js","../node_modules/walletlink/dist/connection/ServerMessage.js","../node_modules/walletlink/dist/connection/WalletLinkConnection.js","../node_modules/walletlink/dist/relay/aes256gcm.js","../node_modules/js-sha256/src/sha256.js","../node_modules/walletlink/dist/relay/Session.js","../node_modules/walletlink/dist/relay/Web3Method.js","../node_modules/walletlink/dist/relay/RelayMessage.js","../node_modules/walletlink/dist/relay/Web3RequestCanceledMessage.js","../node_modules/walletlink/dist/relay/Web3RequestMessage.js","../node_modules/walletlink/dist/relay/Web3Response.js","../node_modules/walletlink/dist/relay/Web3ResponseMessage.js","../node_modules/walletlink/dist/relay/WalletLinkRelayAbstract.js","../node_modules/walletlink/dist/relay/WalletLinkRelay.js","../node_modules/walletlink/dist/relay/WalletLinkRelayEventManager.js","../node_modules/walletlink/package.json","../node_modules/walletlink/dist/WalletLink.js","../node_modules/walletlink/dist/index.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["Object","defineProperty","exports","value","RegExpString","IntNumber","BigIntString","AddressString","HexString","OpaqueType","num","Math","floor","__importDefault","mod","__esModule","getFavicon","range","isBigNumber","ensureParsedJSONObject","ensureBN","ensureRegExpString","ensureIntNumber","ensureBuffer","ensureAddressString","ensureEvenLengthHexString","ensureHexString","isHexString","prepend0x","strip0x","has0xPrefix","hexStringFromIntNumber","intNumberFromHexString","bigIntStringFromBN","hexStringFromBuffer","hexStringToUint8Array","uint8ArrayToHex","randomBytesHex","bn_js_1","require","types_1","INT_STRING_REGEX","HEXADECIMAL_STRING_REGEX","length","crypto","getRandomValues","Uint8Array","map","b","toString","padStart","join","hexString","match","byte","parseInt","buf","includePrefix","hex","bn","default","toNumber","str","startsWith","slice","s","toLowerCase","test","Error","h","Buffer","isBuffer","from","Number","isInteger","regExp","RegExp","val","isBN","JSON","parse","constructor","config","EUCLID","start","stop","Array","_","i","el","document","querySelector","protocol","host","location","href","getAttribute","createKeccakHash","BN","zeros","bytes","allocUnsafe","fill","setLength","msg","right","toBuffer","copy","setLengthRight","v","isArray","padToEven","stripHexPrefix","intToBuffer","undefined","toArrayLike","toArray","bufferToHex","keccak","a","bits","update","digest","module","util","elementaryName","name","parseTypeN","type","exec","parseTypeNxM","tmp","parseTypeArray","parseNumber","arg","encodeSingle","size","ret","lastIndexOf","push","unshift","concat","bitLength","toTwos","mul","pow","isDynamic","rawEncode","types","values","output","data","headLength","cur","solidityPack","soliditySHA3","abi","TYPED_MESSAGE_SCHEMA","properties","additionalProperties","items","required","primaryType","domain","message","TypedDataUtils","encodeData","useV4","encodedTypes","encodedValues","hashType","encodeField","parsedType","typeValuePairs","item","field","encodeType","result","deps","findTypeDependencies","filter","dep","sort","children","results","includes","hashStruct","sanitizeData","sanitizedData","key","assign","EIP712Domain","hash","typedData","parts","hashForSignTypedDataLegacy","msgParams","typedSignatureHashLegacy","hashForSignTypedData_v3","hashForSignTypedData_v4","error","e","schema","filterFromParam","FilterPolyfill","util_1","TIMEOUT","JSONRPC_TEMPLATE","jsonrpc","id","provider","logFilters","Map","blockFilters","Set","pendingTransactionFilters","cursors","timeouts","nextFilterId","newFilter","param","makeFilterId","cursor","setInitialCursorPosition","fromBlock","console","log","set","setFilterTimeout","newBlockFilter","add","newPendingTransactionFilter","uninstallFilter","filterId","deleteFilter","getFilterChanges","has","getLogFilterChanges","getBlockFilterChanges","getPendingTransactionFilterChanges","Promise","resolve","filterNotFoundError","getFilterLogs","get","sendAsyncPromise","method","params","paramFromFilter","request","reject","sendAsync","err","response","stringify","delete","cursorPosition","currentBlockHeight","getCurrentBlockHeight","toBlock","emptyResult","blocks","blockNumber","highestBlock","max","newCursorPosition","all","getBlockHashByNumber","_id","startBlock","initialCursorPosition","existing","window","clearTimeout","timeout","setTimeout","intBlockHeightFromHexBlockHeight","addresses","address","topics","hexBlockHeightFromIntBlockHeight","code","JSONRPCMethod","SubscriptionManager","PollingBlockTracker","createSubscriptionManager","noop","blockTracker","pollingInterval","setSkipCacheFlag","events","middleware","subscriptionMiddleware","handleRequest","destroy","EthereumChain","rpcUrl","thiz","ETHEREUM_MAINNET","ROPSTEN","RINKEBY","KOVAN","GOERLI","OPTIMISM_KOVAN","OPTIMISM_MAINNET","POLYGON_MAINNET","POLYGON_TESTNET","BSC_MAINNET","BSC_TESTNET","FANTOM_MAINNET","FANTOM_TESTNET","ARBITRUM_MAINNET","ARBITRUM_TESTNET","XDAI_MAINNET","AVALANCHE_MAINNET","AVALANCHE_FUJI","fromChainId","chainId","valueOf","ETHEREUM_CLASSIC_MAINNET","WalletLinkProvider","eth_eip712_util_1","FilterPolyfill_1","JSONRPC_1","eth_rpc_errors_1","safe_event_emitter_1","SubscriptionManager_1","EthereumChain_1","LOCAL_STORAGE_ADDRESSES_KEY","DEFAULT_CHAIN_ID_KEY","HAS_CHAIN_BEEN_SWITCHED_KEY","options","_filterPolyfill","_subscriptionManager","_relay","_addresses","hasMadeFirstChainChangedEmission","isChainOverridden","_send","send","_sendAsync","setProviderInfo","bind","updateProviderInfo","getChainId","setAppInfo","enable","close","_setAddresses","scanQRCode","arbitraryRequest","childRequestEthereumAccounts","_jsonRpcUrl","jsonRpcUrl","_overrideIsMetaMask","overrideIsMetaMask","_relayProvider","relayProvider","_storage","storage","_relayEventManager","relayEventManager","chainIdStr","emit","cachedAddresses","getItem","split","on","notification","initializeRelay","selectedAddress","networkVersion","isWalletLink","isMetaMask","connected","isConnected","fromRelay","hasChainSwitched","originalChainId","setItem","chainChanged","switchEthereumChain","relay","res","appName","appLogoUrl","then","eth_requestAccounts","resetAndReload","requestOrMethod","callbackOrParams","_sendRequestAsync","callback","requests","r","_sendRequest","req","arrayCb","_sendMultipleRequestsAsync","responses","catch","cb","args","ethErrors","rpc","invalidRequest","newParams","makeRequestId","childSessionId","childSessionSecret","dappName","dappLogoURL","dappURL","supportsSubscriptions","subscribe","unsubscribe","disconnect","_handleSynchronousMethods","newAddresses","dispatchEvent","CustomEvent","detail","syncResult","filterPromise","_handleAsynchronousFilterMethods","subscriptionPromise","_handleSubscriptionMethods","_handleAsynchronousMethods","eth_accounts","_eth_accounts","eth_coinbase","_eth_coinbase","eth_uninstallFilter","_eth_uninstallFilter","net_version","_net_version","eth_chainId","_eth_chainId","_eth_requestAccounts","eth_sign","_eth_sign","eth_ecRecover","_eth_ecRecover","personal_sign","_personal_sign","personal_ecRecover","_personal_ecRecover","eth_signTransaction","_eth_signTransaction","eth_sendRawTransaction","_eth_sendRawTransaction","eth_sendTransaction","_eth_sendTransaction","eth_signTypedData_v1","_eth_signTypedData_v1","eth_signTypedData_v2","_throwUnsupportedMethodError","eth_signTypedData_v3","_eth_signTypedData_v3","eth_signTypedData_v4","eth_signTypedData","_eth_signTypedData_v4","walletlink_arbitrary","_walletlink_arbitrary","wallet_addEthereumChain","_wallet_addEthereumChain","wallet_switchEthereumChain","_wallet_switchEthereumChain","fetch","body","mode","headers","json","serializeError","eth_newFilter","_eth_newFilter","eth_newBlockFilter","_eth_newBlockFilter","eth_newPendingTransactionFilter","_eth_newPendingTransactionFilter","eth_getFilterChanges","_eth_getFilterChanges","eth_getFilterLogs","_eth_getFilterLogs","eth_subscribe","eth_unsubscribe","_isKnownAddress","addressString","_a","_ensureKnownAddress","_prepareTransactionParams","tx","fromAddress","toAddress","to","weiValue","alloc","nonce","gasPriceInWei","gasPrice","maxFeePerGas","maxPriorityFeePerGas","gasLimit","gas","_requireAuthorization","unauthorized","unsupportedMethod","_signEthereumMessage","addPrefix","typedDataJson","signEthereumMessage","userRejectedRequest","_ethereumAddressFromSignedMessage","signature","ethereumAddressFromSignedMessage","requestEthereumAccounts","signEthereumTransaction","signedTransaction","submitEthereumTransaction","signAndSubmitEthereumTransaction","typedDataJSON","chainIdNumber","ethereumChain","BigInt","setAccountsCallback","accounts","setChainIdCallback","setJsonRpcUrlCallback","ScopedLocalStorage","scope","localStorage","scopedKey","removeItem","clear","prefix","keysToRemove","forEach","WalletLinkUI","setConnectDisabled","injectCssReset","cssReset_css_1","styleEl","createElement","appendChild","createTextNode","documentElement","vnodeId","isValidElement","rerenderQueue","defer","prevDebounce","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","obj","props","removeNode","node","parentNode","removeChild","ref","normalizedProps","arguments","call","defaultProps","createVNode","original","vnode","createRef","current","Fragment","Component","context","getDomSibling","childIndex","indexOf","sibling","updateParentDomPointers","child","base","enqueueRender","c","process","debounceRendering","queue","some","component","commitQueue","oldVNode","oldDom","parentDom","diff","ownerSVGElement","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","j","childVNode","newDom","firstChildDom","refs","oldChildren","oldChildrenLength","reorderChildren","placeChild","unmount","applyRef","toChildArray","out","nextDom","sibDom","outer","nextSibling","insertBefore","diffProps","dom","newProps","oldProps","hydrate","setProperty","setStyle","style","oldValue","useCapture","o","cssText","replace","_listeners","addEventListener","eventProxyCapture","eventProxy","removeEventListener","setAttribute","removeAttribute","event","newVNode","isNew","oldState","snapshot","clearProcessingException","componentContext","newType","contextType","prototype","render","doRender","sub","state","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","diffed","root","oldHtml","newHtml","nodeType","localName","createElementNS","is","childNodes","dangerouslySetInnerHTML","attributes","innerHTML","checked","parentVNode","skipRemove","componentWillUnmount","this","replaceNode","firstChild","cloneElement","createContext","defaultValue","contextId","Consumer","contextValue","Provider","subs","ctx","_props","old","splice","ctor","handled","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","toVal","mix","k","y","x","currentIndex","currentComponent","prevRaf","currentHook","afterPaintEffects","oldBeforeDiff","oldBeforeRender","oldAfterDiff","oldCommit","oldBeforeUnmount","getHookState","index","hooks","useState","initialState","useReducer","invokeOrReturn","reducer","init","hookState","_reducer","action","nextValue","useEffect","argsChanged","useLayoutEffect","useRef","initialValue","useMemo","useImperativeHandle","createHandle","factory","useCallback","useContext","useDebugValue","formatter","useErrorBoundary","errState","flushAfterPaintEffects","invokeCleanup","invokeEffect","requestAnimationFrame","raf","done","HAS_RAF","cancelAnimationFrame","hook","comp","oldArgs","newArgs","f","QR8bitByte","QRMode","MODE_8BIT_BYTE","parsedData","l","byteArray","charCodeAt","apply","getLength","buffer","write","put","QRCodeModel","typeNumber","errorCorrectLevel","modules","moduleCount","dataCache","dataList","addData","newData","isDark","row","col","getModuleCount","make","makeImpl","getBestMaskPattern","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","minLostPoint","pattern","lostPoint","QRUtil","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","cs","dark","beginFill","moveTo","lineTo","endFill","pos","getPatternPosition","getBCHTypeNumber","getBCHTypeInfo","inc","bitIndex","byteIndex","mask","getMask","PAD0","PAD1","rsBlocks","QRRSBlock","getRSBlocks","QRBitBuffer","getLengthInBits","totalDataCount","dataCount","putBit","createBytes","offset","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","rsPoly","getErrorCorrectPolynomial","rawPoly","QRPolynomial","modPoly","modIndex","totalCodeCount","MODE_NUMBER","MODE_ALPHA_NUM","MODE_KANJI","QRErrorCorrectLevel","L","M","Q","H","QRMaskPattern","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","PATTERN101","PATTERN110","PATTERN111","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","d","getBCHDigit","digit","errorCorrectLength","multiply","QRMath","gexp","qrCode","sameCount","count","darkCount","ratio","abs","glog","n","LOG_TABLE","EXP_TABLE","shift","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","bufIndex","bit","QRCodeLimitLength","QRCode","instance","padding","width","height","color","background","ecl","image","svg","content","_getErrorCorrectLevel","_getTypeNumber","_getUTF8Length","limit","len","table","encodeURI","qrcode","opt","container","pretty","indent","EOL","xsize","ysize","swap","xmlDeclaration","predefined","defs","bgrect","modrect","pathdata","px","py","t","w","toFixed","imgSvg","imgWidth","imgHeight","imgX","imgY","preact_1","hooks_1","qrcode_svg_1","setSvg","_b","bgColor","fgColor","base64","src","alt","Spinner","Spinner_css_1","class","viewBox","xmlns","cx","cy","stroke","LinkDialog","clsx_1","LinkDialog_css_1","QRCode_1","Spinner_1","isContainerHidden","setContainerHidden","isOpen","isDialogHidden","setDialogHidden","timers","darkMode","ScanQRCode","version","sessionId","sessionSecret","walletLinkUrl","isParentConnection","onCancel","CancelButton","onClick","serverUrl","encodeURIComponent","sessionIdKey","qrUrl","title","target","rel","TryExtensionLinkDialog","TryExtensionLinkDialog_css_1","link_icon_svg_1","globe_icon_svg_1","lock_icon_svg_1","QRLogo_1","TryExtensionBox","onInstallClick","open","connectDisabled","ScanQRBox","DescriptionItem","icon","text","LinkFlow","rxjs_1","LinkDialog_1","operators_1","TryExtensionLinkDialog_1","extensionUI$","BehaviorSubject","subscriptions","Subscription","connected$","enabled","desktop","extension_ui","next","attach","className","detach","parentElement","subscription","pipe","first","Snackbar","Snackbar_css_1","cblogo","gearIcon","nextItemKey","presentItem","itemProps","SnackbarContainer","entries","SnackbarInstance","menuItems","hidden","setHidden","expanded","setExpanded","toggleExpanded","isRed","svgWidth","svgHeight","defaultFillRule","defaultClipRule","path","info","WalletLinkSdkUI","WalletLinkUI_1","cssReset_1","LinkFlow_1","Snackbar_1","attached","snackbar","linkFlow","session","secret","hideRequestEthereumAccounts","showConnecting","snackbarProps","onResetConnection","reloadUI","reload","inlineAccountsResponse","inlineSwitchEthereumChain","ClientMessagePublishEvent","ClientMessageSetSessionConfig","ClientMessageGetSessionConfig","ClientMessageIsLinked","ClientMessageHostSession","RxWebSocket","ConnectionState","url","WebSocketClass","WebSocket","webSocket","connectionStateSubject","DISCONNECTED","incomingDataSubject","Subject","connect","throwError","Observable","obs","CONNECTING","onclose","evt","clearWebSocket","reason","onopen","complete","CONNECTED","onmessage","take","connectionState$","asObservable","incomingData$","incomingJSONData$","flatMap","m","empty","of","sendData","onerror","isServerMessageFail","WalletLinkConnection","ClientMessage_1","RxWebSocket_1","ServerMessage_1","HEARTBEAT_INTERVAL","REQUEST_TIMEOUT","sessionKey","destroyed","lastHeartbeatResponse","nextReqId","connectedSubject","linkedSubject","sessionConfigSubject","ReplaySubject","ws","skip","delay","retry","switchMap","iif","authenticate","tap","sendIsLinked","sendGetSessionConfig","distinctUntilChanged","catchError","timer","updateLastHeartbeat","heartbeat","linked","onlineGuests","webhookId","webhookUrl","metadata","onceConnected$","linked$","onceLinked$","sessionConfig$","incomingEvent$","sme","eventId","setSessionMetadata","makeRequest","publishEvent","callWebhook","Date","now","reqId","timeoutWith","decrypt","encrypt","plainText","ivBytes","secretKey","subtle","importKey","enc","TextEncoder","encryptedResult","iv","encode","tagLength","authTag","byteLength","encryptedPlaintext","authTagBytes","encryptedPlaintextBytes","concatted","cipherText","subscriber","encrypted","concattedBytes","algo","decrypted","decoder","TextDecoder","decode","Session","js_sha256_1","STORAGE_KEY_SESSION_ID","STORAGE_KEY_SESSION_SECRET","STORAGE_KEY_SESSION_LINKED","_secret","sha256","create","_key","_linked","load","persistedSessionIdChange$","fromEvent","newValue","persistLinked","save","Web3Method","RelayMessageType","Web3RequestCanceledMessage","RelayMessage_1","WEB3_REQUEST_CANCELED","Web3RequestMessage","WEB3_REQUEST","ChildRequestEthereumAccountsResponse","isRequestEthereumAccountsResponse","RequestEthereumAccountsResponse","SwitchEthereumChainResponse","ErrorResponse","Web3Method_1","errorMessage","isApproved","isWeb3ResponseMessage","Web3ResponseMessage","WEB3_RESPONSE","WalletLinkRelayAbstract","WALLET_USER_NAME_KEY","__createBinding","k2","enumerable","__setModuleDefault","__decorate","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","__importStar","hasOwnProperty","WalletLinkRelay","bind_decorator_1","WalletLinkConnection_1","aes256gcm","Session_1","Web3RequestCanceledMessage_1","Web3RequestMessage_1","Web3Response_1","Web3ResponseMessage_1","WalletLinkRelayAbstract_1","accountsCallback","chainIdCallback","jsonRpcUrlCallback","connection","handleIncomingEvent","__destroyed","WalletUsername","mergeMap","walletUsername","ChainId","JsonRpcUrl","jsonRpcURl","EthereumAddress","accountRequestCallbackIds","invokeCallback","ui","walletLinkUIConstructor","attachUI","getStorageItem","setStorageItem","sendChildRequest","appLogoURL","appURL","sendRequest","shouldSubmit","arbitrary","addEthereumChain","blockExplorerUrls","chainName","iconUrls","nativeCurrency","hideSnackbarItem","isRequestAccounts","isSwitchEthereumChain","cancel","publishWeb3RequestCanceledEvent","handleWeb3ResponseMessage","userAgent","navigator","onAccounts","approve","onApprove","callbacks","publishWeb3RequestEvent","disabled","origin","WalletLinkRelayEventManager","_nextRequestId","idStr","WalletLink","ScopedLocalStorage_1","WalletLinkProvider_1","WalletLinkSdkUI_1","WalletLinkRelay_1","WalletLinkRelayEventManager_1","WALLETLINK_URL","WALLETLINK_VERSION","_appName","_appLogoUrl","u","URL","walletLinkOrigin","VERSION","walletLinkExtension","makeWeb3Provider","isCipher","WalletLink_1","WalletLinkProvider_2","WalletLink_2","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","hostname","assets","asset","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","removeErrorOverlay","stack","overlay","createErrorOverlay","getElementById","remove","stackTrace","innerText","getParents","parents","Function","cached","cache"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC39GA,cACA;AACA;AACA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,YAAR,GAAuBF,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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","file":"dist.cd8eab38.js","sourceRoot":"../src","sourcesContent":["(function (module, exports) {\n  'use strict';\n\n  // Utils\n  function assert (val, msg) {\n    if (!val) throw new Error(msg || 'Assertion failed');\n  }\n\n  // Could use `inherits` module, but don't want to move from single file\n  // architecture yet.\n  function inherits (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    var TempCtor = function () {};\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  }\n\n  // BN\n\n  function BN (number, base, endian) {\n    if (BN.isBN(number)) {\n      return number;\n    }\n\n    this.negative = 0;\n    this.words = null;\n    this.length = 0;\n\n    // Reduction context\n    this.red = null;\n\n    if (number !== null) {\n      if (base === 'le' || base === 'be') {\n        endian = base;\n        base = 10;\n      }\n\n      this._init(number || 0, base || 10, endian || 'be');\n    }\n  }\n  if (typeof module === 'object') {\n    module.exports = BN;\n  } else {\n    exports.BN = BN;\n  }\n\n  BN.BN = BN;\n  BN.wordSize = 26;\n\n  var Buffer;\n  try {\n    if (typeof window !== 'undefined' && typeof window.Buffer !== 'undefined') {\n      Buffer = window.Buffer;\n    } else {\n      Buffer = require('buffer').Buffer;\n    }\n  } catch (e) {\n  }\n\n  BN.isBN = function isBN (num) {\n    if (num instanceof BN) {\n      return true;\n    }\n\n    return num !== null && typeof num === 'object' &&\n      num.constructor.wordSize === BN.wordSize && Array.isArray(num.words);\n  };\n\n  BN.max = function max (left, right) {\n    if (left.cmp(right) > 0) return left;\n    return right;\n  };\n\n  BN.min = function min (left, right) {\n    if (left.cmp(right) < 0) return left;\n    return right;\n  };\n\n  BN.prototype._init = function init (number, base, endian) {\n    if (typeof number === 'number') {\n      return this._initNumber(number, base, endian);\n    }\n\n    if (typeof number === 'object') {\n      return this._initArray(number, base, endian);\n    }\n\n    if (base === 'hex') {\n      base = 16;\n    }\n    assert(base === (base | 0) && base >= 2 && base <= 36);\n\n    number = number.toString().replace(/\\s+/g, '');\n    var start = 0;\n    if (number[0] === '-') {\n      start++;\n      this.negative = 1;\n    }\n\n    if (start < number.length) {\n      if (base === 16) {\n        this._parseHex(number, start, endian);\n      } else {\n        this._parseBase(number, base, start);\n        if (endian === 'le') {\n          this._initArray(this.toArray(), base, endian);\n        }\n      }\n    }\n  };\n\n  BN.prototype._initNumber = function _initNumber (number, base, endian) {\n    if (number < 0) {\n      this.negative = 1;\n      number = -number;\n    }\n    if (number < 0x4000000) {\n      this.words = [number & 0x3ffffff];\n      this.length = 1;\n    } else if (number < 0x10000000000000) {\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff\n      ];\n      this.length = 2;\n    } else {\n      assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff,\n        1\n      ];\n      this.length = 3;\n    }\n\n    if (endian !== 'le') return;\n\n    // Reverse the bytes\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initArray = function _initArray (number, base, endian) {\n    // Perhaps a Uint8Array\n    assert(typeof number.length === 'number');\n    if (number.length <= 0) {\n      this.words = [0];\n      this.length = 1;\n      return this;\n    }\n\n    this.length = Math.ceil(number.length / 3);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    var off = 0;\n    if (endian === 'be') {\n      for (i = number.length - 1, j = 0; i >= 0; i -= 3) {\n        w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    } else if (endian === 'le') {\n      for (i = 0, j = 0; i < number.length; i += 3) {\n        w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    }\n    return this._strip();\n  };\n\n  function parseHex4Bits (string, index) {\n    var c = string.charCodeAt(index);\n    // '0' - '9'\n    if (c >= 48 && c <= 57) {\n      return c - 48;\n    // 'A' - 'F'\n    } else if (c >= 65 && c <= 70) {\n      return c - 55;\n    // 'a' - 'f'\n    } else if (c >= 97 && c <= 102) {\n      return c - 87;\n    } else {\n      assert(false, 'Invalid character in ' + string);\n    }\n  }\n\n  function parseHexByte (string, lowerBound, index) {\n    var r = parseHex4Bits(string, index);\n    if (index - 1 >= lowerBound) {\n      r |= parseHex4Bits(string, index - 1) << 4;\n    }\n    return r;\n  }\n\n  BN.prototype._parseHex = function _parseHex (number, start, endian) {\n    // Create possibly bigger array to ensure that it fits the number\n    this.length = Math.ceil((number.length - start) / 6);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    // 24-bits chunks\n    var off = 0;\n    var j = 0;\n\n    var w;\n    if (endian === 'be') {\n      for (i = number.length - 1; i >= start; i -= 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    } else {\n      var parseLength = number.length - start;\n      for (i = parseLength % 2 === 0 ? start + 1 : start; i < number.length; i += 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    }\n\n    this._strip();\n  };\n\n  function parseBase (str, start, end, mul) {\n    var r = 0;\n    var b = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r *= mul;\n\n      // 'a'\n      if (c >= 49) {\n        b = c - 49 + 0xa;\n\n      // 'A'\n      } else if (c >= 17) {\n        b = c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        b = c;\n      }\n      assert(c >= 0 && b < mul, 'Invalid character');\n      r += b;\n    }\n    return r;\n  }\n\n  BN.prototype._parseBase = function _parseBase (number, base, start) {\n    // Initialize as zero\n    this.words = [0];\n    this.length = 1;\n\n    // Find length of limb in base\n    for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base) {\n      limbLen++;\n    }\n    limbLen--;\n    limbPow = (limbPow / base) | 0;\n\n    var total = number.length - start;\n    var mod = total % limbLen;\n    var end = Math.min(total, total - mod) + start;\n\n    var word = 0;\n    for (var i = start; i < end; i += limbLen) {\n      word = parseBase(number, i, i + limbLen, base);\n\n      this.imuln(limbPow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    if (mod !== 0) {\n      var pow = 1;\n      word = parseBase(number, i, number.length, base);\n\n      for (i = 0; i < mod; i++) {\n        pow *= base;\n      }\n\n      this.imuln(pow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    this._strip();\n  };\n\n  BN.prototype.copy = function copy (dest) {\n    dest.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      dest.words[i] = this.words[i];\n    }\n    dest.length = this.length;\n    dest.negative = this.negative;\n    dest.red = this.red;\n  };\n\n  function move (dest, src) {\n    dest.words = src.words;\n    dest.length = src.length;\n    dest.negative = src.negative;\n    dest.red = src.red;\n  }\n\n  BN.prototype._move = function _move (dest) {\n    move(dest, this);\n  };\n\n  BN.prototype.clone = function clone () {\n    var r = new BN(null);\n    this.copy(r);\n    return r;\n  };\n\n  BN.prototype._expand = function _expand (size) {\n    while (this.length < size) {\n      this.words[this.length++] = 0;\n    }\n    return this;\n  };\n\n  // Remove leading `0` from `this`\n  BN.prototype._strip = function strip () {\n    while (this.length > 1 && this.words[this.length - 1] === 0) {\n      this.length--;\n    }\n    return this._normSign();\n  };\n\n  BN.prototype._normSign = function _normSign () {\n    // -0 = 0\n    if (this.length === 1 && this.words[0] === 0) {\n      this.negative = 0;\n    }\n    return this;\n  };\n\n  // Check Symbol.for because not everywhere where Symbol defined\n  // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol#Browser_compatibility\n  if (typeof Symbol !== 'undefined' && typeof Symbol.for === 'function') {\n    try {\n      BN.prototype[Symbol.for('nodejs.util.inspect.custom')] = inspect;\n    } catch (e) {\n      BN.prototype.inspect = inspect;\n    }\n  } else {\n    BN.prototype.inspect = inspect;\n  }\n\n  function inspect () {\n    return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';\n  }\n\n  /*\n\n  var zeros = [];\n  var groupSizes = [];\n  var groupBases = [];\n\n  var s = '';\n  var i = -1;\n  while (++i < BN.wordSize) {\n    zeros[i] = s;\n    s += '0';\n  }\n  groupSizes[0] = 0;\n  groupSizes[1] = 0;\n  groupBases[0] = 0;\n  groupBases[1] = 0;\n  var base = 2 - 1;\n  while (++base < 36 + 1) {\n    var groupSize = 0;\n    var groupBase = 1;\n    while (groupBase < (1 << BN.wordSize) / base) {\n      groupBase *= base;\n      groupSize += 1;\n    }\n    groupSizes[base] = groupSize;\n    groupBases[base] = groupBase;\n  }\n\n  */\n\n  var zeros = [\n    '',\n    '0',\n    '00',\n    '000',\n    '0000',\n    '00000',\n    '000000',\n    '0000000',\n    '00000000',\n    '000000000',\n    '0000000000',\n    '00000000000',\n    '000000000000',\n    '0000000000000',\n    '00000000000000',\n    '000000000000000',\n    '0000000000000000',\n    '00000000000000000',\n    '000000000000000000',\n    '0000000000000000000',\n    '00000000000000000000',\n    '000000000000000000000',\n    '0000000000000000000000',\n    '00000000000000000000000',\n    '000000000000000000000000',\n    '0000000000000000000000000'\n  ];\n\n  var groupSizes = [\n    0, 0,\n    25, 16, 12, 11, 10, 9, 8,\n    8, 7, 7, 7, 7, 6, 6,\n    6, 6, 6, 6, 6, 5, 5,\n    5, 5, 5, 5, 5, 5, 5,\n    5, 5, 5, 5, 5, 5, 5\n  ];\n\n  var groupBases = [\n    0, 0,\n    33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,\n    43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,\n    16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632,\n    6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149,\n    24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176\n  ];\n\n  BN.prototype.toString = function toString (base, padding) {\n    base = base || 10;\n    padding = padding | 0 || 1;\n\n    var out;\n    if (base === 16 || base === 'hex') {\n      out = '';\n      var off = 0;\n      var carry = 0;\n      for (var i = 0; i < this.length; i++) {\n        var w = this.words[i];\n        var word = (((w << off) | carry) & 0xffffff).toString(16);\n        carry = (w >>> (24 - off)) & 0xffffff;\n        if (carry !== 0 || i !== this.length - 1) {\n          out = zeros[6 - word.length] + word + out;\n        } else {\n          out = word + out;\n        }\n        off += 2;\n        if (off >= 26) {\n          off -= 26;\n          i--;\n        }\n      }\n      if (carry !== 0) {\n        out = carry.toString(16) + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    if (base === (base | 0) && base >= 2 && base <= 36) {\n      // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));\n      var groupSize = groupSizes[base];\n      // var groupBase = Math.pow(base, groupSize);\n      var groupBase = groupBases[base];\n      out = '';\n      var c = this.clone();\n      c.negative = 0;\n      while (!c.isZero()) {\n        var r = c.modrn(groupBase).toString(base);\n        c = c.idivn(groupBase);\n\n        if (!c.isZero()) {\n          out = zeros[groupSize - r.length] + r + out;\n        } else {\n          out = r + out;\n        }\n      }\n      if (this.isZero()) {\n        out = '0' + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    assert(false, 'Base should be between 2 and 36');\n  };\n\n  BN.prototype.toNumber = function toNumber () {\n    var ret = this.words[0];\n    if (this.length === 2) {\n      ret += this.words[1] * 0x4000000;\n    } else if (this.length === 3 && this.words[2] === 0x01) {\n      // NOTE: at this stage it is known that the top bit is set\n      ret += 0x10000000000000 + (this.words[1] * 0x4000000);\n    } else if (this.length > 2) {\n      assert(false, 'Number can only safely store up to 53 bits');\n    }\n    return (this.negative !== 0) ? -ret : ret;\n  };\n\n  BN.prototype.toJSON = function toJSON () {\n    return this.toString(16, 2);\n  };\n\n  if (Buffer) {\n    BN.prototype.toBuffer = function toBuffer (endian, length) {\n      return this.toArrayLike(Buffer, endian, length);\n    };\n  }\n\n  BN.prototype.toArray = function toArray (endian, length) {\n    return this.toArrayLike(Array, endian, length);\n  };\n\n  var allocate = function allocate (ArrayType, size) {\n    if (ArrayType.allocUnsafe) {\n      return ArrayType.allocUnsafe(size);\n    }\n    return new ArrayType(size);\n  };\n\n  BN.prototype.toArrayLike = function toArrayLike (ArrayType, endian, length) {\n    this._strip();\n\n    var byteLength = this.byteLength();\n    var reqLength = length || Math.max(1, byteLength);\n    assert(byteLength <= reqLength, 'byte array longer than desired length');\n    assert(reqLength > 0, 'Requested array length <= 0');\n\n    var res = allocate(ArrayType, reqLength);\n    var postfix = endian === 'le' ? 'LE' : 'BE';\n    this['_toArrayLike' + postfix](res, byteLength);\n    return res;\n  };\n\n  BN.prototype._toArrayLikeLE = function _toArrayLikeLE (res, byteLength) {\n    var position = 0;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position++] = word & 0xff;\n      if (position < res.length) {\n        res[position++] = (word >> 8) & 0xff;\n      }\n      if (position < res.length) {\n        res[position++] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position < res.length) {\n          res[position++] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position < res.length) {\n      res[position++] = carry;\n\n      while (position < res.length) {\n        res[position++] = 0;\n      }\n    }\n  };\n\n  BN.prototype._toArrayLikeBE = function _toArrayLikeBE (res, byteLength) {\n    var position = res.length - 1;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position--] = word & 0xff;\n      if (position >= 0) {\n        res[position--] = (word >> 8) & 0xff;\n      }\n      if (position >= 0) {\n        res[position--] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position >= 0) {\n          res[position--] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position >= 0) {\n      res[position--] = carry;\n\n      while (position >= 0) {\n        res[position--] = 0;\n      }\n    }\n  };\n\n  if (Math.clz32) {\n    BN.prototype._countBits = function _countBits (w) {\n      return 32 - Math.clz32(w);\n    };\n  } else {\n    BN.prototype._countBits = function _countBits (w) {\n      var t = w;\n      var r = 0;\n      if (t >= 0x1000) {\n        r += 13;\n        t >>>= 13;\n      }\n      if (t >= 0x40) {\n        r += 7;\n        t >>>= 7;\n      }\n      if (t >= 0x8) {\n        r += 4;\n        t >>>= 4;\n      }\n      if (t >= 0x02) {\n        r += 2;\n        t >>>= 2;\n      }\n      return r + t;\n    };\n  }\n\n  BN.prototype._zeroBits = function _zeroBits (w) {\n    // Short-cut\n    if (w === 0) return 26;\n\n    var t = w;\n    var r = 0;\n    if ((t & 0x1fff) === 0) {\n      r += 13;\n      t >>>= 13;\n    }\n    if ((t & 0x7f) === 0) {\n      r += 7;\n      t >>>= 7;\n    }\n    if ((t & 0xf) === 0) {\n      r += 4;\n      t >>>= 4;\n    }\n    if ((t & 0x3) === 0) {\n      r += 2;\n      t >>>= 2;\n    }\n    if ((t & 0x1) === 0) {\n      r++;\n    }\n    return r;\n  };\n\n  // Return number of used bits in a BN\n  BN.prototype.bitLength = function bitLength () {\n    var w = this.words[this.length - 1];\n    var hi = this._countBits(w);\n    return (this.length - 1) * 26 + hi;\n  };\n\n  function toBitArray (num) {\n    var w = new Array(num.bitLength());\n\n    for (var bit = 0; bit < w.length; bit++) {\n      var off = (bit / 26) | 0;\n      var wbit = bit % 26;\n\n      w[bit] = (num.words[off] >>> wbit) & 0x01;\n    }\n\n    return w;\n  }\n\n  // Number of trailing zero bits\n  BN.prototype.zeroBits = function zeroBits () {\n    if (this.isZero()) return 0;\n\n    var r = 0;\n    for (var i = 0; i < this.length; i++) {\n      var b = this._zeroBits(this.words[i]);\n      r += b;\n      if (b !== 26) break;\n    }\n    return r;\n  };\n\n  BN.prototype.byteLength = function byteLength () {\n    return Math.ceil(this.bitLength() / 8);\n  };\n\n  BN.prototype.toTwos = function toTwos (width) {\n    if (this.negative !== 0) {\n      return this.abs().inotn(width).iaddn(1);\n    }\n    return this.clone();\n  };\n\n  BN.prototype.fromTwos = function fromTwos (width) {\n    if (this.testn(width - 1)) {\n      return this.notn(width).iaddn(1).ineg();\n    }\n    return this.clone();\n  };\n\n  BN.prototype.isNeg = function isNeg () {\n    return this.negative !== 0;\n  };\n\n  // Return negative clone of `this`\n  BN.prototype.neg = function neg () {\n    return this.clone().ineg();\n  };\n\n  BN.prototype.ineg = function ineg () {\n    if (!this.isZero()) {\n      this.negative ^= 1;\n    }\n\n    return this;\n  };\n\n  // Or `num` with `this` in-place\n  BN.prototype.iuor = function iuor (num) {\n    while (this.length < num.length) {\n      this.words[this.length++] = 0;\n    }\n\n    for (var i = 0; i < num.length; i++) {\n      this.words[i] = this.words[i] | num.words[i];\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ior = function ior (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuor(num);\n  };\n\n  // Or `num` with `this`\n  BN.prototype.or = function or (num) {\n    if (this.length > num.length) return this.clone().ior(num);\n    return num.clone().ior(this);\n  };\n\n  BN.prototype.uor = function uor (num) {\n    if (this.length > num.length) return this.clone().iuor(num);\n    return num.clone().iuor(this);\n  };\n\n  // And `num` with `this` in-place\n  BN.prototype.iuand = function iuand (num) {\n    // b = min-length(num, this)\n    var b;\n    if (this.length > num.length) {\n      b = num;\n    } else {\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = this.words[i] & num.words[i];\n    }\n\n    this.length = b.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.iand = function iand (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuand(num);\n  };\n\n  // And `num` with `this`\n  BN.prototype.and = function and (num) {\n    if (this.length > num.length) return this.clone().iand(num);\n    return num.clone().iand(this);\n  };\n\n  BN.prototype.uand = function uand (num) {\n    if (this.length > num.length) return this.clone().iuand(num);\n    return num.clone().iuand(this);\n  };\n\n  // Xor `num` with `this` in-place\n  BN.prototype.iuxor = function iuxor (num) {\n    // a.length > b.length\n    var a;\n    var b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = a.words[i] ^ b.words[i];\n    }\n\n    if (this !== a) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = a.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.ixor = function ixor (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuxor(num);\n  };\n\n  // Xor `num` with `this`\n  BN.prototype.xor = function xor (num) {\n    if (this.length > num.length) return this.clone().ixor(num);\n    return num.clone().ixor(this);\n  };\n\n  BN.prototype.uxor = function uxor (num) {\n    if (this.length > num.length) return this.clone().iuxor(num);\n    return num.clone().iuxor(this);\n  };\n\n  // Not ``this`` with ``width`` bitwidth\n  BN.prototype.inotn = function inotn (width) {\n    assert(typeof width === 'number' && width >= 0);\n\n    var bytesNeeded = Math.ceil(width / 26) | 0;\n    var bitsLeft = width % 26;\n\n    // Extend the buffer with leading zeroes\n    this._expand(bytesNeeded);\n\n    if (bitsLeft > 0) {\n      bytesNeeded--;\n    }\n\n    // Handle complete words\n    for (var i = 0; i < bytesNeeded; i++) {\n      this.words[i] = ~this.words[i] & 0x3ffffff;\n    }\n\n    // Handle the residue\n    if (bitsLeft > 0) {\n      this.words[i] = ~this.words[i] & (0x3ffffff >> (26 - bitsLeft));\n    }\n\n    // And remove leading zeroes\n    return this._strip();\n  };\n\n  BN.prototype.notn = function notn (width) {\n    return this.clone().inotn(width);\n  };\n\n  // Set `bit` of `this`\n  BN.prototype.setn = function setn (bit, val) {\n    assert(typeof bit === 'number' && bit >= 0);\n\n    var off = (bit / 26) | 0;\n    var wbit = bit % 26;\n\n    this._expand(off + 1);\n\n    if (val) {\n      this.words[off] = this.words[off] | (1 << wbit);\n    } else {\n      this.words[off] = this.words[off] & ~(1 << wbit);\n    }\n\n    return this._strip();\n  };\n\n  // Add `num` to `this` in-place\n  BN.prototype.iadd = function iadd (num) {\n    var r;\n\n    // negative + positive\n    if (this.negative !== 0 && num.negative === 0) {\n      this.negative = 0;\n      r = this.isub(num);\n      this.negative ^= 1;\n      return this._normSign();\n\n    // positive + negative\n    } else if (this.negative === 0 && num.negative !== 0) {\n      num.negative = 0;\n      r = this.isub(num);\n      num.negative = 1;\n      return r._normSign();\n    }\n\n    // a.length > b.length\n    var a, b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) + (b.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n\n    this.length = a.length;\n    if (carry !== 0) {\n      this.words[this.length] = carry;\n      this.length++;\n    // Copy the rest of the words\n    } else if (a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    return this;\n  };\n\n  // Add `num` to `this`\n  BN.prototype.add = function add (num) {\n    var res;\n    if (num.negative !== 0 && this.negative === 0) {\n      num.negative = 0;\n      res = this.sub(num);\n      num.negative ^= 1;\n      return res;\n    } else if (num.negative === 0 && this.negative !== 0) {\n      this.negative = 0;\n      res = num.sub(this);\n      this.negative = 1;\n      return res;\n    }\n\n    if (this.length > num.length) return this.clone().iadd(num);\n\n    return num.clone().iadd(this);\n  };\n\n  // Subtract `num` from `this` in-place\n  BN.prototype.isub = function isub (num) {\n    // this - (-num) = this + num\n    if (num.negative !== 0) {\n      num.negative = 0;\n      var r = this.iadd(num);\n      num.negative = 1;\n      return r._normSign();\n\n    // -this - num = -(this + num)\n    } else if (this.negative !== 0) {\n      this.negative = 0;\n      this.iadd(num);\n      this.negative = 1;\n      return this._normSign();\n    }\n\n    // At this point both numbers are positive\n    var cmp = this.cmp(num);\n\n    // Optimization - zeroify\n    if (cmp === 0) {\n      this.negative = 0;\n      this.length = 1;\n      this.words[0] = 0;\n      return this;\n    }\n\n    // a > b\n    var a, b;\n    if (cmp > 0) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) - (b.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n\n    // Copy rest of the words\n    if (carry === 0 && i < a.length && a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = Math.max(this.length, i);\n\n    if (a !== this) {\n      this.negative = 1;\n    }\n\n    return this._strip();\n  };\n\n  // Subtract `num` from `this`\n  BN.prototype.sub = function sub (num) {\n    return this.clone().isub(num);\n  };\n\n  function smallMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    var len = (self.length + num.length) | 0;\n    out.length = len;\n    len = (len - 1) | 0;\n\n    // Peel one iteration (compiler can't do it, because of code complexity)\n    var a = self.words[0] | 0;\n    var b = num.words[0] | 0;\n    var r = a * b;\n\n    var lo = r & 0x3ffffff;\n    var carry = (r / 0x4000000) | 0;\n    out.words[0] = lo;\n\n    for (var k = 1; k < len; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = carry >>> 26;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = (k - j) | 0;\n        a = self.words[i] | 0;\n        b = num.words[j] | 0;\n        r = a * b + rword;\n        ncarry += (r / 0x4000000) | 0;\n        rword = r & 0x3ffffff;\n      }\n      out.words[k] = rword | 0;\n      carry = ncarry | 0;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry | 0;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  // TODO(indutny): it may be reasonable to omit it for users who don't need\n  // to work with 256-bit numbers, otherwise it gives 20% improvement for 256-bit\n  // multiplication (like elliptic secp256k1).\n  var comb10MulTo = function comb10MulTo (self, num, out) {\n    var a = self.words;\n    var b = num.words;\n    var o = out.words;\n    var c = 0;\n    var lo;\n    var mid;\n    var hi;\n    var a0 = a[0] | 0;\n    var al0 = a0 & 0x1fff;\n    var ah0 = a0 >>> 13;\n    var a1 = a[1] | 0;\n    var al1 = a1 & 0x1fff;\n    var ah1 = a1 >>> 13;\n    var a2 = a[2] | 0;\n    var al2 = a2 & 0x1fff;\n    var ah2 = a2 >>> 13;\n    var a3 = a[3] | 0;\n    var al3 = a3 & 0x1fff;\n    var ah3 = a3 >>> 13;\n    var a4 = a[4] | 0;\n    var al4 = a4 & 0x1fff;\n    var ah4 = a4 >>> 13;\n    var a5 = a[5] | 0;\n    var al5 = a5 & 0x1fff;\n    var ah5 = a5 >>> 13;\n    var a6 = a[6] | 0;\n    var al6 = a6 & 0x1fff;\n    var ah6 = a6 >>> 13;\n    var a7 = a[7] | 0;\n    var al7 = a7 & 0x1fff;\n    var ah7 = a7 >>> 13;\n    var a8 = a[8] | 0;\n    var al8 = a8 & 0x1fff;\n    var ah8 = a8 >>> 13;\n    var a9 = a[9] | 0;\n    var al9 = a9 & 0x1fff;\n    var ah9 = a9 >>> 13;\n    var b0 = b[0] | 0;\n    var bl0 = b0 & 0x1fff;\n    var bh0 = b0 >>> 13;\n    var b1 = b[1] | 0;\n    var bl1 = b1 & 0x1fff;\n    var bh1 = b1 >>> 13;\n    var b2 = b[2] | 0;\n    var bl2 = b2 & 0x1fff;\n    var bh2 = b2 >>> 13;\n    var b3 = b[3] | 0;\n    var bl3 = b3 & 0x1fff;\n    var bh3 = b3 >>> 13;\n    var b4 = b[4] | 0;\n    var bl4 = b4 & 0x1fff;\n    var bh4 = b4 >>> 13;\n    var b5 = b[5] | 0;\n    var bl5 = b5 & 0x1fff;\n    var bh5 = b5 >>> 13;\n    var b6 = b[6] | 0;\n    var bl6 = b6 & 0x1fff;\n    var bh6 = b6 >>> 13;\n    var b7 = b[7] | 0;\n    var bl7 = b7 & 0x1fff;\n    var bh7 = b7 >>> 13;\n    var b8 = b[8] | 0;\n    var bl8 = b8 & 0x1fff;\n    var bh8 = b8 >>> 13;\n    var b9 = b[9] | 0;\n    var bl9 = b9 & 0x1fff;\n    var bh9 = b9 >>> 13;\n\n    out.negative = self.negative ^ num.negative;\n    out.length = 19;\n    /* k = 0 */\n    lo = Math.imul(al0, bl0);\n    mid = Math.imul(al0, bh0);\n    mid = (mid + Math.imul(ah0, bl0)) | 0;\n    hi = Math.imul(ah0, bh0);\n    var w0 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w0 >>> 26)) | 0;\n    w0 &= 0x3ffffff;\n    /* k = 1 */\n    lo = Math.imul(al1, bl0);\n    mid = Math.imul(al1, bh0);\n    mid = (mid + Math.imul(ah1, bl0)) | 0;\n    hi = Math.imul(ah1, bh0);\n    lo = (lo + Math.imul(al0, bl1)) | 0;\n    mid = (mid + Math.imul(al0, bh1)) | 0;\n    mid = (mid + Math.imul(ah0, bl1)) | 0;\n    hi = (hi + Math.imul(ah0, bh1)) | 0;\n    var w1 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w1 >>> 26)) | 0;\n    w1 &= 0x3ffffff;\n    /* k = 2 */\n    lo = Math.imul(al2, bl0);\n    mid = Math.imul(al2, bh0);\n    mid = (mid + Math.imul(ah2, bl0)) | 0;\n    hi = Math.imul(ah2, bh0);\n    lo = (lo + Math.imul(al1, bl1)) | 0;\n    mid = (mid + Math.imul(al1, bh1)) | 0;\n    mid = (mid + Math.imul(ah1, bl1)) | 0;\n    hi = (hi + Math.imul(ah1, bh1)) | 0;\n    lo = (lo + Math.imul(al0, bl2)) | 0;\n    mid = (mid + Math.imul(al0, bh2)) | 0;\n    mid = (mid + Math.imul(ah0, bl2)) | 0;\n    hi = (hi + Math.imul(ah0, bh2)) | 0;\n    var w2 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w2 >>> 26)) | 0;\n    w2 &= 0x3ffffff;\n    /* k = 3 */\n    lo = Math.imul(al3, bl0);\n    mid = Math.imul(al3, bh0);\n    mid = (mid + Math.imul(ah3, bl0)) | 0;\n    hi = Math.imul(ah3, bh0);\n    lo = (lo + Math.imul(al2, bl1)) | 0;\n    mid = (mid + Math.imul(al2, bh1)) | 0;\n    mid = (mid + Math.imul(ah2, bl1)) | 0;\n    hi = (hi + Math.imul(ah2, bh1)) | 0;\n    lo = (lo + Math.imul(al1, bl2)) | 0;\n    mid = (mid + Math.imul(al1, bh2)) | 0;\n    mid = (mid + Math.imul(ah1, bl2)) | 0;\n    hi = (hi + Math.imul(ah1, bh2)) | 0;\n    lo = (lo + Math.imul(al0, bl3)) | 0;\n    mid = (mid + Math.imul(al0, bh3)) | 0;\n    mid = (mid + Math.imul(ah0, bl3)) | 0;\n    hi = (hi + Math.imul(ah0, bh3)) | 0;\n    var w3 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w3 >>> 26)) | 0;\n    w3 &= 0x3ffffff;\n    /* k = 4 */\n    lo = Math.imul(al4, bl0);\n    mid = Math.imul(al4, bh0);\n    mid = (mid + Math.imul(ah4, bl0)) | 0;\n    hi = Math.imul(ah4, bh0);\n    lo = (lo + Math.imul(al3, bl1)) | 0;\n    mid = (mid + Math.imul(al3, bh1)) | 0;\n    mid = (mid + Math.imul(ah3, bl1)) | 0;\n    hi = (hi + Math.imul(ah3, bh1)) | 0;\n    lo = (lo + Math.imul(al2, bl2)) | 0;\n    mid = (mid + Math.imul(al2, bh2)) | 0;\n    mid = (mid + Math.imul(ah2, bl2)) | 0;\n    hi = (hi + Math.imul(ah2, bh2)) | 0;\n    lo = (lo + Math.imul(al1, bl3)) | 0;\n    mid = (mid + Math.imul(al1, bh3)) | 0;\n    mid = (mid + Math.imul(ah1, bl3)) | 0;\n    hi = (hi + Math.imul(ah1, bh3)) | 0;\n    lo = (lo + Math.imul(al0, bl4)) | 0;\n    mid = (mid + Math.imul(al0, bh4)) | 0;\n    mid = (mid + Math.imul(ah0, bl4)) | 0;\n    hi = (hi + Math.imul(ah0, bh4)) | 0;\n    var w4 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w4 >>> 26)) | 0;\n    w4 &= 0x3ffffff;\n    /* k = 5 */\n    lo = Math.imul(al5, bl0);\n    mid = Math.imul(al5, bh0);\n    mid = (mid + Math.imul(ah5, bl0)) | 0;\n    hi = Math.imul(ah5, bh0);\n    lo = (lo + Math.imul(al4, bl1)) | 0;\n    mid = (mid + Math.imul(al4, bh1)) | 0;\n    mid = (mid + Math.imul(ah4, bl1)) | 0;\n    hi = (hi + Math.imul(ah4, bh1)) | 0;\n    lo = (lo + Math.imul(al3, bl2)) | 0;\n    mid = (mid + Math.imul(al3, bh2)) | 0;\n    mid = (mid + Math.imul(ah3, bl2)) | 0;\n    hi = (hi + Math.imul(ah3, bh2)) | 0;\n    lo = (lo + Math.imul(al2, bl3)) | 0;\n    mid = (mid + Math.imul(al2, bh3)) | 0;\n    mid = (mid + Math.imul(ah2, bl3)) | 0;\n    hi = (hi + Math.imul(ah2, bh3)) | 0;\n    lo = (lo + Math.imul(al1, bl4)) | 0;\n    mid = (mid + Math.imul(al1, bh4)) | 0;\n    mid = (mid + Math.imul(ah1, bl4)) | 0;\n    hi = (hi + Math.imul(ah1, bh4)) | 0;\n    lo = (lo + Math.imul(al0, bl5)) | 0;\n    mid = (mid + Math.imul(al0, bh5)) | 0;\n    mid = (mid + Math.imul(ah0, bl5)) | 0;\n    hi = (hi + Math.imul(ah0, bh5)) | 0;\n    var w5 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w5 >>> 26)) | 0;\n    w5 &= 0x3ffffff;\n    /* k = 6 */\n    lo = Math.imul(al6, bl0);\n    mid = Math.imul(al6, bh0);\n    mid = (mid + Math.imul(ah6, bl0)) | 0;\n    hi = Math.imul(ah6, bh0);\n    lo = (lo + Math.imul(al5, bl1)) | 0;\n    mid = (mid + Math.imul(al5, bh1)) | 0;\n    mid = (mid + Math.imul(ah5, bl1)) | 0;\n    hi = (hi + Math.imul(ah5, bh1)) | 0;\n    lo = (lo + Math.imul(al4, bl2)) | 0;\n    mid = (mid + Math.imul(al4, bh2)) | 0;\n    mid = (mid + Math.imul(ah4, bl2)) | 0;\n    hi = (hi + Math.imul(ah4, bh2)) | 0;\n    lo = (lo + Math.imul(al3, bl3)) | 0;\n    mid = (mid + Math.imul(al3, bh3)) | 0;\n    mid = (mid + Math.imul(ah3, bl3)) | 0;\n    hi = (hi + Math.imul(ah3, bh3)) | 0;\n    lo = (lo + Math.imul(al2, bl4)) | 0;\n    mid = (mid + Math.imul(al2, bh4)) | 0;\n    mid = (mid + Math.imul(ah2, bl4)) | 0;\n    hi = (hi + Math.imul(ah2, bh4)) | 0;\n    lo = (lo + Math.imul(al1, bl5)) | 0;\n    mid = (mid + Math.imul(al1, bh5)) | 0;\n    mid = (mid + Math.imul(ah1, bl5)) | 0;\n    hi = (hi + Math.imul(ah1, bh5)) | 0;\n    lo = (lo + Math.imul(al0, bl6)) | 0;\n    mid = (mid + Math.imul(al0, bh6)) | 0;\n    mid = (mid + Math.imul(ah0, bl6)) | 0;\n    hi = (hi + Math.imul(ah0, bh6)) | 0;\n    var w6 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w6 >>> 26)) | 0;\n    w6 &= 0x3ffffff;\n    /* k = 7 */\n    lo = Math.imul(al7, bl0);\n    mid = Math.imul(al7, bh0);\n    mid = (mid + Math.imul(ah7, bl0)) | 0;\n    hi = Math.imul(ah7, bh0);\n    lo = (lo + Math.imul(al6, bl1)) | 0;\n    mid = (mid + Math.imul(al6, bh1)) | 0;\n    mid = (mid + Math.imul(ah6, bl1)) | 0;\n    hi = (hi + Math.imul(ah6, bh1)) | 0;\n    lo = (lo + Math.imul(al5, bl2)) | 0;\n    mid = (mid + Math.imul(al5, bh2)) | 0;\n    mid = (mid + Math.imul(ah5, bl2)) | 0;\n    hi = (hi + Math.imul(ah5, bh2)) | 0;\n    lo = (lo + Math.imul(al4, bl3)) | 0;\n    mid = (mid + Math.imul(al4, bh3)) | 0;\n    mid = (mid + Math.imul(ah4, bl3)) | 0;\n    hi = (hi + Math.imul(ah4, bh3)) | 0;\n    lo = (lo + Math.imul(al3, bl4)) | 0;\n    mid = (mid + Math.imul(al3, bh4)) | 0;\n    mid = (mid + Math.imul(ah3, bl4)) | 0;\n    hi = (hi + Math.imul(ah3, bh4)) | 0;\n    lo = (lo + Math.imul(al2, bl5)) | 0;\n    mid = (mid + Math.imul(al2, bh5)) | 0;\n    mid = (mid + Math.imul(ah2, bl5)) | 0;\n    hi = (hi + Math.imul(ah2, bh5)) | 0;\n    lo = (lo + Math.imul(al1, bl6)) | 0;\n    mid = (mid + Math.imul(al1, bh6)) | 0;\n    mid = (mid + Math.imul(ah1, bl6)) | 0;\n    hi = (hi + Math.imul(ah1, bh6)) | 0;\n    lo = (lo + Math.imul(al0, bl7)) | 0;\n    mid = (mid + Math.imul(al0, bh7)) | 0;\n    mid = (mid + Math.imul(ah0, bl7)) | 0;\n    hi = (hi + Math.imul(ah0, bh7)) | 0;\n    var w7 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w7 >>> 26)) | 0;\n    w7 &= 0x3ffffff;\n    /* k = 8 */\n    lo = Math.imul(al8, bl0);\n    mid = Math.imul(al8, bh0);\n    mid = (mid + Math.imul(ah8, bl0)) | 0;\n    hi = Math.imul(ah8, bh0);\n    lo = (lo + Math.imul(al7, bl1)) | 0;\n    mid = (mid + Math.imul(al7, bh1)) | 0;\n    mid = (mid + Math.imul(ah7, bl1)) | 0;\n    hi = (hi + Math.imul(ah7, bh1)) | 0;\n    lo = (lo + Math.imul(al6, bl2)) | 0;\n    mid = (mid + Math.imul(al6, bh2)) | 0;\n    mid = (mid + Math.imul(ah6, bl2)) | 0;\n    hi = (hi + Math.imul(ah6, bh2)) | 0;\n    lo = (lo + Math.imul(al5, bl3)) | 0;\n    mid = (mid + Math.imul(al5, bh3)) | 0;\n    mid = (mid + Math.imul(ah5, bl3)) | 0;\n    hi = (hi + Math.imul(ah5, bh3)) | 0;\n    lo = (lo + Math.imul(al4, bl4)) | 0;\n    mid = (mid + Math.imul(al4, bh4)) | 0;\n    mid = (mid + Math.imul(ah4, bl4)) | 0;\n    hi = (hi + Math.imul(ah4, bh4)) | 0;\n    lo = (lo + Math.imul(al3, bl5)) | 0;\n    mid = (mid + Math.imul(al3, bh5)) | 0;\n    mid = (mid + Math.imul(ah3, bl5)) | 0;\n    hi = (hi + Math.imul(ah3, bh5)) | 0;\n    lo = (lo + Math.imul(al2, bl6)) | 0;\n    mid = (mid + Math.imul(al2, bh6)) | 0;\n    mid = (mid + Math.imul(ah2, bl6)) | 0;\n    hi = (hi + Math.imul(ah2, bh6)) | 0;\n    lo = (lo + Math.imul(al1, bl7)) | 0;\n    mid = (mid + Math.imul(al1, bh7)) | 0;\n    mid = (mid + Math.imul(ah1, bl7)) | 0;\n    hi = (hi + Math.imul(ah1, bh7)) | 0;\n    lo = (lo + Math.imul(al0, bl8)) | 0;\n    mid = (mid + Math.imul(al0, bh8)) | 0;\n    mid = (mid + Math.imul(ah0, bl8)) | 0;\n    hi = (hi + Math.imul(ah0, bh8)) | 0;\n    var w8 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w8 >>> 26)) | 0;\n    w8 &= 0x3ffffff;\n    /* k = 9 */\n    lo = Math.imul(al9, bl0);\n    mid = Math.imul(al9, bh0);\n    mid = (mid + Math.imul(ah9, bl0)) | 0;\n    hi = Math.imul(ah9, bh0);\n    lo = (lo + Math.imul(al8, bl1)) | 0;\n    mid = (mid + Math.imul(al8, bh1)) | 0;\n    mid = (mid + Math.imul(ah8, bl1)) | 0;\n    hi = (hi + Math.imul(ah8, bh1)) | 0;\n    lo = (lo + Math.imul(al7, bl2)) | 0;\n    mid = (mid + Math.imul(al7, bh2)) | 0;\n    mid = (mid + Math.imul(ah7, bl2)) | 0;\n    hi = (hi + Math.imul(ah7, bh2)) | 0;\n    lo = (lo + Math.imul(al6, bl3)) | 0;\n    mid = (mid + Math.imul(al6, bh3)) | 0;\n    mid = (mid + Math.imul(ah6, bl3)) | 0;\n    hi = (hi + Math.imul(ah6, bh3)) | 0;\n    lo = (lo + Math.imul(al5, bl4)) | 0;\n    mid = (mid + Math.imul(al5, bh4)) | 0;\n    mid = (mid + Math.imul(ah5, bl4)) | 0;\n    hi = (hi + Math.imul(ah5, bh4)) | 0;\n    lo = (lo + Math.imul(al4, bl5)) | 0;\n    mid = (mid + Math.imul(al4, bh5)) | 0;\n    mid = (mid + Math.imul(ah4, bl5)) | 0;\n    hi = (hi + Math.imul(ah4, bh5)) | 0;\n    lo = (lo + Math.imul(al3, bl6)) | 0;\n    mid = (mid + Math.imul(al3, bh6)) | 0;\n    mid = (mid + Math.imul(ah3, bl6)) | 0;\n    hi = (hi + Math.imul(ah3, bh6)) | 0;\n    lo = (lo + Math.imul(al2, bl7)) | 0;\n    mid = (mid + Math.imul(al2, bh7)) | 0;\n    mid = (mid + Math.imul(ah2, bl7)) | 0;\n    hi = (hi + Math.imul(ah2, bh7)) | 0;\n    lo = (lo + Math.imul(al1, bl8)) | 0;\n    mid = (mid + Math.imul(al1, bh8)) | 0;\n    mid = (mid + Math.imul(ah1, bl8)) | 0;\n    hi = (hi + Math.imul(ah1, bh8)) | 0;\n    lo = (lo + Math.imul(al0, bl9)) | 0;\n    mid = (mid + Math.imul(al0, bh9)) | 0;\n    mid = (mid + Math.imul(ah0, bl9)) | 0;\n    hi = (hi + Math.imul(ah0, bh9)) | 0;\n    var w9 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w9 >>> 26)) | 0;\n    w9 &= 0x3ffffff;\n    /* k = 10 */\n    lo = Math.imul(al9, bl1);\n    mid = Math.imul(al9, bh1);\n    mid = (mid + Math.imul(ah9, bl1)) | 0;\n    hi = Math.imul(ah9, bh1);\n    lo = (lo + Math.imul(al8, bl2)) | 0;\n    mid = (mid + Math.imul(al8, bh2)) | 0;\n    mid = (mid + Math.imul(ah8, bl2)) | 0;\n    hi = (hi + Math.imul(ah8, bh2)) | 0;\n    lo = (lo + Math.imul(al7, bl3)) | 0;\n    mid = (mid + Math.imul(al7, bh3)) | 0;\n    mid = (mid + Math.imul(ah7, bl3)) | 0;\n    hi = (hi + Math.imul(ah7, bh3)) | 0;\n    lo = (lo + Math.imul(al6, bl4)) | 0;\n    mid = (mid + Math.imul(al6, bh4)) | 0;\n    mid = (mid + Math.imul(ah6, bl4)) | 0;\n    hi = (hi + Math.imul(ah6, bh4)) | 0;\n    lo = (lo + Math.imul(al5, bl5)) | 0;\n    mid = (mid + Math.imul(al5, bh5)) | 0;\n    mid = (mid + Math.imul(ah5, bl5)) | 0;\n    hi = (hi + Math.imul(ah5, bh5)) | 0;\n    lo = (lo + Math.imul(al4, bl6)) | 0;\n    mid = (mid + Math.imul(al4, bh6)) | 0;\n    mid = (mid + Math.imul(ah4, bl6)) | 0;\n    hi = (hi + Math.imul(ah4, bh6)) | 0;\n    lo = (lo + Math.imul(al3, bl7)) | 0;\n    mid = (mid + Math.imul(al3, bh7)) | 0;\n    mid = (mid + Math.imul(ah3, bl7)) | 0;\n    hi = (hi + Math.imul(ah3, bh7)) | 0;\n    lo = (lo + Math.imul(al2, bl8)) | 0;\n    mid = (mid + Math.imul(al2, bh8)) | 0;\n    mid = (mid + Math.imul(ah2, bl8)) | 0;\n    hi = (hi + Math.imul(ah2, bh8)) | 0;\n    lo = (lo + Math.imul(al1, bl9)) | 0;\n    mid = (mid + Math.imul(al1, bh9)) | 0;\n    mid = (mid + Math.imul(ah1, bl9)) | 0;\n    hi = (hi + Math.imul(ah1, bh9)) | 0;\n    var w10 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w10 >>> 26)) | 0;\n    w10 &= 0x3ffffff;\n    /* k = 11 */\n    lo = Math.imul(al9, bl2);\n    mid = Math.imul(al9, bh2);\n    mid = (mid + Math.imul(ah9, bl2)) | 0;\n    hi = Math.imul(ah9, bh2);\n    lo = (lo + Math.imul(al8, bl3)) | 0;\n    mid = (mid + Math.imul(al8, bh3)) | 0;\n    mid = (mid + Math.imul(ah8, bl3)) | 0;\n    hi = (hi + Math.imul(ah8, bh3)) | 0;\n    lo = (lo + Math.imul(al7, bl4)) | 0;\n    mid = (mid + Math.imul(al7, bh4)) | 0;\n    mid = (mid + Math.imul(ah7, bl4)) | 0;\n    hi = (hi + Math.imul(ah7, bh4)) | 0;\n    lo = (lo + Math.imul(al6, bl5)) | 0;\n    mid = (mid + Math.imul(al6, bh5)) | 0;\n    mid = (mid + Math.imul(ah6, bl5)) | 0;\n    hi = (hi + Math.imul(ah6, bh5)) | 0;\n    lo = (lo + Math.imul(al5, bl6)) | 0;\n    mid = (mid + Math.imul(al5, bh6)) | 0;\n    mid = (mid + Math.imul(ah5, bl6)) | 0;\n    hi = (hi + Math.imul(ah5, bh6)) | 0;\n    lo = (lo + Math.imul(al4, bl7)) | 0;\n    mid = (mid + Math.imul(al4, bh7)) | 0;\n    mid = (mid + Math.imul(ah4, bl7)) | 0;\n    hi = (hi + Math.imul(ah4, bh7)) | 0;\n    lo = (lo + Math.imul(al3, bl8)) | 0;\n    mid = (mid + Math.imul(al3, bh8)) | 0;\n    mid = (mid + Math.imul(ah3, bl8)) | 0;\n    hi = (hi + Math.imul(ah3, bh8)) | 0;\n    lo = (lo + Math.imul(al2, bl9)) | 0;\n    mid = (mid + Math.imul(al2, bh9)) | 0;\n    mid = (mid + Math.imul(ah2, bl9)) | 0;\n    hi = (hi + Math.imul(ah2, bh9)) | 0;\n    var w11 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w11 >>> 26)) | 0;\n    w11 &= 0x3ffffff;\n    /* k = 12 */\n    lo = Math.imul(al9, bl3);\n    mid = Math.imul(al9, bh3);\n    mid = (mid + Math.imul(ah9, bl3)) | 0;\n    hi = Math.imul(ah9, bh3);\n    lo = (lo + Math.imul(al8, bl4)) | 0;\n    mid = (mid + Math.imul(al8, bh4)) | 0;\n    mid = (mid + Math.imul(ah8, bl4)) | 0;\n    hi = (hi + Math.imul(ah8, bh4)) | 0;\n    lo = (lo + Math.imul(al7, bl5)) | 0;\n    mid = (mid + Math.imul(al7, bh5)) | 0;\n    mid = (mid + Math.imul(ah7, bl5)) | 0;\n    hi = (hi + Math.imul(ah7, bh5)) | 0;\n    lo = (lo + Math.imul(al6, bl6)) | 0;\n    mid = (mid + Math.imul(al6, bh6)) | 0;\n    mid = (mid + Math.imul(ah6, bl6)) | 0;\n    hi = (hi + Math.imul(ah6, bh6)) | 0;\n    lo = (lo + Math.imul(al5, bl7)) | 0;\n    mid = (mid + Math.imul(al5, bh7)) | 0;\n    mid = (mid + Math.imul(ah5, bl7)) | 0;\n    hi = (hi + Math.imul(ah5, bh7)) | 0;\n    lo = (lo + Math.imul(al4, bl8)) | 0;\n    mid = (mid + Math.imul(al4, bh8)) | 0;\n    mid = (mid + Math.imul(ah4, bl8)) | 0;\n    hi = (hi + Math.imul(ah4, bh8)) | 0;\n    lo = (lo + Math.imul(al3, bl9)) | 0;\n    mid = (mid + Math.imul(al3, bh9)) | 0;\n    mid = (mid + Math.imul(ah3, bl9)) | 0;\n    hi = (hi + Math.imul(ah3, bh9)) | 0;\n    var w12 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w12 >>> 26)) | 0;\n    w12 &= 0x3ffffff;\n    /* k = 13 */\n    lo = Math.imul(al9, bl4);\n    mid = Math.imul(al9, bh4);\n    mid = (mid + Math.imul(ah9, bl4)) | 0;\n    hi = Math.imul(ah9, bh4);\n    lo = (lo + Math.imul(al8, bl5)) | 0;\n    mid = (mid + Math.imul(al8, bh5)) | 0;\n    mid = (mid + Math.imul(ah8, bl5)) | 0;\n    hi = (hi + Math.imul(ah8, bh5)) | 0;\n    lo = (lo + Math.imul(al7, bl6)) | 0;\n    mid = (mid + Math.imul(al7, bh6)) | 0;\n    mid = (mid + Math.imul(ah7, bl6)) | 0;\n    hi = (hi + Math.imul(ah7, bh6)) | 0;\n    lo = (lo + Math.imul(al6, bl7)) | 0;\n    mid = (mid + Math.imul(al6, bh7)) | 0;\n    mid = (mid + Math.imul(ah6, bl7)) | 0;\n    hi = (hi + Math.imul(ah6, bh7)) | 0;\n    lo = (lo + Math.imul(al5, bl8)) | 0;\n    mid = (mid + Math.imul(al5, bh8)) | 0;\n    mid = (mid + Math.imul(ah5, bl8)) | 0;\n    hi = (hi + Math.imul(ah5, bh8)) | 0;\n    lo = (lo + Math.imul(al4, bl9)) | 0;\n    mid = (mid + Math.imul(al4, bh9)) | 0;\n    mid = (mid + Math.imul(ah4, bl9)) | 0;\n    hi = (hi + Math.imul(ah4, bh9)) | 0;\n    var w13 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w13 >>> 26)) | 0;\n    w13 &= 0x3ffffff;\n    /* k = 14 */\n    lo = Math.imul(al9, bl5);\n    mid = Math.imul(al9, bh5);\n    mid = (mid + Math.imul(ah9, bl5)) | 0;\n    hi = Math.imul(ah9, bh5);\n    lo = (lo + Math.imul(al8, bl6)) | 0;\n    mid = (mid + Math.imul(al8, bh6)) | 0;\n    mid = (mid + Math.imul(ah8, bl6)) | 0;\n    hi = (hi + Math.imul(ah8, bh6)) | 0;\n    lo = (lo + Math.imul(al7, bl7)) | 0;\n    mid = (mid + Math.imul(al7, bh7)) | 0;\n    mid = (mid + Math.imul(ah7, bl7)) | 0;\n    hi = (hi + Math.imul(ah7, bh7)) | 0;\n    lo = (lo + Math.imul(al6, bl8)) | 0;\n    mid = (mid + Math.imul(al6, bh8)) | 0;\n    mid = (mid + Math.imul(ah6, bl8)) | 0;\n    hi = (hi + Math.imul(ah6, bh8)) | 0;\n    lo = (lo + Math.imul(al5, bl9)) | 0;\n    mid = (mid + Math.imul(al5, bh9)) | 0;\n    mid = (mid + Math.imul(ah5, bl9)) | 0;\n    hi = (hi + Math.imul(ah5, bh9)) | 0;\n    var w14 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w14 >>> 26)) | 0;\n    w14 &= 0x3ffffff;\n    /* k = 15 */\n    lo = Math.imul(al9, bl6);\n    mid = Math.imul(al9, bh6);\n    mid = (mid + Math.imul(ah9, bl6)) | 0;\n    hi = Math.imul(ah9, bh6);\n    lo = (lo + Math.imul(al8, bl7)) | 0;\n    mid = (mid + Math.imul(al8, bh7)) | 0;\n    mid = (mid + Math.imul(ah8, bl7)) | 0;\n    hi = (hi + Math.imul(ah8, bh7)) | 0;\n    lo = (lo + Math.imul(al7, bl8)) | 0;\n    mid = (mid + Math.imul(al7, bh8)) | 0;\n    mid = (mid + Math.imul(ah7, bl8)) | 0;\n    hi = (hi + Math.imul(ah7, bh8)) | 0;\n    lo = (lo + Math.imul(al6, bl9)) | 0;\n    mid = (mid + Math.imul(al6, bh9)) | 0;\n    mid = (mid + Math.imul(ah6, bl9)) | 0;\n    hi = (hi + Math.imul(ah6, bh9)) | 0;\n    var w15 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w15 >>> 26)) | 0;\n    w15 &= 0x3ffffff;\n    /* k = 16 */\n    lo = Math.imul(al9, bl7);\n    mid = Math.imul(al9, bh7);\n    mid = (mid + Math.imul(ah9, bl7)) | 0;\n    hi = Math.imul(ah9, bh7);\n    lo = (lo + Math.imul(al8, bl8)) | 0;\n    mid = (mid + Math.imul(al8, bh8)) | 0;\n    mid = (mid + Math.imul(ah8, bl8)) | 0;\n    hi = (hi + Math.imul(ah8, bh8)) | 0;\n    lo = (lo + Math.imul(al7, bl9)) | 0;\n    mid = (mid + Math.imul(al7, bh9)) | 0;\n    mid = (mid + Math.imul(ah7, bl9)) | 0;\n    hi = (hi + Math.imul(ah7, bh9)) | 0;\n    var w16 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w16 >>> 26)) | 0;\n    w16 &= 0x3ffffff;\n    /* k = 17 */\n    lo = Math.imul(al9, bl8);\n    mid = Math.imul(al9, bh8);\n    mid = (mid + Math.imul(ah9, bl8)) | 0;\n    hi = Math.imul(ah9, bh8);\n    lo = (lo + Math.imul(al8, bl9)) | 0;\n    mid = (mid + Math.imul(al8, bh9)) | 0;\n    mid = (mid + Math.imul(ah8, bl9)) | 0;\n    hi = (hi + Math.imul(ah8, bh9)) | 0;\n    var w17 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w17 >>> 26)) | 0;\n    w17 &= 0x3ffffff;\n    /* k = 18 */\n    lo = Math.imul(al9, bl9);\n    mid = Math.imul(al9, bh9);\n    mid = (mid + Math.imul(ah9, bl9)) | 0;\n    hi = Math.imul(ah9, bh9);\n    var w18 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w18 >>> 26)) | 0;\n    w18 &= 0x3ffffff;\n    o[0] = w0;\n    o[1] = w1;\n    o[2] = w2;\n    o[3] = w3;\n    o[4] = w4;\n    o[5] = w5;\n    o[6] = w6;\n    o[7] = w7;\n    o[8] = w8;\n    o[9] = w9;\n    o[10] = w10;\n    o[11] = w11;\n    o[12] = w12;\n    o[13] = w13;\n    o[14] = w14;\n    o[15] = w15;\n    o[16] = w16;\n    o[17] = w17;\n    o[18] = w18;\n    if (c !== 0) {\n      o[19] = c;\n      out.length++;\n    }\n    return out;\n  };\n\n  // Polyfill comb\n  if (!Math.imul) {\n    comb10MulTo = smallMulTo;\n  }\n\n  function bigMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    out.length = self.length + num.length;\n\n    var carry = 0;\n    var hncarry = 0;\n    for (var k = 0; k < out.length - 1; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = hncarry;\n      hncarry = 0;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = k - j;\n        var a = self.words[i] | 0;\n        var b = num.words[j] | 0;\n        var r = a * b;\n\n        var lo = r & 0x3ffffff;\n        ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;\n        lo = (lo + rword) | 0;\n        rword = lo & 0x3ffffff;\n        ncarry = (ncarry + (lo >>> 26)) | 0;\n\n        hncarry += ncarry >>> 26;\n        ncarry &= 0x3ffffff;\n      }\n      out.words[k] = rword;\n      carry = ncarry;\n      ncarry = hncarry;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  function jumboMulTo (self, num, out) {\n    // Temporary disable, see https://github.com/indutny/bn.js/issues/211\n    // var fftm = new FFTM();\n    // return fftm.mulp(self, num, out);\n    return bigMulTo(self, num, out);\n  }\n\n  BN.prototype.mulTo = function mulTo (num, out) {\n    var res;\n    var len = this.length + num.length;\n    if (this.length === 10 && num.length === 10) {\n      res = comb10MulTo(this, num, out);\n    } else if (len < 63) {\n      res = smallMulTo(this, num, out);\n    } else if (len < 1024) {\n      res = bigMulTo(this, num, out);\n    } else {\n      res = jumboMulTo(this, num, out);\n    }\n\n    return res;\n  };\n\n  // Cooley-Tukey algorithm for FFT\n  // slightly revisited to rely on looping instead of recursion\n\n  function FFTM (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  FFTM.prototype.makeRBT = function makeRBT (N) {\n    var t = new Array(N);\n    var l = BN.prototype._countBits(N) - 1;\n    for (var i = 0; i < N; i++) {\n      t[i] = this.revBin(i, l, N);\n    }\n\n    return t;\n  };\n\n  // Returns binary-reversed representation of `x`\n  FFTM.prototype.revBin = function revBin (x, l, N) {\n    if (x === 0 || x === N - 1) return x;\n\n    var rb = 0;\n    for (var i = 0; i < l; i++) {\n      rb |= (x & 1) << (l - i - 1);\n      x >>= 1;\n    }\n\n    return rb;\n  };\n\n  // Performs \"tweedling\" phase, therefore 'emulating'\n  // behaviour of the recursive algorithm\n  FFTM.prototype.permute = function permute (rbt, rws, iws, rtws, itws, N) {\n    for (var i = 0; i < N; i++) {\n      rtws[i] = rws[rbt[i]];\n      itws[i] = iws[rbt[i]];\n    }\n  };\n\n  FFTM.prototype.transform = function transform (rws, iws, rtws, itws, N, rbt) {\n    this.permute(rbt, rws, iws, rtws, itws, N);\n\n    for (var s = 1; s < N; s <<= 1) {\n      var l = s << 1;\n\n      var rtwdf = Math.cos(2 * Math.PI / l);\n      var itwdf = Math.sin(2 * Math.PI / l);\n\n      for (var p = 0; p < N; p += l) {\n        var rtwdf_ = rtwdf;\n        var itwdf_ = itwdf;\n\n        for (var j = 0; j < s; j++) {\n          var re = rtws[p + j];\n          var ie = itws[p + j];\n\n          var ro = rtws[p + j + s];\n          var io = itws[p + j + s];\n\n          var rx = rtwdf_ * ro - itwdf_ * io;\n\n          io = rtwdf_ * io + itwdf_ * ro;\n          ro = rx;\n\n          rtws[p + j] = re + ro;\n          itws[p + j] = ie + io;\n\n          rtws[p + j + s] = re - ro;\n          itws[p + j + s] = ie - io;\n\n          /* jshint maxdepth : false */\n          if (j !== l) {\n            rx = rtwdf * rtwdf_ - itwdf * itwdf_;\n\n            itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;\n            rtwdf_ = rx;\n          }\n        }\n      }\n    }\n  };\n\n  FFTM.prototype.guessLen13b = function guessLen13b (n, m) {\n    var N = Math.max(m, n) | 1;\n    var odd = N & 1;\n    var i = 0;\n    for (N = N / 2 | 0; N; N = N >>> 1) {\n      i++;\n    }\n\n    return 1 << i + 1 + odd;\n  };\n\n  FFTM.prototype.conjugate = function conjugate (rws, iws, N) {\n    if (N <= 1) return;\n\n    for (var i = 0; i < N / 2; i++) {\n      var t = rws[i];\n\n      rws[i] = rws[N - i - 1];\n      rws[N - i - 1] = t;\n\n      t = iws[i];\n\n      iws[i] = -iws[N - i - 1];\n      iws[N - i - 1] = -t;\n    }\n  };\n\n  FFTM.prototype.normalize13b = function normalize13b (ws, N) {\n    var carry = 0;\n    for (var i = 0; i < N / 2; i++) {\n      var w = Math.round(ws[2 * i + 1] / N) * 0x2000 +\n        Math.round(ws[2 * i] / N) +\n        carry;\n\n      ws[i] = w & 0x3ffffff;\n\n      if (w < 0x4000000) {\n        carry = 0;\n      } else {\n        carry = w / 0x4000000 | 0;\n      }\n    }\n\n    return ws;\n  };\n\n  FFTM.prototype.convert13b = function convert13b (ws, len, rws, N) {\n    var carry = 0;\n    for (var i = 0; i < len; i++) {\n      carry = carry + (ws[i] | 0);\n\n      rws[2 * i] = carry & 0x1fff; carry = carry >>> 13;\n      rws[2 * i + 1] = carry & 0x1fff; carry = carry >>> 13;\n    }\n\n    // Pad with zeroes\n    for (i = 2 * len; i < N; ++i) {\n      rws[i] = 0;\n    }\n\n    assert(carry === 0);\n    assert((carry & ~0x1fff) === 0);\n  };\n\n  FFTM.prototype.stub = function stub (N) {\n    var ph = new Array(N);\n    for (var i = 0; i < N; i++) {\n      ph[i] = 0;\n    }\n\n    return ph;\n  };\n\n  FFTM.prototype.mulp = function mulp (x, y, out) {\n    var N = 2 * this.guessLen13b(x.length, y.length);\n\n    var rbt = this.makeRBT(N);\n\n    var _ = this.stub(N);\n\n    var rws = new Array(N);\n    var rwst = new Array(N);\n    var iwst = new Array(N);\n\n    var nrws = new Array(N);\n    var nrwst = new Array(N);\n    var niwst = new Array(N);\n\n    var rmws = out.words;\n    rmws.length = N;\n\n    this.convert13b(x.words, x.length, rws, N);\n    this.convert13b(y.words, y.length, nrws, N);\n\n    this.transform(rws, _, rwst, iwst, N, rbt);\n    this.transform(nrws, _, nrwst, niwst, N, rbt);\n\n    for (var i = 0; i < N; i++) {\n      var rx = rwst[i] * nrwst[i] - iwst[i] * niwst[i];\n      iwst[i] = rwst[i] * niwst[i] + iwst[i] * nrwst[i];\n      rwst[i] = rx;\n    }\n\n    this.conjugate(rwst, iwst, N);\n    this.transform(rwst, iwst, rmws, _, N, rbt);\n    this.conjugate(rmws, _, N);\n    this.normalize13b(rmws, N);\n\n    out.negative = x.negative ^ y.negative;\n    out.length = x.length + y.length;\n    return out._strip();\n  };\n\n  // Multiply `this` by `num`\n  BN.prototype.mul = function mul (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return this.mulTo(num, out);\n  };\n\n  // Multiply employing FFT\n  BN.prototype.mulf = function mulf (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return jumboMulTo(this, num, out);\n  };\n\n  // In-place Multiplication\n  BN.prototype.imul = function imul (num) {\n    return this.clone().mulTo(num, this);\n  };\n\n  BN.prototype.imuln = function imuln (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n\n    // Carry\n    var carry = 0;\n    for (var i = 0; i < this.length; i++) {\n      var w = (this.words[i] | 0) * num;\n      var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);\n      carry >>= 26;\n      carry += (w / 0x4000000) | 0;\n      // NOTE: lo is 27bit maximum\n      carry += lo >>> 26;\n      this.words[i] = lo & 0x3ffffff;\n    }\n\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.muln = function muln (num) {\n    return this.clone().imuln(num);\n  };\n\n  // `this` * `this`\n  BN.prototype.sqr = function sqr () {\n    return this.mul(this);\n  };\n\n  // `this` * `this` in-place\n  BN.prototype.isqr = function isqr () {\n    return this.imul(this.clone());\n  };\n\n  // Math.pow(`this`, `num`)\n  BN.prototype.pow = function pow (num) {\n    var w = toBitArray(num);\n    if (w.length === 0) return new BN(1);\n\n    // Skip leading zeroes\n    var res = this;\n    for (var i = 0; i < w.length; i++, res = res.sqr()) {\n      if (w[i] !== 0) break;\n    }\n\n    if (++i < w.length) {\n      for (var q = res.sqr(); i < w.length; i++, q = q.sqr()) {\n        if (w[i] === 0) continue;\n\n        res = res.mul(q);\n      }\n    }\n\n    return res;\n  };\n\n  // Shift-left in-place\n  BN.prototype.iushln = function iushln (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n    var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);\n    var i;\n\n    if (r !== 0) {\n      var carry = 0;\n\n      for (i = 0; i < this.length; i++) {\n        var newCarry = this.words[i] & carryMask;\n        var c = ((this.words[i] | 0) - newCarry) << r;\n        this.words[i] = c | carry;\n        carry = newCarry >>> (26 - r);\n      }\n\n      if (carry) {\n        this.words[i] = carry;\n        this.length++;\n      }\n    }\n\n    if (s !== 0) {\n      for (i = this.length - 1; i >= 0; i--) {\n        this.words[i + s] = this.words[i];\n      }\n\n      for (i = 0; i < s; i++) {\n        this.words[i] = 0;\n      }\n\n      this.length += s;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishln = function ishln (bits) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushln(bits);\n  };\n\n  // Shift-right in-place\n  // NOTE: `hint` is a lowest bit before trailing zeroes\n  // NOTE: if `extended` is present - it will be filled with destroyed bits\n  BN.prototype.iushrn = function iushrn (bits, hint, extended) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var h;\n    if (hint) {\n      h = (hint - (hint % 26)) / 26;\n    } else {\n      h = 0;\n    }\n\n    var r = bits % 26;\n    var s = Math.min((bits - r) / 26, this.length);\n    var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n    var maskedWords = extended;\n\n    h -= s;\n    h = Math.max(0, h);\n\n    // Extended mode, copy masked part\n    if (maskedWords) {\n      for (var i = 0; i < s; i++) {\n        maskedWords.words[i] = this.words[i];\n      }\n      maskedWords.length = s;\n    }\n\n    if (s === 0) {\n      // No-op, we should not move anything at all\n    } else if (this.length > s) {\n      this.length -= s;\n      for (i = 0; i < this.length; i++) {\n        this.words[i] = this.words[i + s];\n      }\n    } else {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    var carry = 0;\n    for (i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {\n      var word = this.words[i] | 0;\n      this.words[i] = (carry << (26 - r)) | (word >>> r);\n      carry = word & mask;\n    }\n\n    // Push carried bits as a mask\n    if (maskedWords && carry !== 0) {\n      maskedWords.words[maskedWords.length++] = carry;\n    }\n\n    if (this.length === 0) {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishrn = function ishrn (bits, hint, extended) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushrn(bits, hint, extended);\n  };\n\n  // Shift-left\n  BN.prototype.shln = function shln (bits) {\n    return this.clone().ishln(bits);\n  };\n\n  BN.prototype.ushln = function ushln (bits) {\n    return this.clone().iushln(bits);\n  };\n\n  // Shift-right\n  BN.prototype.shrn = function shrn (bits) {\n    return this.clone().ishrn(bits);\n  };\n\n  BN.prototype.ushrn = function ushrn (bits) {\n    return this.clone().iushrn(bits);\n  };\n\n  // Test if n bit is set\n  BN.prototype.testn = function testn (bit) {\n    assert(typeof bit === 'number' && bit >= 0);\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) return false;\n\n    // Check bit and return\n    var w = this.words[s];\n\n    return !!(w & q);\n  };\n\n  // Return only lowers bits of number (in-place)\n  BN.prototype.imaskn = function imaskn (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n\n    assert(this.negative === 0, 'imaskn works only with positive numbers');\n\n    if (this.length <= s) {\n      return this;\n    }\n\n    if (r !== 0) {\n      s++;\n    }\n    this.length = Math.min(s, this.length);\n\n    if (r !== 0) {\n      var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n      this.words[this.length - 1] &= mask;\n    }\n\n    return this._strip();\n  };\n\n  // Return only lowers bits of number\n  BN.prototype.maskn = function maskn (bits) {\n    return this.clone().imaskn(bits);\n  };\n\n  // Add plain number `num` to `this`\n  BN.prototype.iaddn = function iaddn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.isubn(-num);\n\n    // Possible sign change\n    if (this.negative !== 0) {\n      if (this.length === 1 && (this.words[0] | 0) <= num) {\n        this.words[0] = num - (this.words[0] | 0);\n        this.negative = 0;\n        return this;\n      }\n\n      this.negative = 0;\n      this.isubn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    // Add without checks\n    return this._iaddn(num);\n  };\n\n  BN.prototype._iaddn = function _iaddn (num) {\n    this.words[0] += num;\n\n    // Carry\n    for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {\n      this.words[i] -= 0x4000000;\n      if (i === this.length - 1) {\n        this.words[i + 1] = 1;\n      } else {\n        this.words[i + 1]++;\n      }\n    }\n    this.length = Math.max(this.length, i + 1);\n\n    return this;\n  };\n\n  // Subtract plain number `num` from `this`\n  BN.prototype.isubn = function isubn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.iaddn(-num);\n\n    if (this.negative !== 0) {\n      this.negative = 0;\n      this.iaddn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    this.words[0] -= num;\n\n    if (this.length === 1 && this.words[0] < 0) {\n      this.words[0] = -this.words[0];\n      this.negative = 1;\n    } else {\n      // Carry\n      for (var i = 0; i < this.length && this.words[i] < 0; i++) {\n        this.words[i] += 0x4000000;\n        this.words[i + 1] -= 1;\n      }\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.addn = function addn (num) {\n    return this.clone().iaddn(num);\n  };\n\n  BN.prototype.subn = function subn (num) {\n    return this.clone().isubn(num);\n  };\n\n  BN.prototype.iabs = function iabs () {\n    this.negative = 0;\n\n    return this;\n  };\n\n  BN.prototype.abs = function abs () {\n    return this.clone().iabs();\n  };\n\n  BN.prototype._ishlnsubmul = function _ishlnsubmul (num, mul, shift) {\n    var len = num.length + shift;\n    var i;\n\n    this._expand(len);\n\n    var w;\n    var carry = 0;\n    for (i = 0; i < num.length; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      var right = (num.words[i] | 0) * mul;\n      w -= right & 0x3ffffff;\n      carry = (w >> 26) - ((right / 0x4000000) | 0);\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n    for (; i < this.length - shift; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      carry = w >> 26;\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n\n    if (carry === 0) return this._strip();\n\n    // Subtraction overflow\n    assert(carry === -1);\n    carry = 0;\n    for (i = 0; i < this.length; i++) {\n      w = -(this.words[i] | 0) + carry;\n      carry = w >> 26;\n      this.words[i] = w & 0x3ffffff;\n    }\n    this.negative = 1;\n\n    return this._strip();\n  };\n\n  BN.prototype._wordDiv = function _wordDiv (num, mode) {\n    var shift = this.length - num.length;\n\n    var a = this.clone();\n    var b = num;\n\n    // Normalize\n    var bhi = b.words[b.length - 1] | 0;\n    var bhiBits = this._countBits(bhi);\n    shift = 26 - bhiBits;\n    if (shift !== 0) {\n      b = b.ushln(shift);\n      a.iushln(shift);\n      bhi = b.words[b.length - 1] | 0;\n    }\n\n    // Initialize quotient\n    var m = a.length - b.length;\n    var q;\n\n    if (mode !== 'mod') {\n      q = new BN(null);\n      q.length = m + 1;\n      q.words = new Array(q.length);\n      for (var i = 0; i < q.length; i++) {\n        q.words[i] = 0;\n      }\n    }\n\n    var diff = a.clone()._ishlnsubmul(b, 1, m);\n    if (diff.negative === 0) {\n      a = diff;\n      if (q) {\n        q.words[m] = 1;\n      }\n    }\n\n    for (var j = m - 1; j >= 0; j--) {\n      var qj = (a.words[b.length + j] | 0) * 0x4000000 +\n        (a.words[b.length + j - 1] | 0);\n\n      // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max\n      // (0x7ffffff)\n      qj = Math.min((qj / bhi) | 0, 0x3ffffff);\n\n      a._ishlnsubmul(b, qj, j);\n      while (a.negative !== 0) {\n        qj--;\n        a.negative = 0;\n        a._ishlnsubmul(b, 1, j);\n        if (!a.isZero()) {\n          a.negative ^= 1;\n        }\n      }\n      if (q) {\n        q.words[j] = qj;\n      }\n    }\n    if (q) {\n      q._strip();\n    }\n    a._strip();\n\n    // Denormalize\n    if (mode !== 'div' && shift !== 0) {\n      a.iushrn(shift);\n    }\n\n    return {\n      div: q || null,\n      mod: a\n    };\n  };\n\n  // NOTE: 1) `mode` can be set to `mod` to request mod only,\n  //       to `div` to request div only, or be absent to\n  //       request both div & mod\n  //       2) `positive` is true if unsigned mod is requested\n  BN.prototype.divmod = function divmod (num, mode, positive) {\n    assert(!num.isZero());\n\n    if (this.isZero()) {\n      return {\n        div: new BN(0),\n        mod: new BN(0)\n      };\n    }\n\n    var div, mod, res;\n    if (this.negative !== 0 && num.negative === 0) {\n      res = this.neg().divmod(num, mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.iadd(num);\n        }\n      }\n\n      return {\n        div: div,\n        mod: mod\n      };\n    }\n\n    if (this.negative === 0 && num.negative !== 0) {\n      res = this.divmod(num.neg(), mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      return {\n        div: div,\n        mod: res.mod\n      };\n    }\n\n    if ((this.negative & num.negative) !== 0) {\n      res = this.neg().divmod(num.neg(), mode);\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.isub(num);\n        }\n      }\n\n      return {\n        div: res.div,\n        mod: mod\n      };\n    }\n\n    // Both numbers are positive at this point\n\n    // Strip both numbers to approximate shift value\n    if (num.length > this.length || this.cmp(num) < 0) {\n      return {\n        div: new BN(0),\n        mod: this\n      };\n    }\n\n    // Very short reduction\n    if (num.length === 1) {\n      if (mode === 'div') {\n        return {\n          div: this.divn(num.words[0]),\n          mod: null\n        };\n      }\n\n      if (mode === 'mod') {\n        return {\n          div: null,\n          mod: new BN(this.modrn(num.words[0]))\n        };\n      }\n\n      return {\n        div: this.divn(num.words[0]),\n        mod: new BN(this.modrn(num.words[0]))\n      };\n    }\n\n    return this._wordDiv(num, mode);\n  };\n\n  // Find `this` / `num`\n  BN.prototype.div = function div (num) {\n    return this.divmod(num, 'div', false).div;\n  };\n\n  // Find `this` % `num`\n  BN.prototype.mod = function mod (num) {\n    return this.divmod(num, 'mod', false).mod;\n  };\n\n  BN.prototype.umod = function umod (num) {\n    return this.divmod(num, 'mod', true).mod;\n  };\n\n  // Find Round(`this` / `num`)\n  BN.prototype.divRound = function divRound (num) {\n    var dm = this.divmod(num);\n\n    // Fast case - exact division\n    if (dm.mod.isZero()) return dm.div;\n\n    var mod = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;\n\n    var half = num.ushrn(1);\n    var r2 = num.andln(1);\n    var cmp = mod.cmp(half);\n\n    // Round down\n    if (cmp < 0 || (r2 === 1 && cmp === 0)) return dm.div;\n\n    // Round up\n    return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);\n  };\n\n  BN.prototype.modrn = function modrn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n    var p = (1 << 26) % num;\n\n    var acc = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      acc = (p * acc + (this.words[i] | 0)) % num;\n    }\n\n    return isNegNum ? -acc : acc;\n  };\n\n  // WARNING: DEPRECATED\n  BN.prototype.modn = function modn (num) {\n    return this.modrn(num);\n  };\n\n  // In-place division by number\n  BN.prototype.idivn = function idivn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n\n    var carry = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var w = (this.words[i] | 0) + carry * 0x4000000;\n      this.words[i] = (w / num) | 0;\n      carry = w % num;\n    }\n\n    this._strip();\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.divn = function divn (num) {\n    return this.clone().idivn(num);\n  };\n\n  BN.prototype.egcd = function egcd (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var x = this;\n    var y = p.clone();\n\n    if (x.negative !== 0) {\n      x = x.umod(p);\n    } else {\n      x = x.clone();\n    }\n\n    // A * x + B * y = x\n    var A = new BN(1);\n    var B = new BN(0);\n\n    // C * x + D * y = y\n    var C = new BN(0);\n    var D = new BN(1);\n\n    var g = 0;\n\n    while (x.isEven() && y.isEven()) {\n      x.iushrn(1);\n      y.iushrn(1);\n      ++g;\n    }\n\n    var yp = y.clone();\n    var xp = x.clone();\n\n    while (!x.isZero()) {\n      for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        x.iushrn(i);\n        while (i-- > 0) {\n          if (A.isOdd() || B.isOdd()) {\n            A.iadd(yp);\n            B.isub(xp);\n          }\n\n          A.iushrn(1);\n          B.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        y.iushrn(j);\n        while (j-- > 0) {\n          if (C.isOdd() || D.isOdd()) {\n            C.iadd(yp);\n            D.isub(xp);\n          }\n\n          C.iushrn(1);\n          D.iushrn(1);\n        }\n      }\n\n      if (x.cmp(y) >= 0) {\n        x.isub(y);\n        A.isub(C);\n        B.isub(D);\n      } else {\n        y.isub(x);\n        C.isub(A);\n        D.isub(B);\n      }\n    }\n\n    return {\n      a: C,\n      b: D,\n      gcd: y.iushln(g)\n    };\n  };\n\n  // This is reduced incarnation of the binary EEA\n  // above, designated to invert members of the\n  // _prime_ fields F(p) at a maximal speed\n  BN.prototype._invmp = function _invmp (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var a = this;\n    var b = p.clone();\n\n    if (a.negative !== 0) {\n      a = a.umod(p);\n    } else {\n      a = a.clone();\n    }\n\n    var x1 = new BN(1);\n    var x2 = new BN(0);\n\n    var delta = b.clone();\n\n    while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {\n      for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        a.iushrn(i);\n        while (i-- > 0) {\n          if (x1.isOdd()) {\n            x1.iadd(delta);\n          }\n\n          x1.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        b.iushrn(j);\n        while (j-- > 0) {\n          if (x2.isOdd()) {\n            x2.iadd(delta);\n          }\n\n          x2.iushrn(1);\n        }\n      }\n\n      if (a.cmp(b) >= 0) {\n        a.isub(b);\n        x1.isub(x2);\n      } else {\n        b.isub(a);\n        x2.isub(x1);\n      }\n    }\n\n    var res;\n    if (a.cmpn(1) === 0) {\n      res = x1;\n    } else {\n      res = x2;\n    }\n\n    if (res.cmpn(0) < 0) {\n      res.iadd(p);\n    }\n\n    return res;\n  };\n\n  BN.prototype.gcd = function gcd (num) {\n    if (this.isZero()) return num.abs();\n    if (num.isZero()) return this.abs();\n\n    var a = this.clone();\n    var b = num.clone();\n    a.negative = 0;\n    b.negative = 0;\n\n    // Remove common factor of two\n    for (var shift = 0; a.isEven() && b.isEven(); shift++) {\n      a.iushrn(1);\n      b.iushrn(1);\n    }\n\n    do {\n      while (a.isEven()) {\n        a.iushrn(1);\n      }\n      while (b.isEven()) {\n        b.iushrn(1);\n      }\n\n      var r = a.cmp(b);\n      if (r < 0) {\n        // Swap `a` and `b` to make `a` always bigger than `b`\n        var t = a;\n        a = b;\n        b = t;\n      } else if (r === 0 || b.cmpn(1) === 0) {\n        break;\n      }\n\n      a.isub(b);\n    } while (true);\n\n    return b.iushln(shift);\n  };\n\n  // Invert number in the field F(num)\n  BN.prototype.invm = function invm (num) {\n    return this.egcd(num).a.umod(num);\n  };\n\n  BN.prototype.isEven = function isEven () {\n    return (this.words[0] & 1) === 0;\n  };\n\n  BN.prototype.isOdd = function isOdd () {\n    return (this.words[0] & 1) === 1;\n  };\n\n  // And first word and num\n  BN.prototype.andln = function andln (num) {\n    return this.words[0] & num;\n  };\n\n  // Increment at the bit position in-line\n  BN.prototype.bincn = function bincn (bit) {\n    assert(typeof bit === 'number');\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) {\n      this._expand(s + 1);\n      this.words[s] |= q;\n      return this;\n    }\n\n    // Add bit and propagate, if needed\n    var carry = q;\n    for (var i = s; carry !== 0 && i < this.length; i++) {\n      var w = this.words[i] | 0;\n      w += carry;\n      carry = w >>> 26;\n      w &= 0x3ffffff;\n      this.words[i] = w;\n    }\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n    return this;\n  };\n\n  BN.prototype.isZero = function isZero () {\n    return this.length === 1 && this.words[0] === 0;\n  };\n\n  BN.prototype.cmpn = function cmpn (num) {\n    var negative = num < 0;\n\n    if (this.negative !== 0 && !negative) return -1;\n    if (this.negative === 0 && negative) return 1;\n\n    this._strip();\n\n    var res;\n    if (this.length > 1) {\n      res = 1;\n    } else {\n      if (negative) {\n        num = -num;\n      }\n\n      assert(num <= 0x3ffffff, 'Number is too big');\n\n      var w = this.words[0] | 0;\n      res = w === num ? 0 : w < num ? -1 : 1;\n    }\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Compare two numbers and return:\n  // 1 - if `this` > `num`\n  // 0 - if `this` == `num`\n  // -1 - if `this` < `num`\n  BN.prototype.cmp = function cmp (num) {\n    if (this.negative !== 0 && num.negative === 0) return -1;\n    if (this.negative === 0 && num.negative !== 0) return 1;\n\n    var res = this.ucmp(num);\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Unsigned comparison\n  BN.prototype.ucmp = function ucmp (num) {\n    // At this point both numbers have the same sign\n    if (this.length > num.length) return 1;\n    if (this.length < num.length) return -1;\n\n    var res = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var a = this.words[i] | 0;\n      var b = num.words[i] | 0;\n\n      if (a === b) continue;\n      if (a < b) {\n        res = -1;\n      } else if (a > b) {\n        res = 1;\n      }\n      break;\n    }\n    return res;\n  };\n\n  BN.prototype.gtn = function gtn (num) {\n    return this.cmpn(num) === 1;\n  };\n\n  BN.prototype.gt = function gt (num) {\n    return this.cmp(num) === 1;\n  };\n\n  BN.prototype.gten = function gten (num) {\n    return this.cmpn(num) >= 0;\n  };\n\n  BN.prototype.gte = function gte (num) {\n    return this.cmp(num) >= 0;\n  };\n\n  BN.prototype.ltn = function ltn (num) {\n    return this.cmpn(num) === -1;\n  };\n\n  BN.prototype.lt = function lt (num) {\n    return this.cmp(num) === -1;\n  };\n\n  BN.prototype.lten = function lten (num) {\n    return this.cmpn(num) <= 0;\n  };\n\n  BN.prototype.lte = function lte (num) {\n    return this.cmp(num) <= 0;\n  };\n\n  BN.prototype.eqn = function eqn (num) {\n    return this.cmpn(num) === 0;\n  };\n\n  BN.prototype.eq = function eq (num) {\n    return this.cmp(num) === 0;\n  };\n\n  //\n  // A reduce context, could be using montgomery or something better, depending\n  // on the `m` itself.\n  //\n  BN.red = function red (num) {\n    return new Red(num);\n  };\n\n  BN.prototype.toRed = function toRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    assert(this.negative === 0, 'red works only with positives');\n    return ctx.convertTo(this)._forceRed(ctx);\n  };\n\n  BN.prototype.fromRed = function fromRed () {\n    assert(this.red, 'fromRed works only with numbers in reduction context');\n    return this.red.convertFrom(this);\n  };\n\n  BN.prototype._forceRed = function _forceRed (ctx) {\n    this.red = ctx;\n    return this;\n  };\n\n  BN.prototype.forceRed = function forceRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    return this._forceRed(ctx);\n  };\n\n  BN.prototype.redAdd = function redAdd (num) {\n    assert(this.red, 'redAdd works only with red numbers');\n    return this.red.add(this, num);\n  };\n\n  BN.prototype.redIAdd = function redIAdd (num) {\n    assert(this.red, 'redIAdd works only with red numbers');\n    return this.red.iadd(this, num);\n  };\n\n  BN.prototype.redSub = function redSub (num) {\n    assert(this.red, 'redSub works only with red numbers');\n    return this.red.sub(this, num);\n  };\n\n  BN.prototype.redISub = function redISub (num) {\n    assert(this.red, 'redISub works only with red numbers');\n    return this.red.isub(this, num);\n  };\n\n  BN.prototype.redShl = function redShl (num) {\n    assert(this.red, 'redShl works only with red numbers');\n    return this.red.shl(this, num);\n  };\n\n  BN.prototype.redMul = function redMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.mul(this, num);\n  };\n\n  BN.prototype.redIMul = function redIMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.imul(this, num);\n  };\n\n  BN.prototype.redSqr = function redSqr () {\n    assert(this.red, 'redSqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqr(this);\n  };\n\n  BN.prototype.redISqr = function redISqr () {\n    assert(this.red, 'redISqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.isqr(this);\n  };\n\n  // Square root over p\n  BN.prototype.redSqrt = function redSqrt () {\n    assert(this.red, 'redSqrt works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqrt(this);\n  };\n\n  BN.prototype.redInvm = function redInvm () {\n    assert(this.red, 'redInvm works only with red numbers');\n    this.red._verify1(this);\n    return this.red.invm(this);\n  };\n\n  // Return negative clone of `this` % `red modulo`\n  BN.prototype.redNeg = function redNeg () {\n    assert(this.red, 'redNeg works only with red numbers');\n    this.red._verify1(this);\n    return this.red.neg(this);\n  };\n\n  BN.prototype.redPow = function redPow (num) {\n    assert(this.red && !num.red, 'redPow(normalNum)');\n    this.red._verify1(this);\n    return this.red.pow(this, num);\n  };\n\n  // Prime numbers with efficient reduction\n  var primes = {\n    k256: null,\n    p224: null,\n    p192: null,\n    p25519: null\n  };\n\n  // Pseudo-Mersenne prime\n  function MPrime (name, p) {\n    // P = 2 ^ N - K\n    this.name = name;\n    this.p = new BN(p, 16);\n    this.n = this.p.bitLength();\n    this.k = new BN(1).iushln(this.n).isub(this.p);\n\n    this.tmp = this._tmp();\n  }\n\n  MPrime.prototype._tmp = function _tmp () {\n    var tmp = new BN(null);\n    tmp.words = new Array(Math.ceil(this.n / 13));\n    return tmp;\n  };\n\n  MPrime.prototype.ireduce = function ireduce (num) {\n    // Assumes that `num` is less than `P^2`\n    // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)\n    var r = num;\n    var rlen;\n\n    do {\n      this.split(r, this.tmp);\n      r = this.imulK(r);\n      r = r.iadd(this.tmp);\n      rlen = r.bitLength();\n    } while (rlen > this.n);\n\n    var cmp = rlen < this.n ? -1 : r.ucmp(this.p);\n    if (cmp === 0) {\n      r.words[0] = 0;\n      r.length = 1;\n    } else if (cmp > 0) {\n      r.isub(this.p);\n    } else {\n      if (r.strip !== undefined) {\n        // r is a BN v4 instance\n        r.strip();\n      } else {\n        // r is a BN v5 instance\n        r._strip();\n      }\n    }\n\n    return r;\n  };\n\n  MPrime.prototype.split = function split (input, out) {\n    input.iushrn(this.n, 0, out);\n  };\n\n  MPrime.prototype.imulK = function imulK (num) {\n    return num.imul(this.k);\n  };\n\n  function K256 () {\n    MPrime.call(\n      this,\n      'k256',\n      'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');\n  }\n  inherits(K256, MPrime);\n\n  K256.prototype.split = function split (input, output) {\n    // 256 = 9 * 26 + 22\n    var mask = 0x3fffff;\n\n    var outLen = Math.min(input.length, 9);\n    for (var i = 0; i < outLen; i++) {\n      output.words[i] = input.words[i];\n    }\n    output.length = outLen;\n\n    if (input.length <= 9) {\n      input.words[0] = 0;\n      input.length = 1;\n      return;\n    }\n\n    // Shift by 9 limbs\n    var prev = input.words[9];\n    output.words[output.length++] = prev & mask;\n\n    for (i = 10; i < input.length; i++) {\n      var next = input.words[i] | 0;\n      input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);\n      prev = next;\n    }\n    prev >>>= 22;\n    input.words[i - 10] = prev;\n    if (prev === 0 && input.length > 10) {\n      input.length -= 10;\n    } else {\n      input.length -= 9;\n    }\n  };\n\n  K256.prototype.imulK = function imulK (num) {\n    // K = 0x1000003d1 = [ 0x40, 0x3d1 ]\n    num.words[num.length] = 0;\n    num.words[num.length + 1] = 0;\n    num.length += 2;\n\n    // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390\n    var lo = 0;\n    for (var i = 0; i < num.length; i++) {\n      var w = num.words[i] | 0;\n      lo += w * 0x3d1;\n      num.words[i] = lo & 0x3ffffff;\n      lo = w * 0x40 + ((lo / 0x4000000) | 0);\n    }\n\n    // Fast length reduction\n    if (num.words[num.length - 1] === 0) {\n      num.length--;\n      if (num.words[num.length - 1] === 0) {\n        num.length--;\n      }\n    }\n    return num;\n  };\n\n  function P224 () {\n    MPrime.call(\n      this,\n      'p224',\n      'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');\n  }\n  inherits(P224, MPrime);\n\n  function P192 () {\n    MPrime.call(\n      this,\n      'p192',\n      'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');\n  }\n  inherits(P192, MPrime);\n\n  function P25519 () {\n    // 2 ^ 255 - 19\n    MPrime.call(\n      this,\n      '25519',\n      '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');\n  }\n  inherits(P25519, MPrime);\n\n  P25519.prototype.imulK = function imulK (num) {\n    // K = 0x13\n    var carry = 0;\n    for (var i = 0; i < num.length; i++) {\n      var hi = (num.words[i] | 0) * 0x13 + carry;\n      var lo = hi & 0x3ffffff;\n      hi >>>= 26;\n\n      num.words[i] = lo;\n      carry = hi;\n    }\n    if (carry !== 0) {\n      num.words[num.length++] = carry;\n    }\n    return num;\n  };\n\n  // Exported mostly for testing purposes, use plain name instead\n  BN._prime = function prime (name) {\n    // Cached version of prime\n    if (primes[name]) return primes[name];\n\n    var prime;\n    if (name === 'k256') {\n      prime = new K256();\n    } else if (name === 'p224') {\n      prime = new P224();\n    } else if (name === 'p192') {\n      prime = new P192();\n    } else if (name === 'p25519') {\n      prime = new P25519();\n    } else {\n      throw new Error('Unknown prime ' + name);\n    }\n    primes[name] = prime;\n\n    return prime;\n  };\n\n  //\n  // Base reduction engine\n  //\n  function Red (m) {\n    if (typeof m === 'string') {\n      var prime = BN._prime(m);\n      this.m = prime.p;\n      this.prime = prime;\n    } else {\n      assert(m.gtn(1), 'modulus must be greater than 1');\n      this.m = m;\n      this.prime = null;\n    }\n  }\n\n  Red.prototype._verify1 = function _verify1 (a) {\n    assert(a.negative === 0, 'red works only with positives');\n    assert(a.red, 'red works only with red numbers');\n  };\n\n  Red.prototype._verify2 = function _verify2 (a, b) {\n    assert((a.negative | b.negative) === 0, 'red works only with positives');\n    assert(a.red && a.red === b.red,\n      'red works only with red numbers');\n  };\n\n  Red.prototype.imod = function imod (a) {\n    if (this.prime) return this.prime.ireduce(a)._forceRed(this);\n\n    move(a, a.umod(this.m)._forceRed(this));\n    return a;\n  };\n\n  Red.prototype.neg = function neg (a) {\n    if (a.isZero()) {\n      return a.clone();\n    }\n\n    return this.m.sub(a)._forceRed(this);\n  };\n\n  Red.prototype.add = function add (a, b) {\n    this._verify2(a, b);\n\n    var res = a.add(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.iadd = function iadd (a, b) {\n    this._verify2(a, b);\n\n    var res = a.iadd(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.sub = function sub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.sub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.isub = function isub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.isub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.shl = function shl (a, num) {\n    this._verify1(a);\n    return this.imod(a.ushln(num));\n  };\n\n  Red.prototype.imul = function imul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.imul(b));\n  };\n\n  Red.prototype.mul = function mul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.mul(b));\n  };\n\n  Red.prototype.isqr = function isqr (a) {\n    return this.imul(a, a.clone());\n  };\n\n  Red.prototype.sqr = function sqr (a) {\n    return this.mul(a, a);\n  };\n\n  Red.prototype.sqrt = function sqrt (a) {\n    if (a.isZero()) return a.clone();\n\n    var mod3 = this.m.andln(3);\n    assert(mod3 % 2 === 1);\n\n    // Fast case\n    if (mod3 === 3) {\n      var pow = this.m.add(new BN(1)).iushrn(2);\n      return this.pow(a, pow);\n    }\n\n    // Tonelli-Shanks algorithm (Totally unoptimized and slow)\n    //\n    // Find Q and S, that Q * 2 ^ S = (P - 1)\n    var q = this.m.subn(1);\n    var s = 0;\n    while (!q.isZero() && q.andln(1) === 0) {\n      s++;\n      q.iushrn(1);\n    }\n    assert(!q.isZero());\n\n    var one = new BN(1).toRed(this);\n    var nOne = one.redNeg();\n\n    // Find quadratic non-residue\n    // NOTE: Max is such because of generalized Riemann hypothesis.\n    var lpow = this.m.subn(1).iushrn(1);\n    var z = this.m.bitLength();\n    z = new BN(2 * z * z).toRed(this);\n\n    while (this.pow(z, lpow).cmp(nOne) !== 0) {\n      z.redIAdd(nOne);\n    }\n\n    var c = this.pow(z, q);\n    var r = this.pow(a, q.addn(1).iushrn(1));\n    var t = this.pow(a, q);\n    var m = s;\n    while (t.cmp(one) !== 0) {\n      var tmp = t;\n      for (var i = 0; tmp.cmp(one) !== 0; i++) {\n        tmp = tmp.redSqr();\n      }\n      assert(i < m);\n      var b = this.pow(c, new BN(1).iushln(m - i - 1));\n\n      r = r.redMul(b);\n      c = b.redSqr();\n      t = t.redMul(c);\n      m = i;\n    }\n\n    return r;\n  };\n\n  Red.prototype.invm = function invm (a) {\n    var inv = a._invmp(this.m);\n    if (inv.negative !== 0) {\n      inv.negative = 0;\n      return this.imod(inv).redNeg();\n    } else {\n      return this.imod(inv);\n    }\n  };\n\n  Red.prototype.pow = function pow (a, num) {\n    if (num.isZero()) return new BN(1).toRed(this);\n    if (num.cmpn(1) === 0) return a.clone();\n\n    var windowSize = 4;\n    var wnd = new Array(1 << windowSize);\n    wnd[0] = new BN(1).toRed(this);\n    wnd[1] = a;\n    for (var i = 2; i < wnd.length; i++) {\n      wnd[i] = this.mul(wnd[i - 1], a);\n    }\n\n    var res = wnd[0];\n    var current = 0;\n    var currentLen = 0;\n    var start = num.bitLength() % 26;\n    if (start === 0) {\n      start = 26;\n    }\n\n    for (i = num.length - 1; i >= 0; i--) {\n      var word = num.words[i];\n      for (var j = start - 1; j >= 0; j--) {\n        var bit = (word >> j) & 1;\n        if (res !== wnd[0]) {\n          res = this.sqr(res);\n        }\n\n        if (bit === 0 && current === 0) {\n          currentLen = 0;\n          continue;\n        }\n\n        current <<= 1;\n        current |= bit;\n        currentLen++;\n        if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue;\n\n        res = this.mul(res, wnd[current]);\n        currentLen = 0;\n        current = 0;\n      }\n      start = 26;\n    }\n\n    return res;\n  };\n\n  Red.prototype.convertTo = function convertTo (num) {\n    var r = num.umod(this.m);\n\n    return r === num ? r.clone() : r;\n  };\n\n  Red.prototype.convertFrom = function convertFrom (num) {\n    var res = num.clone();\n    res.red = null;\n    return res;\n  };\n\n  //\n  // Montgomery method engine\n  //\n\n  BN.mont = function mont (num) {\n    return new Mont(num);\n  };\n\n  function Mont (m) {\n    Red.call(this, m);\n\n    this.shift = this.m.bitLength();\n    if (this.shift % 26 !== 0) {\n      this.shift += 26 - (this.shift % 26);\n    }\n\n    this.r = new BN(1).iushln(this.shift);\n    this.r2 = this.imod(this.r.sqr());\n    this.rinv = this.r._invmp(this.m);\n\n    this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);\n    this.minv = this.minv.umod(this.r);\n    this.minv = this.r.sub(this.minv);\n  }\n  inherits(Mont, Red);\n\n  Mont.prototype.convertTo = function convertTo (num) {\n    return this.imod(num.ushln(this.shift));\n  };\n\n  Mont.prototype.convertFrom = function convertFrom (num) {\n    var r = this.imod(num.mul(this.rinv));\n    r.red = null;\n    return r;\n  };\n\n  Mont.prototype.imul = function imul (a, b) {\n    if (a.isZero() || b.isZero()) {\n      a.words[0] = 0;\n      a.length = 1;\n      return a;\n    }\n\n    var t = a.imul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.mul = function mul (a, b) {\n    if (a.isZero() || b.isZero()) return new BN(0)._forceRed(this);\n\n    var t = a.mul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.invm = function invm (a) {\n    // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R\n    var res = this.imod(a._invmp(this.m).mul(this.r2));\n    return res._forceRed(this);\n  };\n})(typeof module === 'undefined' || module, this);\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RegExpString = exports.IntNumber = exports.BigIntString = exports.AddressString = exports.HexString = exports.OpaqueType = void 0;\nfunction OpaqueType() {\n    return (value) => value;\n}\nexports.OpaqueType = OpaqueType;\nexports.HexString = OpaqueType();\nexports.AddressString = OpaqueType();\nexports.BigIntString = OpaqueType();\nfunction IntNumber(num) {\n    return Math.floor(num);\n}\nexports.IntNumber = IntNumber;\nexports.RegExpString = OpaqueType();\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getFavicon = exports.range = exports.isBigNumber = exports.ensureParsedJSONObject = exports.ensureBN = exports.ensureRegExpString = exports.ensureIntNumber = exports.ensureBuffer = exports.ensureAddressString = exports.ensureEvenLengthHexString = exports.ensureHexString = exports.isHexString = exports.prepend0x = exports.strip0x = exports.has0xPrefix = exports.hexStringFromIntNumber = exports.intNumberFromHexString = exports.bigIntStringFromBN = exports.hexStringFromBuffer = exports.hexStringToUint8Array = exports.uint8ArrayToHex = exports.randomBytesHex = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst types_1 = require(\"./types\");\nconst INT_STRING_REGEX = /^[0-9]*$/;\nconst HEXADECIMAL_STRING_REGEX = /^[a-f0-9]*$/;\n/**\n * @param length number of bytes\n */\nfunction randomBytesHex(length) {\n    return uint8ArrayToHex(crypto.getRandomValues(new Uint8Array(length)));\n}\nexports.randomBytesHex = randomBytesHex;\nfunction uint8ArrayToHex(value) {\n    return [...value].map(b => b.toString(16).padStart(2, '0')).join('');\n}\nexports.uint8ArrayToHex = uint8ArrayToHex;\nfunction hexStringToUint8Array(hexString) {\n    return new Uint8Array(hexString.match(/.{1,2}/g).map(byte => parseInt(byte, 16)));\n}\nexports.hexStringToUint8Array = hexStringToUint8Array;\nfunction hexStringFromBuffer(buf, includePrefix = false) {\n    const hex = buf.toString(\"hex\");\n    return types_1.HexString(includePrefix ? \"0x\" + hex : hex);\n}\nexports.hexStringFromBuffer = hexStringFromBuffer;\nfunction bigIntStringFromBN(bn) {\n    return types_1.BigIntString(bn.toString(10));\n}\nexports.bigIntStringFromBN = bigIntStringFromBN;\nfunction intNumberFromHexString(hex) {\n    return types_1.IntNumber(new bn_js_1.default(ensureEvenLengthHexString(hex, false), 16).toNumber());\n}\nexports.intNumberFromHexString = intNumberFromHexString;\nfunction hexStringFromIntNumber(num) {\n    return types_1.HexString(\"0x\" + new bn_js_1.default(num).toString(16));\n}\nexports.hexStringFromIntNumber = hexStringFromIntNumber;\nfunction has0xPrefix(str) {\n    return str.startsWith(\"0x\") || str.startsWith(\"0X\");\n}\nexports.has0xPrefix = has0xPrefix;\nfunction strip0x(hex) {\n    if (has0xPrefix(hex)) {\n        return hex.slice(2);\n    }\n    return hex;\n}\nexports.strip0x = strip0x;\nfunction prepend0x(hex) {\n    if (has0xPrefix(hex)) {\n        return \"0x\" + hex.slice(2);\n    }\n    return \"0x\" + hex;\n}\nexports.prepend0x = prepend0x;\nfunction isHexString(hex) {\n    if (typeof hex !== \"string\") {\n        return false;\n    }\n    const s = strip0x(hex).toLowerCase();\n    return HEXADECIMAL_STRING_REGEX.test(s);\n}\nexports.isHexString = isHexString;\nfunction ensureHexString(hex, includePrefix = false) {\n    if (typeof hex === \"string\") {\n        const s = strip0x(hex).toLowerCase();\n        if (HEXADECIMAL_STRING_REGEX.test(s)) {\n            return types_1.HexString(includePrefix ? \"0x\" + s : s);\n        }\n    }\n    throw new Error(`\"${hex}\" is not a hexadecimal string`);\n}\nexports.ensureHexString = ensureHexString;\nfunction ensureEvenLengthHexString(hex, includePrefix = false) {\n    let h = ensureHexString(hex, false);\n    if (h.length % 2 === 1) {\n        h = types_1.HexString(\"0\" + h);\n    }\n    return includePrefix ? types_1.HexString(\"0x\" + h) : h;\n}\nexports.ensureEvenLengthHexString = ensureEvenLengthHexString;\nfunction ensureAddressString(str) {\n    if (typeof str === \"string\") {\n        const s = strip0x(str).toLowerCase();\n        if (isHexString(s) && s.length === 40) {\n            return types_1.AddressString(prepend0x(s));\n        }\n    }\n    throw new Error(`Invalid Ethereum address: ${str}`);\n}\nexports.ensureAddressString = ensureAddressString;\nfunction ensureBuffer(str) {\n    if (Buffer.isBuffer(str)) {\n        return str;\n    }\n    if (typeof str === \"string\") {\n        if (isHexString(str)) {\n            const s = ensureEvenLengthHexString(str, false);\n            return Buffer.from(s, \"hex\");\n        }\n        else {\n            return Buffer.from(str, \"utf8\");\n        }\n    }\n    throw new Error(`Not binary data: ${str}`);\n}\nexports.ensureBuffer = ensureBuffer;\nfunction ensureIntNumber(num) {\n    if (typeof num === \"number\" && Number.isInteger(num)) {\n        return types_1.IntNumber(num);\n    }\n    if (typeof num === \"string\") {\n        if (INT_STRING_REGEX.test(num)) {\n            return types_1.IntNumber(Number(num));\n        }\n        if (isHexString(num)) {\n            return types_1.IntNumber(new bn_js_1.default(ensureEvenLengthHexString(num, false), 16).toNumber());\n        }\n    }\n    throw new Error(`Not an integer: ${num}`);\n}\nexports.ensureIntNumber = ensureIntNumber;\nfunction ensureRegExpString(regExp) {\n    if (regExp instanceof RegExp) {\n        return types_1.RegExpString(regExp.toString());\n    }\n    throw new Error(`Not a RegExp: ${regExp}`);\n}\nexports.ensureRegExpString = ensureRegExpString;\nfunction ensureBN(val) {\n    if (val != null && (bn_js_1.default.isBN(val) || isBigNumber(val))) {\n        return new bn_js_1.default(val.toString(10), 10);\n    }\n    if (typeof val === \"number\") {\n        return new bn_js_1.default(ensureIntNumber(val));\n    }\n    if (typeof val === \"string\") {\n        if (INT_STRING_REGEX.test(val)) {\n            return new bn_js_1.default(val, 10);\n        }\n        if (isHexString(val)) {\n            return new bn_js_1.default(ensureEvenLengthHexString(val, false), 16);\n        }\n    }\n    throw new Error(`Not an integer: ${val}`);\n}\nexports.ensureBN = ensureBN;\nfunction ensureParsedJSONObject(val) {\n    if (typeof val === \"string\") {\n        return JSON.parse(val);\n    }\n    if (typeof val === \"object\") {\n        return val;\n    }\n    throw new Error(`Not a JSON string or an object: ${val}`);\n}\nexports.ensureParsedJSONObject = ensureParsedJSONObject;\nfunction isBigNumber(val) {\n    if (val == null || typeof val.constructor !== \"function\") {\n        return false;\n    }\n    const { constructor } = val;\n    return (typeof constructor.config === \"function\" &&\n        typeof constructor.EUCLID === \"number\");\n}\nexports.isBigNumber = isBigNumber;\nfunction range(start, stop) {\n    return Array.from({ length: stop - start }, (_, i) => start + i);\n}\nexports.range = range;\nfunction getFavicon() {\n    const el = document.querySelector('link[sizes=\"192x192\"]') ||\n        document.querySelector('link[sizes=\"180x180\"]') ||\n        document.querySelector('link[rel=\"icon\"]') ||\n        document.querySelector('link[rel=\"shortcut icon\"]');\n    const { protocol, host } = document.location;\n    const href = el ? el.getAttribute(\"href\") : null;\n    if (!href || href.startsWith(\"javascript:\")) {\n        return null;\n    }\n    if (href.startsWith(\"http://\") ||\n        href.startsWith(\"https://\") ||\n        href.startsWith(\"data:\")) {\n        return href;\n    }\n    if (href.startsWith(\"//\")) {\n        return protocol + href;\n    }\n    return `${protocol}//${host}${href}`;\n}\nexports.getFavicon = getFavicon;\n","// Extracted from https://github.com/ethereumjs/ethereumjs-util and stripped out irrelevant code\n// Original code licensed under the Mozilla Public License Version 2.0\n\nconst createKeccakHash = require('keccak/js')\nconst BN = require('bn.js')\n\n/**\n * Returns a buffer filled with 0s\n * @method zeros\n * @param {Number} bytes  the number of bytes the buffer should be\n * @return {Buffer}\n */\nfunction zeros (bytes) {\n  return Buffer.allocUnsafe(bytes).fill(0)\n}\n\n/**\n * Left Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @method setLength\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @param {Boolean} [right=false] whether to start padding form the left or right\n * @return {Buffer|Array}\n */\nfunction setLength (msg, length, right) {\n  const buf = zeros(length)\n  msg = toBuffer(msg)\n  if (right) {\n    if (msg.length < length) {\n      msg.copy(buf)\n      return buf\n    }\n    return msg.slice(0, length)\n  } else {\n    if (msg.length < length) {\n      msg.copy(buf, length - msg.length)\n      return buf\n    }\n    return msg.slice(-length)\n  }\n}\n\n/**\n * Right Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @return {Buffer|Array}\n */\nfunction setLengthRight (msg, length) {\n  return setLength(msg, length, true)\n}\n\n/**\n * Attempts to turn a value into a `Buffer`. As input it supports `Buffer`, `String`, `Number`, null/undefined, `BN` and other objects with a `toArray()` method.\n * @param {*} v the value\n */\nfunction toBuffer (v) {\n  if (!Buffer.isBuffer(v)) {\n    if (Array.isArray(v)) {\n      v = Buffer.from(v)\n    } else if (typeof v === 'string') {\n      if (isHexString(v)) {\n        v = Buffer.from(padToEven(stripHexPrefix(v)), 'hex')\n      } else {\n        v = Buffer.from(v)\n      }\n    } else if (typeof v === 'number') {\n      v = intToBuffer(v)\n    } else if (v === null || v === undefined) {\n      v = Buffer.allocUnsafe(0)\n    } else if (BN.isBN(v)) {\n      v = v.toArrayLike(Buffer)\n    } else if (v.toArray) {\n      // converts a BN to a Buffer\n      v = Buffer.from(v.toArray())\n    } else {\n      throw new Error('invalid type')\n    }\n  }\n  return v\n}\n\n/**\n * Converts a `Buffer` into a hex `String`\n * @param {Buffer} buf\n * @return {String}\n */\nfunction bufferToHex (buf) {\n  buf = toBuffer(buf)\n  return '0x' + buf.toString('hex')\n}\n\n/**\n * Creates Keccak hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the Keccak width\n * @return {Buffer}\n */\nfunction keccak (a, bits) {\n  a = toBuffer(a)\n  if (!bits) bits = 256\n\n  return createKeccakHash('keccak' + bits).update(a).digest()\n}\n\nfunction padToEven (str) {\n  return str.length % 2 ? '0' + str : str\n}\n\nfunction isHexString (str) {\n  return typeof str === 'string' && str.match(/^0x[0-9A-Fa-f]*$/)\n}\n\nfunction stripHexPrefix (str) {\n  if (typeof str === 'string' && str.startsWith('0x')) {\n    return str.slice(2)\n  }\n  return str\n}\n\nmodule.exports = {\n  zeros,\n  setLength,\n  setLengthRight,\n  isHexString,\n  stripHexPrefix,\n  toBuffer,\n  bufferToHex,\n  keccak\n}\n","// Extracted from https://github.com/ethereumjs/ethereumjs-abi and stripped out irrelevant code\n// Original code licensed under the MIT License - Copyright (c) 2015 Alex Beregszaszi\n\nconst util = require('./util')\nconst BN = require('bn.js')\n\n// Convert from short to canonical names\n// FIXME: optimise or make this nicer?\nfunction elementaryName (name) {\n  if (name.startsWith('int[')) {\n    return 'int256' + name.slice(3)\n  } else if (name === 'int') {\n    return 'int256'\n  } else if (name.startsWith('uint[')) {\n    return 'uint256' + name.slice(4)\n  } else if (name === 'uint') {\n    return 'uint256'\n  } else if (name.startsWith('fixed[')) {\n    return 'fixed128x128' + name.slice(5)\n  } else if (name === 'fixed') {\n    return 'fixed128x128'\n  } else if (name.startsWith('ufixed[')) {\n    return 'ufixed128x128' + name.slice(6)\n  } else if (name === 'ufixed') {\n    return 'ufixed128x128'\n  }\n  return name\n}\n\n// Parse N from type<N>\nfunction parseTypeN (type) {\n  return parseInt(/^\\D+(\\d+)$/.exec(type)[1], 10)\n}\n\n// Parse N,M from type<N>x<M>\nfunction parseTypeNxM (type) {\n  var tmp = /^\\D+(\\d+)x(\\d+)$/.exec(type)\n  return [ parseInt(tmp[1], 10), parseInt(tmp[2], 10) ]\n}\n\n// Parse N in type[<N>] where \"type\" can itself be an array type.\nfunction parseTypeArray (type) {\n  var tmp = type.match(/(.*)\\[(.*?)\\]$/)\n  if (tmp) {\n    return tmp[2] === '' ? 'dynamic' : parseInt(tmp[2], 10)\n  }\n  return null\n}\n\nfunction parseNumber (arg) {\n  var type = typeof arg\n  if (type === 'string') {\n    if (util.isHexString(arg)) {\n      return new BN(util.stripHexPrefix(arg), 16)\n    } else {\n      return new BN(arg, 10)\n    }\n  } else if (type === 'number') {\n    return new BN(arg)\n  } else if (arg.toArray) {\n    // assume this is a BN for the moment, replace with BN.isBN soon\n    return arg\n  } else {\n    throw new Error('Argument is not a number')\n  }\n}\n\n// Encodes a single item (can be dynamic array)\n// @returns: Buffer\nfunction encodeSingle (type, arg) {\n  var size, num, ret, i\n\n  if (type === 'address') {\n    return encodeSingle('uint160', parseNumber(arg))\n  } else if (type === 'bool') {\n    return encodeSingle('uint8', arg ? 1 : 0)\n  } else if (type === 'string') {\n    return encodeSingle('bytes', new Buffer(arg, 'utf8'))\n  } else if (isArray(type)) {\n    // this part handles fixed-length ([2]) and variable length ([]) arrays\n    // NOTE: we catch here all calls to arrays, that simplifies the rest\n    if (typeof arg.length === 'undefined') {\n      throw new Error('Not an array?')\n    }\n    size = parseTypeArray(type)\n    if (size !== 'dynamic' && size !== 0 && arg.length > size) {\n      throw new Error('Elements exceed array size: ' + size)\n    }\n    ret = []\n    type = type.slice(0, type.lastIndexOf('['))\n    if (typeof arg === 'string') {\n      arg = JSON.parse(arg)\n    }\n    for (i in arg) {\n      ret.push(encodeSingle(type, arg[i]))\n    }\n    if (size === 'dynamic') {\n      var length = encodeSingle('uint256', arg.length)\n      ret.unshift(length)\n    }\n    return Buffer.concat(ret)\n  } else if (type === 'bytes') {\n    arg = new Buffer(arg)\n\n    ret = Buffer.concat([ encodeSingle('uint256', arg.length), arg ])\n\n    if ((arg.length % 32) !== 0) {\n      ret = Buffer.concat([ ret, util.zeros(32 - (arg.length % 32)) ])\n    }\n\n    return ret\n  } else if (type.startsWith('bytes')) {\n    size = parseTypeN(type)\n    if (size < 1 || size > 32) {\n      throw new Error('Invalid bytes<N> width: ' + size)\n    }\n\n    return util.setLengthRight(arg, 32)\n  } else if (type.startsWith('uint')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid uint<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    if (num < 0) {\n      throw new Error('Supplied uint is negative')\n    }\n\n    return num.toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('int')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid int<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    return num.toTwos(256).toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('ufixed')) {\n    size = parseTypeNxM(type)\n\n    num = parseNumber(arg)\n\n    if (num < 0) {\n      throw new Error('Supplied ufixed is negative')\n    }\n\n    return encodeSingle('uint256', num.mul(new BN(2).pow(new BN(size[1]))))\n  } else if (type.startsWith('fixed')) {\n    size = parseTypeNxM(type)\n\n    return encodeSingle('int256', parseNumber(arg).mul(new BN(2).pow(new BN(size[1]))))\n  }\n\n  throw new Error('Unsupported or invalid type: ' + type)\n}\n\n// Is a type dynamic?\nfunction isDynamic (type) {\n  // FIXME: handle all types? I don't think anything is missing now\n  return (type === 'string') || (type === 'bytes') || (parseTypeArray(type) === 'dynamic')\n}\n\n// Is a type an array?\nfunction isArray (type) {\n  return type.lastIndexOf(']') === type.length - 1\n}\n\n// Encode a method/event with arguments\n// @types an array of string type names\n// @args  an array of the appropriate values\nfunction rawEncode (types, values) {\n  var output = []\n  var data = []\n\n  var headLength = 32 * types.length\n\n  for (var i in types) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n    var cur = encodeSingle(type, value)\n\n    // Use the head/tail method for storing dynamic data\n    if (isDynamic(type)) {\n      output.push(encodeSingle('uint256', headLength))\n      data.push(cur)\n      headLength += cur.length\n    } else {\n      output.push(cur)\n    }\n  }\n\n  return Buffer.concat(output.concat(data))\n}\n\nfunction solidityPack (types, values) {\n  if (types.length !== values.length) {\n    throw new Error('Number of types are not matching the values')\n  }\n\n  var size, num\n  var ret = []\n\n  for (var i = 0; i < types.length; i++) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n\n    if (type === 'bytes') {\n      ret.push(value)\n    } else if (type === 'string') {\n      ret.push(new Buffer(value, 'utf8'))\n    } else if (type === 'bool') {\n      ret.push(new Buffer(value ? '01' : '00', 'hex'))\n    } else if (type === 'address') {\n      ret.push(util.setLength(value, 20))\n    } else if (type.startsWith('bytes')) {\n      size = parseTypeN(type)\n      if (size < 1 || size > 32) {\n        throw new Error('Invalid bytes<N> width: ' + size)\n      }\n\n      ret.push(util.setLengthRight(value, size))\n    } else if (type.startsWith('uint')) {\n      size = parseTypeN(type)\n      if ((size % 8) || (size < 8) || (size > 256)) {\n        throw new Error('Invalid uint<N> width: ' + size)\n      }\n\n      num = parseNumber(value)\n      if (num.bitLength() > size) {\n        throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n      }\n\n      ret.push(num.toArrayLike(Buffer, 'be', size / 8))\n    } else if (type.startsWith('int')) {\n      size = parseTypeN(type)\n      if ((size % 8) || (size < 8) || (size > 256)) {\n        throw new Error('Invalid int<N> width: ' + size)\n      }\n\n      num = parseNumber(value)\n      if (num.bitLength() > size) {\n        throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n      }\n\n      ret.push(num.toTwos(size).toArrayLike(Buffer, 'be', size / 8))\n    } else {\n      // FIXME: support all other types\n      throw new Error('Unsupported or invalid type: ' + type)\n    }\n  }\n\n  return Buffer.concat(ret)\n}\n\nfunction soliditySHA3 (types, values) {\n  return util.keccak(solidityPack(types, values))\n}\n\nmodule.exports = {\n  rawEncode,\n  solidityPack,\n  soliditySHA3\n}\n","const util = require('./util')\nconst abi = require('./abi')\n\nconst TYPED_MESSAGE_SCHEMA = {\n  type: 'object',\n  properties: {\n    types: {\n      type: 'object',\n      additionalProperties: {\n        type: 'array',\n        items: {\n          type: 'object',\n          properties: {\n            name: {type: 'string'},\n            type: {type: 'string'},\n          },\n          required: ['name', 'type'],\n        },\n      },\n    },\n    primaryType: {type: 'string'},\n    domain: {type: 'object'},\n    message: {type: 'object'},\n  },\n  required: ['types', 'primaryType', 'domain', 'message'],\n}\n\n/**\n * A collection of utility functions used for signing typed data\n */\nconst TypedDataUtils = {\n  /**\n   * Encodes an object by encoding and concatenating each of its members\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} data - Object to encode\n   * @param {Object} types - Type definitions\n   * @returns {string} - Encoded representation of an object\n   */\n  encodeData (primaryType, data, types, useV4 = true) {\n    const encodedTypes = ['bytes32']\n    const encodedValues = [this.hashType(primaryType, types)]\n\n    if(useV4) {\n      const encodeField = (name, type, value) => {\n        if (types[type] !== undefined) {\n          return ['bytes32', value == null ?\n            '0x0000000000000000000000000000000000000000000000000000000000000000' :\n            util.keccak(this.encodeData(type, value, types, useV4))]\n        }\n\n        if(value === undefined)\n          throw new Error(`missing value for field ${name} of type ${type}`)\n\n        if (type === 'bytes') {\n          return ['bytes32', util.keccak(value)]\n        }\n\n        if (type === 'string') {\n          // convert string to buffer - prevents ethUtil from interpreting strings like '0xabcd' as hex\n          if (typeof value === 'string') {\n            value = Buffer.from(value, 'utf8')\n          }\n          return ['bytes32', util.keccak(value)]\n        }\n\n        if (type.lastIndexOf(']') === type.length - 1) {\n          const parsedType = type.slice(0, type.lastIndexOf('['))\n          const typeValuePairs = value.map(item =>\n            encodeField(name, parsedType, item))\n          return ['bytes32', util.keccak(abi.rawEncode(\n            typeValuePairs.map(([type]) => type),\n            typeValuePairs.map(([, value]) => value),\n          ))]\n        }\n\n        return [type, value]\n      }\n\n      for (const field of types[primaryType]) {\n        const [type, value] = encodeField(field.name, field.type, data[field.name])\n        encodedTypes.push(type)\n        encodedValues.push(value)\n      }\n    } else {\n      for (const field of types[primaryType]) {\n        let value = data[field.name]\n        if (value !== undefined) {\n          if (field.type === 'bytes') {\n            encodedTypes.push('bytes32')\n            value = util.keccak(value)\n            encodedValues.push(value)\n          } else if (field.type === 'string') {\n            encodedTypes.push('bytes32')\n            // convert string to buffer - prevents ethUtil from interpreting strings like '0xabcd' as hex\n            if (typeof value === 'string') {\n              value = Buffer.from(value, 'utf8')\n            }\n            value = util.keccak(value)\n            encodedValues.push(value)\n          } else if (types[field.type] !== undefined) {\n            encodedTypes.push('bytes32')\n            value = util.keccak(this.encodeData(field.type, value, types, useV4))\n            encodedValues.push(value)\n          } else if (field.type.lastIndexOf(']') === field.type.length - 1) {\n            throw new Error('Arrays currently unimplemented in encodeData')\n          } else {\n            encodedTypes.push(field.type)\n            encodedValues.push(value)\n          }\n        }\n      }\n    }\n\n    return abi.rawEncode(encodedTypes, encodedValues)\n  },\n\n  /**\n   * Encodes the type of an object by encoding a comma delimited list of its members\n   *\n   * @param {string} primaryType - Root type to encode\n   * @param {Object} types - Type definitions\n   * @returns {string} - Encoded representation of the type of an object\n   */\n  encodeType (primaryType, types) {\n    let result = ''\n    let deps = this.findTypeDependencies(primaryType, types).filter(dep => dep !== primaryType)\n    deps = [primaryType].concat(deps.sort())\n    for (const type of deps) {\n      const children = types[type]\n      if (!children) {\n        throw new Error('No type definition specified: ' + type)\n      }\n      result += type + '(' + types[type].map(({ name, type }) => type + ' ' + name).join(',') + ')'\n    }\n    return result\n  },\n\n  /**\n   * Finds all types within a type defintion object\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} types - Type definitions\n   * @param {Array} results - current set of accumulated types\n   * @returns {Array} - Set of all types found in the type definition\n   */\n  findTypeDependencies (primaryType, types, results = []) {\n    primaryType = primaryType.match(/^\\w*/)[0]\n    if (results.includes(primaryType) || types[primaryType] === undefined) { return results }\n    results.push(primaryType)\n    for (const field of types[primaryType]) {\n      for (const dep of this.findTypeDependencies(field.type, types, results)) {\n        !results.includes(dep) && results.push(dep)\n      }\n    }\n    return results\n  },\n\n  /**\n   * Hashes an object\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} data - Object to hash\n   * @param {Object} types - Type definitions\n   * @returns {string} - Hash of an object\n   */\n  hashStruct (primaryType, data, types, useV4 = true) {\n    return util.keccak(this.encodeData(primaryType, data, types, useV4))\n  },\n\n  /**\n   * Hashes the type of an object\n   *\n   * @param {string} primaryType - Root type to hash\n   * @param {Object} types - Type definitions\n   * @returns {string} - Hash of an object\n   */\n  hashType (primaryType, types) {\n    return util.keccak(this.encodeType(primaryType, types))\n  },\n\n  /**\n   * Removes properties from a message object that are not defined per EIP-712\n   *\n   * @param {Object} data - typed message object\n   * @returns {Object} - typed message object with only allowed fields\n   */\n  sanitizeData (data) {\n    const sanitizedData = {}\n    for (const key in TYPED_MESSAGE_SCHEMA.properties) {\n      data[key] && (sanitizedData[key] = data[key])\n    }\n    if (sanitizedData.types) {\n      sanitizedData.types = Object.assign({ EIP712Domain: [] }, sanitizedData.types)\n    }\n    return sanitizedData\n  },\n\n  /**\n   * Returns the hash of a typed message as per EIP-712 for signing\n   *\n   * @param {Object} typedData - Types message data to sign\n   * @returns {string} - sha3 hash for signing\n   */\n  hash (typedData, useV4 = true) {\n    const sanitizedData = this.sanitizeData(typedData)\n    const parts = [Buffer.from('1901', 'hex')]\n    parts.push(this.hashStruct('EIP712Domain', sanitizedData.domain, sanitizedData.types, useV4))\n    if (sanitizedData.primaryType !== 'EIP712Domain') {\n      parts.push(this.hashStruct(sanitizedData.primaryType, sanitizedData.message, sanitizedData.types, useV4))\n    }\n    return util.keccak(Buffer.concat(parts))\n  },\n}\n\nmodule.exports = {\n  TYPED_MESSAGE_SCHEMA,\n  TypedDataUtils,\n\n  hashForSignTypedDataLegacy: function (msgParams) {\n    return typedSignatureHashLegacy(msgParams.data)\n  },\n\n  hashForSignTypedData_v3: function (msgParams) {\n    return TypedDataUtils.hash(msgParams.data, false)\n  },\n\n  hashForSignTypedData_v4: function (msgParams) {\n    return TypedDataUtils.hash(msgParams.data)\n  },\n}\n\n/**\n * @param typedData - Array of data along with types, as per EIP712.\n * @returns Buffer\n */\nfunction typedSignatureHashLegacy(typedData) {\n  const error = new Error('Expect argument to be non-empty array')\n  if (typeof typedData !== 'object' || !typedData.length) throw error\n\n  const data = typedData.map(function (e) {\n    return e.type === 'bytes' ? util.toBuffer(e.value) : e.value\n  })\n  const types = typedData.map(function (e) { return e.type })\n  const schema = typedData.map(function (e) {\n    if (!e.name) throw error\n    return e.type + ' ' + e.name\n  })\n\n  return abi.soliditySHA3(\n    ['bytes32', 'bytes32'],\n    [\n      abi.soliditySHA3(new Array(typedData.length).fill('string'), schema),\n      abi.soliditySHA3(types, data)\n    ]\n  )\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.filterFromParam = exports.FilterPolyfill = void 0;\nconst types_1 = require(\"../types\");\nconst util_1 = require(\"../util\");\nconst TIMEOUT = 5 * 60 * 1000; // 5 minutes\nconst JSONRPC_TEMPLATE = {\n    jsonrpc: \"2.0\",\n    id: 0\n};\nclass FilterPolyfill {\n    constructor(provider) {\n        this.logFilters = new Map(); // <id, filter>\n        this.blockFilters = new Set(); // <id>\n        this.pendingTransactionFilters = new Set(); // <id, true>\n        this.cursors = new Map(); // <id, cursor>\n        this.timeouts = new Map(); // <id, setTimeout id>\n        this.nextFilterId = types_1.IntNumber(1);\n        this.provider = provider;\n    }\n    async newFilter(param) {\n        const filter = filterFromParam(param);\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, filter.fromBlock);\n        console.log(`Installing new log filter(${id}):`, filter, \"initial cursor position:\", cursor);\n        this.logFilters.set(id, filter);\n        this.setFilterTimeout(id);\n        return util_1.hexStringFromIntNumber(id);\n    }\n    async newBlockFilter() {\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, \"latest\");\n        console.log(`Installing new block filter (${id}) with initial cursor position:`, cursor);\n        this.blockFilters.add(id);\n        this.setFilterTimeout(id);\n        return util_1.hexStringFromIntNumber(id);\n    }\n    async newPendingTransactionFilter() {\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, \"latest\");\n        console.log(`Installing new block filter (${id}) with initial cursor position:`, cursor);\n        this.pendingTransactionFilters.add(id);\n        this.setFilterTimeout(id);\n        return util_1.hexStringFromIntNumber(id);\n    }\n    uninstallFilter(filterId) {\n        const id = util_1.intNumberFromHexString(filterId);\n        console.log(`Uninstalling filter (${id})`);\n        this.deleteFilter(id);\n        return true;\n    }\n    getFilterChanges(filterId) {\n        const id = util_1.intNumberFromHexString(filterId);\n        if (this.timeouts.has(id)) {\n            // extend timeout\n            this.setFilterTimeout(id);\n        }\n        if (this.logFilters.has(id)) {\n            return this.getLogFilterChanges(id);\n        }\n        else if (this.blockFilters.has(id)) {\n            return this.getBlockFilterChanges(id);\n        }\n        else if (this.pendingTransactionFilters.has(id)) {\n            return this.getPendingTransactionFilterChanges(id);\n        }\n        return Promise.resolve(filterNotFoundError());\n    }\n    async getFilterLogs(filterId) {\n        const id = util_1.intNumberFromHexString(filterId);\n        const filter = this.logFilters.get(id);\n        if (!filter) {\n            return filterNotFoundError();\n        }\n        return this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getLogs\", params: [paramFromFilter(filter)] }));\n    }\n    makeFilterId() {\n        return types_1.IntNumber(++this.nextFilterId);\n    }\n    sendAsyncPromise(request) {\n        return new Promise((resolve, reject) => {\n            this.provider.sendAsync(request, (err, response) => {\n                if (err) {\n                    return reject(err);\n                }\n                if (Array.isArray(response) || response == null) {\n                    return reject(new Error(`unexpected response received: ${JSON.stringify(response)}`));\n                }\n                resolve(response);\n            });\n        });\n    }\n    deleteFilter(id) {\n        console.log(`Deleting filter (${id})`);\n        this.logFilters.delete(id);\n        this.blockFilters.delete(id);\n        this.pendingTransactionFilters.delete(id);\n        this.cursors.delete(id);\n        this.timeouts.delete(id);\n    }\n    async getLogFilterChanges(id) {\n        const filter = this.logFilters.get(id);\n        const cursorPosition = this.cursors.get(id);\n        if (!cursorPosition || !filter) {\n            return filterNotFoundError();\n        }\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        const toBlock = filter.toBlock === \"latest\" ? currentBlockHeight : filter.toBlock;\n        if (cursorPosition > currentBlockHeight) {\n            return emptyResult();\n        }\n        if (cursorPosition > filter.toBlock) {\n            return emptyResult();\n        }\n        console.log(`Fetching logs from ${cursorPosition} to ${toBlock} for filter ${id}`);\n        const response = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getLogs\", params: [\n                paramFromFilter(Object.assign(Object.assign({}, filter), { fromBlock: cursorPosition, toBlock }))\n            ] }));\n        if (Array.isArray(response.result)) {\n            const blocks = response.result.map(log => util_1.intNumberFromHexString(log.blockNumber || \"0x0\"));\n            const highestBlock = Math.max(...blocks);\n            if (highestBlock && highestBlock > cursorPosition) {\n                const newCursorPosition = types_1.IntNumber(highestBlock + 1);\n                console.log(`Moving cursor position for filter (${id}) from ${cursorPosition} to ${newCursorPosition}`);\n                this.cursors.set(id, newCursorPosition);\n            }\n        }\n        return response;\n    }\n    async getBlockFilterChanges(id) {\n        const cursorPosition = this.cursors.get(id);\n        if (!cursorPosition) {\n            return filterNotFoundError();\n        }\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        if (cursorPosition > currentBlockHeight) {\n            return emptyResult();\n        }\n        console.log(`Fetching blocks from ${cursorPosition} to ${currentBlockHeight} for filter (${id})`);\n        const blocks = (await Promise.all(util_1.range(cursorPosition, currentBlockHeight + 1).map(i => this.getBlockHashByNumber(types_1.IntNumber(i))))).filter(hash => !!hash);\n        const newCursorPosition = types_1.IntNumber(cursorPosition + blocks.length);\n        console.log(`Moving cursor position for filter (${id}) from ${cursorPosition} to ${newCursorPosition}`);\n        this.cursors.set(id, newCursorPosition);\n        return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { result: blocks });\n    }\n    async getPendingTransactionFilterChanges(_id) {\n        // pending transaction filters are not supported\n        return Promise.resolve(emptyResult());\n    }\n    async setInitialCursorPosition(id, startBlock) {\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        const initialCursorPosition = typeof startBlock === \"number\" && startBlock > currentBlockHeight\n            ? startBlock\n            : currentBlockHeight;\n        this.cursors.set(id, initialCursorPosition);\n        return initialCursorPosition;\n    }\n    setFilterTimeout(id) {\n        const existing = this.timeouts.get(id);\n        if (existing) {\n            window.clearTimeout(existing);\n        }\n        const timeout = window.setTimeout(() => {\n            console.log(`Filter (${id}) timed out`);\n            this.deleteFilter(id);\n        }, TIMEOUT);\n        this.timeouts.set(id, timeout);\n    }\n    async getCurrentBlockHeight() {\n        const { result } = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_blockNumber\", params: [] }));\n        return util_1.intNumberFromHexString(util_1.ensureHexString(result));\n    }\n    async getBlockHashByNumber(blockNumber) {\n        const response = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getBlockByNumber\", params: [util_1.hexStringFromIntNumber(blockNumber), false] }));\n        if (response.result && typeof response.result.hash === \"string\") {\n            return util_1.ensureHexString(response.result.hash);\n        }\n        return null;\n    }\n}\nexports.FilterPolyfill = FilterPolyfill;\nfunction filterFromParam(param) {\n    return {\n        fromBlock: intBlockHeightFromHexBlockHeight(param.fromBlock),\n        toBlock: intBlockHeightFromHexBlockHeight(param.toBlock),\n        addresses: param.address === undefined\n            ? null\n            : Array.isArray(param.address)\n                ? param.address\n                : [param.address],\n        topics: param.topics || []\n    };\n}\nexports.filterFromParam = filterFromParam;\nfunction paramFromFilter(filter) {\n    const param = {\n        fromBlock: hexBlockHeightFromIntBlockHeight(filter.fromBlock),\n        toBlock: hexBlockHeightFromIntBlockHeight(filter.toBlock),\n        topics: filter.topics\n    };\n    if (filter.addresses !== null) {\n        param.address = filter.addresses;\n    }\n    return param;\n}\nfunction intBlockHeightFromHexBlockHeight(value) {\n    if (value === undefined || value === \"latest\" || value === \"pending\") {\n        return \"latest\";\n    }\n    else if (value === \"earliest\") {\n        return types_1.IntNumber(0);\n    }\n    else if (util_1.isHexString(value)) {\n        return util_1.intNumberFromHexString(value);\n    }\n    throw new Error(`Invalid block option: ${value}`);\n}\nfunction hexBlockHeightFromIntBlockHeight(value) {\n    if (value === \"latest\") {\n        return value;\n    }\n    return util_1.hexStringFromIntNumber(value);\n}\nfunction filterNotFoundError() {\n    return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { error: { code: -32000, message: \"filter not found\" } });\n}\nfunction emptyResult() {\n    return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { result: [] });\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JSONRPCMethod = void 0;\nvar JSONRPCMethod;\n(function (JSONRPCMethod) {\n    // synchronous or asynchronous\n    JSONRPCMethod[\"eth_accounts\"] = \"eth_accounts\";\n    JSONRPCMethod[\"eth_coinbase\"] = \"eth_coinbase\";\n    JSONRPCMethod[\"net_version\"] = \"net_version\";\n    JSONRPCMethod[\"eth_chainId\"] = \"eth_chainId\";\n    JSONRPCMethod[\"eth_uninstallFilter\"] = \"eth_uninstallFilter\";\n    // asynchronous only\n    JSONRPCMethod[\"eth_requestAccounts\"] = \"eth_requestAccounts\";\n    JSONRPCMethod[\"eth_sign\"] = \"eth_sign\";\n    JSONRPCMethod[\"eth_ecRecover\"] = \"eth_ecRecover\";\n    JSONRPCMethod[\"personal_sign\"] = \"personal_sign\";\n    JSONRPCMethod[\"personal_ecRecover\"] = \"personal_ecRecover\";\n    JSONRPCMethod[\"eth_signTransaction\"] = \"eth_signTransaction\";\n    JSONRPCMethod[\"eth_sendRawTransaction\"] = \"eth_sendRawTransaction\";\n    JSONRPCMethod[\"eth_sendTransaction\"] = \"eth_sendTransaction\";\n    JSONRPCMethod[\"eth_signTypedData_v1\"] = \"eth_signTypedData_v1\";\n    JSONRPCMethod[\"eth_signTypedData_v2\"] = \"eth_signTypedData_v2\";\n    JSONRPCMethod[\"eth_signTypedData_v3\"] = \"eth_signTypedData_v3\";\n    JSONRPCMethod[\"eth_signTypedData_v4\"] = \"eth_signTypedData_v4\";\n    JSONRPCMethod[\"eth_signTypedData\"] = \"eth_signTypedData\";\n    JSONRPCMethod[\"walletlink_arbitrary\"] = \"walletlink_arbitrary\";\n    JSONRPCMethod[\"wallet_addEthereumChain\"] = \"wallet_addEthereumChain\";\n    JSONRPCMethod[\"wallet_switchEthereumChain\"] = \"wallet_switchEthereumChain\";\n    // asynchronous pub/sub\n    JSONRPCMethod[\"eth_subscribe\"] = \"eth_subscribe\";\n    JSONRPCMethod[\"eth_unsubscribe\"] = \"eth_unsubscribe\";\n    // asynchronous filter methods\n    JSONRPCMethod[\"eth_newFilter\"] = \"eth_newFilter\";\n    JSONRPCMethod[\"eth_newBlockFilter\"] = \"eth_newBlockFilter\";\n    JSONRPCMethod[\"eth_newPendingTransactionFilter\"] = \"eth_newPendingTransactionFilter\";\n    JSONRPCMethod[\"eth_getFilterChanges\"] = \"eth_getFilterChanges\";\n    JSONRPCMethod[\"eth_getFilterLogs\"] = \"eth_getFilterLogs\";\n})(JSONRPCMethod = exports.JSONRPCMethod || (exports.JSONRPCMethod = {}));\n",null,null,null,null,null,"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SubscriptionManager = void 0;\nconst PollingBlockTracker = require(\"eth-block-tracker\");\nconst createSubscriptionManager = require(\"eth-json-rpc-filters/subscriptionManager\");\nconst noop = () => { };\nclass SubscriptionManager {\n    constructor(provider) {\n        const blockTracker = new PollingBlockTracker({\n            provider,\n            pollingInterval: 15 * 1000,\n            setSkipCacheFlag: true\n        });\n        const { events, middleware } = createSubscriptionManager({\n            blockTracker,\n            provider\n        });\n        this.events = events;\n        this.subscriptionMiddleware = middleware;\n    }\n    async handleRequest(request) {\n        const result = {};\n        await this.subscriptionMiddleware(request, result, noop, noop);\n        return result;\n    }\n    destroy() {\n        this.subscriptionMiddleware.destroy();\n    }\n}\nexports.SubscriptionManager = SubscriptionManager;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EthereumChain = void 0;\nvar EthereumChain;\n(function (EthereumChain) {\n    // mainnets\n    EthereumChain[EthereumChain[\"ETHEREUM_MAINNET\"] = 1] = \"ETHEREUM_MAINNET\";\n    EthereumChain[EthereumChain[\"OPTIMISM_MAINNET\"] = 10] = \"OPTIMISM_MAINNET\";\n    EthereumChain[EthereumChain[\"POLYGON_MAINNET\"] = 137] = \"POLYGON_MAINNET\";\n    EthereumChain[EthereumChain[\"ETHEREUM_CLASSIC_MAINNET\"] = 61] = \"ETHEREUM_CLASSIC_MAINNET\";\n    EthereumChain[EthereumChain[\"BSC_MAINNET\"] = 56] = \"BSC_MAINNET\";\n    EthereumChain[EthereumChain[\"FANTOM_MAINNET\"] = 250] = \"FANTOM_MAINNET\";\n    EthereumChain[EthereumChain[\"ARBITRUM_MAINNET\"] = 42161] = \"ARBITRUM_MAINNET\";\n    EthereumChain[EthereumChain[\"XDAI_MAINNET\"] = 100] = \"XDAI_MAINNET\";\n    EthereumChain[EthereumChain[\"AVALANCHE_MAINNET\"] = 43114] = \"AVALANCHE_MAINNET\";\n    // testnets\n    EthereumChain[EthereumChain[\"ROPSTEN\"] = 3] = \"ROPSTEN\";\n    EthereumChain[EthereumChain[\"RINKEBY\"] = 4] = \"RINKEBY\";\n    EthereumChain[EthereumChain[\"GOERLI\"] = 5] = \"GOERLI\";\n    EthereumChain[EthereumChain[\"KOVAN\"] = 42] = \"KOVAN\";\n    EthereumChain[EthereumChain[\"OPTIMISM_KOVAN\"] = 69] = \"OPTIMISM_KOVAN\";\n    EthereumChain[EthereumChain[\"POLYGON_TESTNET\"] = 80001] = \"POLYGON_TESTNET\";\n    EthereumChain[EthereumChain[\"BSC_TESTNET\"] = 97] = \"BSC_TESTNET\";\n    EthereumChain[EthereumChain[\"FANTOM_TESTNET\"] = 4002] = \"FANTOM_TESTNET\";\n    EthereumChain[EthereumChain[\"ARBITRUM_TESTNET\"] = 421611] = \"ARBITRUM_TESTNET\";\n    EthereumChain[EthereumChain[\"AVALANCHE_FUJI\"] = 43113] = \"AVALANCHE_FUJI\";\n})(EthereumChain = exports.EthereumChain || (exports.EthereumChain = {}));\n(function (EthereumChain) {\n    function rpcUrl(thiz) {\n        switch (thiz) {\n            case EthereumChain.ETHEREUM_MAINNET: return \"https://mainnet-infura.wallet.coinbase.com\";\n            case EthereumChain.ROPSTEN: return \"https://ropsten-infura.wallet.coinbase.com\";\n            case EthereumChain.RINKEBY: return \"https://rinkeby-infura.wallet.coinbase.com\";\n            case EthereumChain.KOVAN: return \"https://kovan-infura.wallet.coinbase.com\";\n            case EthereumChain.GOERLI: return \"https://goerli-node.wallet.coinbase.com\";\n            case EthereumChain.OPTIMISM_KOVAN: return \"https://optimism-node.wallet.coinbase.com\";\n            case EthereumChain.OPTIMISM_MAINNET: return \"https://optimism-mainnet.wallet.coinbase.com\";\n            case EthereumChain.POLYGON_MAINNET: return \"https://polygon-mainnet-infura.wallet.coinbase.com\";\n            case EthereumChain.POLYGON_TESTNET: return \"https://polygon-mumbai-infura.wallet.coinbase.com\";\n            case EthereumChain.BSC_MAINNET: return \"https://bsc-dataseed.binance.org\";\n            case EthereumChain.BSC_TESTNET: return \"https://data-seed-prebsc-1-s1.binance.org:8545\";\n            case EthereumChain.FANTOM_MAINNET: return \"https://rpcapi.fantom.network\";\n            case EthereumChain.FANTOM_TESTNET: return \"https://rpc.testnet.fantom.network\";\n            case EthereumChain.ARBITRUM_MAINNET: return \"https://l2-mainnet.wallet.coinbase.com?targetName=arbitrum\";\n            case EthereumChain.ARBITRUM_TESTNET: return \"https://rinkeby.arbitrum.io/rpc\";\n            case EthereumChain.XDAI_MAINNET: return \"https://rpc.xdaichain.com\";\n            case EthereumChain.AVALANCHE_MAINNET: return \"https://api.avax.network/ext/bc/C/rpc\";\n            case EthereumChain.AVALANCHE_FUJI: return \"https://api.avax-test.network/ext/bc/C/rpc\";\n            default: return undefined;\n        }\n    }\n    EthereumChain.rpcUrl = rpcUrl;\n    function fromChainId(chainId) {\n        switch (Number(chainId)) {\n            // mainnets\n            case EthereumChain.ETHEREUM_MAINNET.valueOf(): return EthereumChain.ETHEREUM_MAINNET;\n            case EthereumChain.OPTIMISM_MAINNET.valueOf(): return EthereumChain.OPTIMISM_MAINNET;\n            case EthereumChain.POLYGON_MAINNET.valueOf(): return EthereumChain.POLYGON_MAINNET;\n            case EthereumChain.ETHEREUM_CLASSIC_MAINNET.valueOf(): return EthereumChain.ETHEREUM_CLASSIC_MAINNET;\n            case EthereumChain.BSC_MAINNET.valueOf(): return EthereumChain.BSC_MAINNET;\n            case EthereumChain.FANTOM_MAINNET.valueOf(): return EthereumChain.FANTOM_MAINNET;\n            case EthereumChain.ARBITRUM_MAINNET.valueOf(): return EthereumChain.ARBITRUM_MAINNET;\n            case EthereumChain.AVALANCHE_MAINNET.valueOf(): return EthereumChain.AVALANCHE_MAINNET;\n            case EthereumChain.XDAI_MAINNET.valueOf(): return EthereumChain.XDAI_MAINNET;\n            // testnets\n            case EthereumChain.ROPSTEN.valueOf(): return EthereumChain.ROPSTEN;\n            case EthereumChain.RINKEBY.valueOf(): return EthereumChain.RINKEBY;\n            case EthereumChain.GOERLI.valueOf(): return EthereumChain.GOERLI;\n            case EthereumChain.KOVAN.valueOf(): return EthereumChain.KOVAN;\n            case EthereumChain.OPTIMISM_KOVAN.valueOf(): return EthereumChain.OPTIMISM_KOVAN;\n            case EthereumChain.POLYGON_TESTNET.valueOf(): return EthereumChain.POLYGON_TESTNET;\n            case EthereumChain.BSC_TESTNET.valueOf(): return EthereumChain.BSC_TESTNET;\n            case EthereumChain.FANTOM_TESTNET.valueOf(): return EthereumChain.FANTOM_TESTNET;\n            case EthereumChain.ARBITRUM_TESTNET.valueOf(): return EthereumChain.ARBITRUM_TESTNET;\n            case EthereumChain.AVALANCHE_FUJI.valueOf(): return EthereumChain.AVALANCHE_FUJI;\n            default: return undefined;\n        }\n    }\n    EthereumChain.fromChainId = fromChainId;\n})(EthereumChain = exports.EthereumChain || (exports.EthereumChain = {}));\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkProvider = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst util_1 = require(\"../util\");\nconst eth_eip712_util_1 = __importDefault(require(\"../vendor-js/eth-eip712-util\"));\nconst FilterPolyfill_1 = require(\"./FilterPolyfill\");\nconst JSONRPC_1 = require(\"./JSONRPC\");\nconst eth_rpc_errors_1 = require(\"eth-rpc-errors\");\nconst safe_event_emitter_1 = __importDefault(require(\"@metamask/safe-event-emitter\"));\nconst SubscriptionManager_1 = require(\"./SubscriptionManager\");\nconst EthereumChain_1 = require(\"../EthereumChain\");\nconst LOCAL_STORAGE_ADDRESSES_KEY = \"Addresses\";\nconst DEFAULT_CHAIN_ID_KEY = \"DefaultChainId\";\n// Indicates chain has been switched by switchEthereumChain or addEthereumChain request\nconst HAS_CHAIN_BEEN_SWITCHED_KEY = \"HasChainBeenSwitched\";\nclass WalletLinkProvider extends safe_event_emitter_1.default {\n    constructor(options) {\n        super();\n        this._filterPolyfill = new FilterPolyfill_1.FilterPolyfill(this);\n        this._subscriptionManager = new SubscriptionManager_1.SubscriptionManager(this);\n        this._relay = null;\n        this._addresses = [];\n        this.hasMadeFirstChainChangedEmission = false;\n        // true if mobile client has sent message to override jsonRpcUrl+chainId\n        this.isChainOverridden = false;\n        this._send = this.send;\n        this._sendAsync = this.sendAsync;\n        this.setProviderInfo = this.setProviderInfo.bind(this);\n        this.updateProviderInfo = this.updateProviderInfo.bind(this);\n        this.getChainId = this.getChainId.bind(this);\n        this.setAppInfo = this.setAppInfo.bind(this);\n        this.enable = this.enable.bind(this);\n        this.close = this.close.bind(this);\n        this.send = this.send.bind(this);\n        this.sendAsync = this.sendAsync.bind(this);\n        this.request = this.request.bind(this);\n        this._setAddresses = this._setAddresses.bind(this);\n        this.scanQRCode = this.scanQRCode.bind(this);\n        this.arbitraryRequest = this.arbitraryRequest.bind(this);\n        this.childRequestEthereumAccounts = this.childRequestEthereumAccounts.bind(this);\n        this._jsonRpcUrl = options.jsonRpcUrl;\n        this._overrideIsMetaMask = options.overrideIsMetaMask;\n        this._relayProvider = options.relayProvider;\n        this._storage = options.storage;\n        this._relayEventManager = options.relayEventManager;\n        const chainId = this.getChainId();\n        const chainIdStr = util_1.prepend0x(chainId.toString(16));\n        // indicate that we've connected, for EIP-1193 compliance\n        this.emit(\"connect\", { chainIdStr });\n        const cachedAddresses = this._storage.getItem(LOCAL_STORAGE_ADDRESSES_KEY);\n        if (cachedAddresses) {\n            const addresses = cachedAddresses.split(\" \");\n            if (addresses[0] !== \"\") {\n                this._addresses = addresses;\n                this.emit(\"accountsChanged\", addresses);\n            }\n        }\n        this._subscriptionManager.events.on(\"notification\", (notification) => {\n            this.emit(\"message\", {\n                type: notification.method,\n                data: notification.params\n            });\n        });\n        if (this._addresses.length > 0) {\n            this.initializeRelay();\n        }\n    }\n    get selectedAddress() {\n        return this._addresses[0] || undefined;\n    }\n    get networkVersion() {\n        return this.getChainId().toString(10);\n    }\n    get chainId() {\n        return util_1.prepend0x(this.getChainId().toString(16));\n    }\n    get isWalletLink() {\n        return true;\n    }\n    /**\n     * Some DApps (i.e. Alpha Homora) seem to require the window.ethereum object return\n     * true for this method.\n     */\n    get isMetaMask() {\n        return this._overrideIsMetaMask;\n    }\n    get host() {\n        return this._jsonRpcUrl;\n    }\n    get connected() {\n        return true;\n    }\n    isConnected() {\n        return true;\n    }\n    // @ts-ignore\n    setProviderInfo(jsonRpcUrl, chainId) {\n        if (this.isChainOverridden)\n            return;\n        this.updateProviderInfo(jsonRpcUrl, this.getChainId(), false);\n    }\n    updateProviderInfo(jsonRpcUrl, chainId, fromRelay) {\n        const hasChainSwitched = this._storage.getItem(HAS_CHAIN_BEEN_SWITCHED_KEY) === \"true\";\n        if (hasChainSwitched && fromRelay)\n            return;\n        if (fromRelay) {\n            this.isChainOverridden = true;\n        }\n        this._jsonRpcUrl = jsonRpcUrl;\n        // emit chainChanged event if necessary\n        const originalChainId = this.getChainId();\n        this._storage.setItem(DEFAULT_CHAIN_ID_KEY, chainId.toString(10));\n        const chainChanged = util_1.ensureIntNumber(chainId) !== originalChainId;\n        if (chainChanged || !this.hasMadeFirstChainChangedEmission) {\n            this.emit(\"chainChanged\", this.getChainId());\n            this.hasMadeFirstChainChangedEmission = true;\n        }\n    }\n    async switchEthereumChain(rpcUrl, chainId) {\n        if (util_1.ensureIntNumber(chainId) === this.getChainId()) {\n            return;\n        }\n        const relay = await this.initializeRelay();\n        const res = await relay.switchEthereumChain(chainId.toString(10));\n        if (res.result === true) {\n            this._storage.setItem(HAS_CHAIN_BEEN_SWITCHED_KEY, \"true\");\n            this.updateProviderInfo(rpcUrl, chainId, false);\n        }\n    }\n    setAppInfo(appName, appLogoUrl) {\n        this.initializeRelay().then(relay => relay.setAppInfo(appName, appLogoUrl));\n    }\n    async enable() {\n        if (this._addresses.length > 0) {\n            return this._addresses;\n        }\n        return await this._send(JSONRPC_1.JSONRPCMethod.eth_requestAccounts);\n    }\n    close() {\n        this.initializeRelay().then(relay => relay.resetAndReload());\n    }\n    send(requestOrMethod, callbackOrParams) {\n        // send<T>(method, params): Promise<T>\n        if (typeof requestOrMethod === \"string\") {\n            const method = requestOrMethod;\n            const params = Array.isArray(callbackOrParams)\n                ? callbackOrParams\n                : callbackOrParams !== undefined\n                    ? [callbackOrParams]\n                    : [];\n            const request = {\n                jsonrpc: \"2.0\",\n                id: 0,\n                method,\n                params\n            };\n            return this._sendRequestAsync(request).then(res => res.result);\n        }\n        // send(JSONRPCRequest | JSONRPCRequest[], callback): void\n        if (typeof callbackOrParams === \"function\") {\n            const request = requestOrMethod;\n            const callback = callbackOrParams;\n            return this._sendAsync(request, callback);\n        }\n        // send(JSONRPCRequest[]): JSONRPCResponse[]\n        if (Array.isArray(requestOrMethod)) {\n            const requests = requestOrMethod;\n            return requests.map(r => this._sendRequest(r));\n        }\n        // send(JSONRPCRequest): JSONRPCResponse\n        const req = requestOrMethod;\n        return this._sendRequest(req);\n    }\n    sendAsync(request, callback) {\n        if (typeof callback !== \"function\") {\n            throw new Error(\"callback is required\");\n        }\n        // send(JSONRPCRequest[], callback): void\n        if (Array.isArray(request)) {\n            const arrayCb = callback;\n            this._sendMultipleRequestsAsync(request)\n                .then(responses => arrayCb(null, responses))\n                .catch(err => arrayCb(err, null));\n            return;\n        }\n        // send(JSONRPCRequest, callback): void\n        const cb = callback;\n        this._sendRequestAsync(request)\n            .then(response => cb(null, response))\n            .catch(err => cb(err, null));\n    }\n    async request(args) {\n        if (!args || typeof args !== \"object\" || Array.isArray(args)) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidRequest({\n                message: \"Expected a single, non-array, object argument.\",\n                data: args\n            });\n        }\n        const { method, params } = args;\n        if (typeof method !== \"string\" || method.length === 0) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidRequest({\n                message: \"'args.method' must be a non-empty string.\",\n                data: args\n            });\n        }\n        if (params !== undefined &&\n            !Array.isArray(params) &&\n            (typeof params !== \"object\" || params === null)) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidRequest({\n                message: \"'args.params' must be an object or array if provided.\",\n                data: args\n            });\n        }\n        const newParams = params === undefined ? [] : params;\n        // WalletLink Requests\n        const id = this._relayEventManager.makeRequestId();\n        const result = await this._sendRequestAsync({\n            method,\n            params: newParams,\n            jsonrpc: \"2.0\",\n            id\n        });\n        return result.result;\n    }\n    async scanQRCode(match) {\n        const relay = await this.initializeRelay();\n        const res = await relay.scanQRCode(util_1.ensureRegExpString(match));\n        if (typeof res.result !== \"string\") {\n            throw new Error(\"result was not a string\");\n        }\n        return res.result;\n    }\n    async arbitraryRequest(data) {\n        const relay = await this.initializeRelay();\n        const res = await relay.arbitraryRequest(data);\n        if (typeof res.result !== \"string\") {\n            throw new Error(\"result was not a string\");\n        }\n        return res.result;\n    }\n    async childRequestEthereumAccounts(childSessionId, childSessionSecret, dappName, dappLogoURL, dappURL) {\n        const relay = await this.initializeRelay();\n        await relay.childRequestEthereumAccounts(childSessionId, childSessionSecret, dappName, dappLogoURL, dappURL);\n        return true;\n    }\n    supportsSubscriptions() {\n        return false;\n    }\n    subscribe() {\n        throw new Error(\"Subscriptions are not supported\");\n    }\n    unsubscribe() {\n        throw new Error(\"Subscriptions are not supported\");\n    }\n    disconnect() {\n        return true;\n    }\n    _sendRequest(request) {\n        const response = {\n            jsonrpc: \"2.0\",\n            id: request.id\n        };\n        const { method } = request;\n        response.result = this._handleSynchronousMethods(request);\n        if (response.result === undefined) {\n            throw new Error(`WalletLink does not support calling ${method} synchronously without ` +\n                `a callback. Please provide a callback parameter to call ${method} ` +\n                `asynchronously.`);\n        }\n        return response;\n    }\n    _setAddresses(addresses) {\n        if (!Array.isArray(addresses)) {\n            throw new Error(\"addresses is not an array\");\n        }\n        const newAddresses = addresses.map(address => util_1.ensureAddressString(address));\n        if (JSON.stringify(newAddresses) === JSON.stringify(this._addresses)) {\n            return;\n        }\n        this._addresses = newAddresses;\n        this.emit(\"accountsChanged\", this._addresses);\n        this._storage.setItem(LOCAL_STORAGE_ADDRESSES_KEY, addresses.join(\" \"));\n        window.dispatchEvent(new CustomEvent(\"walletlink:addresses\", { detail: this._addresses }));\n    }\n    _sendRequestAsync(request) {\n        return new Promise((resolve, reject) => {\n            try {\n                const syncResult = this._handleSynchronousMethods(request);\n                if (syncResult !== undefined) {\n                    return resolve({\n                        jsonrpc: \"2.0\",\n                        id: request.id,\n                        result: syncResult\n                    });\n                }\n                const filterPromise = this._handleAsynchronousFilterMethods(request);\n                if (filterPromise !== undefined) {\n                    filterPromise\n                        .then(res => resolve(Object.assign(Object.assign({}, res), { id: request.id })))\n                        .catch(err => reject(err));\n                    return;\n                }\n                const subscriptionPromise = this._handleSubscriptionMethods(request);\n                if (subscriptionPromise !== undefined) {\n                    subscriptionPromise\n                        .then(res => resolve({\n                        jsonrpc: \"2.0\",\n                        id: request.id,\n                        result: res.result\n                    }))\n                        .catch(err => reject(err));\n                    return;\n                }\n            }\n            catch (err) {\n                return reject(err);\n            }\n            this._handleAsynchronousMethods(request)\n                .then(res => resolve(Object.assign(Object.assign({}, res), { id: request.id })))\n                .catch(err => reject(err));\n        });\n    }\n    _sendMultipleRequestsAsync(requests) {\n        return Promise.all(requests.map(r => this._sendRequestAsync(r)));\n    }\n    _handleSynchronousMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_accounts:\n                return this._eth_accounts();\n            case JSONRPC_1.JSONRPCMethod.eth_coinbase:\n                return this._eth_coinbase();\n            case JSONRPC_1.JSONRPCMethod.eth_uninstallFilter:\n                return this._eth_uninstallFilter(params);\n            case JSONRPC_1.JSONRPCMethod.net_version:\n                return this._net_version();\n            case JSONRPC_1.JSONRPCMethod.eth_chainId:\n                return this._eth_chainId();\n            default:\n                return undefined;\n        }\n    }\n    _handleAsynchronousMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_requestAccounts:\n                return this._eth_requestAccounts();\n            case JSONRPC_1.JSONRPCMethod.eth_sign:\n                return this._eth_sign(params);\n            case JSONRPC_1.JSONRPCMethod.eth_ecRecover:\n                return this._eth_ecRecover(params);\n            case JSONRPC_1.JSONRPCMethod.personal_sign:\n                return this._personal_sign(params);\n            case JSONRPC_1.JSONRPCMethod.personal_ecRecover:\n                return this._personal_ecRecover(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTransaction:\n                return this._eth_signTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_sendRawTransaction:\n                return this._eth_sendRawTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_sendTransaction:\n                return this._eth_sendTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v1:\n                return this._eth_signTypedData_v1(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v2:\n                return this._throwUnsupportedMethodError();\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v3:\n                return this._eth_signTypedData_v3(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v4:\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData:\n                return this._eth_signTypedData_v4(params);\n            case JSONRPC_1.JSONRPCMethod.walletlink_arbitrary:\n                return this._walletlink_arbitrary(params);\n            case JSONRPC_1.JSONRPCMethod.wallet_addEthereumChain:\n                return this._wallet_addEthereumChain(params);\n            case JSONRPC_1.JSONRPCMethod.wallet_switchEthereumChain:\n                return this._wallet_switchEthereumChain(params);\n        }\n        if (!this._jsonRpcUrl)\n            throw Error(\"Error: No jsonRpcUrl provided\");\n        return window\n            .fetch(this._jsonRpcUrl, {\n            method: \"POST\",\n            body: JSON.stringify(request),\n            mode: \"cors\",\n            headers: { \"Content-Type\": \"application/json\" }\n        })\n            .then(res => res.json())\n            .then(json => {\n            if (!json) {\n                throw eth_rpc_errors_1.ethErrors.rpc.parse({});\n            }\n            const response = json;\n            const { error } = response;\n            if (error) {\n                throw eth_rpc_errors_1.serializeError(error);\n            }\n            return response;\n        });\n    }\n    _handleAsynchronousFilterMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_newFilter:\n                return this._eth_newFilter(params);\n            case JSONRPC_1.JSONRPCMethod.eth_newBlockFilter:\n                return this._eth_newBlockFilter();\n            case JSONRPC_1.JSONRPCMethod.eth_newPendingTransactionFilter:\n                return this._eth_newPendingTransactionFilter();\n            case JSONRPC_1.JSONRPCMethod.eth_getFilterChanges:\n                return this._eth_getFilterChanges(params);\n            case JSONRPC_1.JSONRPCMethod.eth_getFilterLogs:\n                return this._eth_getFilterLogs(params);\n        }\n        return undefined;\n    }\n    _handleSubscriptionMethods(request) {\n        switch (request.method) {\n            case JSONRPC_1.JSONRPCMethod.eth_subscribe:\n            case JSONRPC_1.JSONRPCMethod.eth_unsubscribe:\n                return this._subscriptionManager.handleRequest(request);\n        }\n        return undefined;\n    }\n    _isKnownAddress(addressString) {\n        try {\n            const address = util_1.ensureAddressString(addressString);\n            return this._addresses.includes(address);\n        }\n        catch (_a) { }\n        return false;\n    }\n    _ensureKnownAddress(addressString) {\n        if (!this._isKnownAddress(addressString)) {\n            throw new Error(\"Unknown Ethereum address\");\n        }\n    }\n    _prepareTransactionParams(tx) {\n        const fromAddress = tx.from\n            ? util_1.ensureAddressString(tx.from)\n            : this.selectedAddress;\n        if (!fromAddress) {\n            throw new Error(\"Ethereum address is unavailable\");\n        }\n        this._ensureKnownAddress(fromAddress);\n        const toAddress = tx.to ? util_1.ensureAddressString(tx.to) : null;\n        const weiValue = tx.value != null ? util_1.ensureBN(tx.value) : new bn_js_1.default(0);\n        const data = tx.data ? util_1.ensureBuffer(tx.data) : Buffer.alloc(0);\n        const nonce = tx.nonce != null ? util_1.ensureIntNumber(tx.nonce) : null;\n        const gasPriceInWei = tx.gasPrice != null ? util_1.ensureBN(tx.gasPrice) : null;\n        const maxFeePerGas = tx.maxFeePerGas != null ? util_1.ensureBN(tx.maxFeePerGas) : null;\n        const maxPriorityFeePerGas = tx.maxPriorityFeePerGas != null ? util_1.ensureBN(tx.maxPriorityFeePerGas) : null;\n        const gasLimit = tx.gas != null ? util_1.ensureBN(tx.gas) : null;\n        const chainId = this.getChainId();\n        return {\n            fromAddress,\n            toAddress,\n            weiValue,\n            data,\n            nonce,\n            gasPriceInWei,\n            maxFeePerGas,\n            maxPriorityFeePerGas,\n            gasLimit,\n            chainId\n        };\n    }\n    _requireAuthorization() {\n        if (this._addresses.length === 0) {\n            throw eth_rpc_errors_1.ethErrors.provider.unauthorized({});\n        }\n    }\n    _throwUnsupportedMethodError() {\n        throw eth_rpc_errors_1.ethErrors.provider.unsupportedMethod({});\n    }\n    async _signEthereumMessage(message, address, addPrefix, typedDataJson) {\n        this._ensureKnownAddress(address);\n        try {\n            const relay = await this.initializeRelay();\n            const res = await relay.signEthereumMessage(message, address, addPrefix, typedDataJson);\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied message signature\");\n            }\n            throw err;\n        }\n    }\n    async _ethereumAddressFromSignedMessage(message, signature, addPrefix) {\n        const relay = await this.initializeRelay();\n        const res = await relay.ethereumAddressFromSignedMessage(message, signature, addPrefix);\n        return { jsonrpc: \"2.0\", id: 0, result: res.result };\n    }\n    _eth_accounts() {\n        return this._addresses;\n    }\n    _eth_coinbase() {\n        return this.selectedAddress || null;\n    }\n    _net_version() {\n        return this.getChainId().toString(10);\n    }\n    _eth_chainId() {\n        return util_1.hexStringFromIntNumber(this.getChainId());\n    }\n    getChainId() {\n        const chainIdStr = this._storage.getItem(DEFAULT_CHAIN_ID_KEY) || \"1\";\n        const chainId = parseInt(chainIdStr, 10);\n        return util_1.ensureIntNumber(chainId);\n    }\n    async _eth_requestAccounts() {\n        if (this._addresses.length > 0) {\n            return Promise.resolve({\n                jsonrpc: \"2.0\",\n                id: 0,\n                result: this._addresses\n            });\n        }\n        let res;\n        try {\n            const relay = await this.initializeRelay();\n            res = await relay.requestEthereumAccounts();\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied account authorization\");\n            }\n            throw err;\n        }\n        if (!res.result) {\n            throw new Error(\"accounts received is empty\");\n        }\n        this._setAddresses(res.result);\n        return { jsonrpc: \"2.0\", id: 0, result: this._addresses };\n    }\n    _eth_sign(params) {\n        this._requireAuthorization();\n        const address = util_1.ensureAddressString(params[0]);\n        const message = util_1.ensureBuffer(params[1]);\n        return this._signEthereumMessage(message, address, false);\n    }\n    _eth_ecRecover(params) {\n        const message = util_1.ensureBuffer(params[0]);\n        const signature = util_1.ensureBuffer(params[1]);\n        return this._ethereumAddressFromSignedMessage(message, signature, false);\n    }\n    _personal_sign(params) {\n        this._requireAuthorization();\n        const message = util_1.ensureBuffer(params[0]);\n        const address = util_1.ensureAddressString(params[1]);\n        return this._signEthereumMessage(message, address, true);\n    }\n    _personal_ecRecover(params) {\n        const message = util_1.ensureBuffer(params[0]);\n        const signature = util_1.ensureBuffer(params[1]);\n        return this._ethereumAddressFromSignedMessage(message, signature, true);\n    }\n    async _eth_signTransaction(params) {\n        this._requireAuthorization();\n        const tx = this._prepareTransactionParams(params[0] || {});\n        try {\n            const relay = await this.initializeRelay();\n            const res = await relay.signEthereumTransaction(tx);\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied transaction signature\");\n            }\n            throw err;\n        }\n    }\n    async _eth_sendRawTransaction(params) {\n        const signedTransaction = util_1.ensureBuffer(params[0]);\n        const relay = await this.initializeRelay();\n        const res = await relay.submitEthereumTransaction(signedTransaction, this.getChainId());\n        return { jsonrpc: \"2.0\", id: 0, result: res.result };\n    }\n    async _eth_sendTransaction(params) {\n        this._requireAuthorization();\n        const tx = this._prepareTransactionParams(params[0] || {});\n        try {\n            const relay = await this.initializeRelay();\n            const res = await relay.signAndSubmitEthereumTransaction(tx);\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied transaction signature\");\n            }\n            throw err;\n        }\n    }\n    async _eth_signTypedData_v1(params) {\n        this._requireAuthorization();\n        const typedData = util_1.ensureParsedJSONObject(params[0]);\n        const address = util_1.ensureAddressString(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedDataLegacy({ data: typedData });\n        const typedDataJSON = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJSON);\n    }\n    async _eth_signTypedData_v3(params) {\n        this._requireAuthorization();\n        const address = util_1.ensureAddressString(params[0]);\n        const typedData = util_1.ensureParsedJSONObject(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedData_v3({ data: typedData });\n        const typedDataJSON = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJSON);\n    }\n    async _eth_signTypedData_v4(params) {\n        this._requireAuthorization();\n        const address = util_1.ensureAddressString(params[0]);\n        const typedData = util_1.ensureParsedJSONObject(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedData_v4({ data: typedData });\n        const typedDataJSON = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJSON);\n    }\n    async _walletlink_arbitrary(params) {\n        const data = params[0];\n        if (typeof data !== \"string\") {\n            throw new Error(\"parameter must be a string\");\n        }\n        const result = await this.arbitraryRequest(data);\n        return { jsonrpc: \"2.0\", id: 0, result };\n    }\n    async _wallet_addEthereumChain(params) {\n        const request = (params[0]);\n        const chainIdNumber = parseInt(request.chainId, 16);\n        const ethereumChain = EthereumChain_1.EthereumChain.fromChainId(BigInt(chainIdNumber));\n        if (ethereumChain === undefined) {\n            return { jsonrpc: '2.0', id: 0, error: { code: 2, message: `chainId ${request.chainId} not supported` } };\n        }\n        const rpcUrl = EthereumChain_1.EthereumChain.rpcUrl(ethereumChain);\n        // @ts-ignore\n        await this.switchEthereumChain(rpcUrl, parseInt(request.chainId, 16));\n        return { jsonrpc: '2.0', id: 0, result: null };\n    }\n    async _wallet_switchEthereumChain(params) {\n        const request = (params[0]);\n        const chainIdNumber = parseInt(request.chainId, 16);\n        const ethereumChain = EthereumChain_1.EthereumChain.fromChainId(BigInt(chainIdNumber));\n        if (ethereumChain === undefined) {\n            return { jsonrpc: '2.0', id: 0, error: { code: 2, message: `chainId ${request.chainId} not supported` } };\n        }\n        const rpcUrl = EthereumChain_1.EthereumChain.rpcUrl(ethereumChain);\n        // @ts-ignore\n        await this.switchEthereumChain(rpcUrl, parseInt(request.chainId, 16));\n        return { jsonrpc: \"2.0\", id: 0, result: null };\n    }\n    _eth_uninstallFilter(params) {\n        const filterId = util_1.ensureHexString(params[0]);\n        return this._filterPolyfill.uninstallFilter(filterId);\n    }\n    async _eth_newFilter(params) {\n        const param = params[0];\n        const filterId = await this._filterPolyfill.newFilter(param);\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    async _eth_newBlockFilter() {\n        const filterId = await this._filterPolyfill.newBlockFilter();\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    async _eth_newPendingTransactionFilter() {\n        const filterId = await this._filterPolyfill.newPendingTransactionFilter();\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    _eth_getFilterChanges(params) {\n        const filterId = util_1.ensureHexString(params[0]);\n        return this._filterPolyfill.getFilterChanges(filterId);\n    }\n    _eth_getFilterLogs(params) {\n        const filterId = util_1.ensureHexString(params[0]);\n        return this._filterPolyfill.getFilterLogs(filterId);\n    }\n    initializeRelay() {\n        if (this._relay) {\n            return Promise.resolve(this._relay);\n        }\n        return this._relayProvider().then(relay => {\n            relay.setAccountsCallback((accounts) => this._setAddresses(accounts));\n            relay.setChainIdCallback((chainId) => {\n                this.updateProviderInfo(this._jsonRpcUrl, parseInt(chainId, 10), true);\n            });\n            relay.setJsonRpcUrlCallback((jsonRpcUrl) => {\n                this.updateProviderInfo(jsonRpcUrl, this.getChainId(), true);\n            });\n            this._relay = relay;\n            return relay;\n        });\n    }\n}\nexports.WalletLinkProvider = WalletLinkProvider;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScopedLocalStorage = void 0;\nclass ScopedLocalStorage {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    setItem(key, value) {\n        localStorage.setItem(this.scopedKey(key), value);\n    }\n    getItem(key) {\n        return localStorage.getItem(this.scopedKey(key));\n    }\n    removeItem(key) {\n        localStorage.removeItem(this.scopedKey(key));\n    }\n    clear() {\n        const prefix = this.scopedKey(\"\");\n        const keysToRemove = [];\n        for (let i = 0; i < localStorage.length; i++) {\n            const key = localStorage.key(i);\n            if (typeof key === \"string\" && key.startsWith(prefix)) {\n                keysToRemove.push(key);\n            }\n        }\n        keysToRemove.forEach(key => localStorage.removeItem(key));\n    }\n    scopedKey(key) {\n        return `${this.scope}:${key}`;\n    }\n}\nexports.ScopedLocalStorage = ScopedLocalStorage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkUI = void 0;\nclass WalletLinkUI {\n    constructor(_) { }\n    /**\n     * We want to disable showing the qr code for in-page walletlink if the dapp hasn't provided a json rpc url\n     */\n    setConnectDisabled(_) { }\n}\nexports.WalletLinkUI = WalletLinkUI;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `@namespace svg \"http://www.w3.org/2000/svg\";.-walletlink-css-reset,.-walletlink-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Helvetica Neue\",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:\"\\\\201C\" \"\\\\201D\" \"\\\\2018\" \"\\\\2019\";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-walletlink-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Helvetica Neue\",Arial,sans-serif;line-height:1}.-walletlink-css-reset [class*=container]{margin:0;padding:0}.-walletlink-css-reset style{display:none}`;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.injectCssReset = void 0;\nconst cssReset_css_1 = __importDefault(require(\"./cssReset-css\"));\nfunction injectCssReset() {\n    const styleEl = document.createElement(\"style\");\n    styleEl.type = \"text/css\";\n    styleEl.appendChild(document.createTextNode(cssReset_css_1.default));\n    document.documentElement.appendChild(styleEl);\n}\nexports.injectCssReset = injectCssReset;\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((process._rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\nprocess._rerenderCount = 0;\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(enqueueRender);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tnull,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\t\t\t\tnewParentVNode._nextDom = getDomSibling(oldParentVNode, i + 1);\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tvnode,\n\t\t\t\t\tvnode,\n\t\t\t\t\tc,\n\t\t\t\t\tvnode._dom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 2\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink[H:h]/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (\n\t\t\tvalue != null &&\n\t\t\t(value !== false || (name[0] === 'a' && name[1] === 'r'))\n\t\t) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\tthis._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif ((tmp = options._render)) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t(child === dom ||\n\t\t\t\t\t(nodeType ? child.localName == nodeType : child.nodeType == 3))\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value || (nodeType === 'progress' && !i))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(r[i], parentVNode, typeof vnode.type != 'function');\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) removeNode(vnode._dom);\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n */\nexport function _catchError(error, vnode) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error);\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","function toVal(mix) {\n\tvar k, y, str='';\n\n\tif (typeof mix === 'string' || typeof mix === 'number') {\n\t\tstr += mix;\n\t} else if (typeof mix === 'object') {\n\t\tif (Array.isArray(mix)) {\n\t\t\tfor (k=0; k < mix.length; k++) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tif (y = toVal(mix[k])) {\n\t\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\t\tstr += y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (k in mix) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\tstr += k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn str;\n}\n\nexport default function () {\n\tvar i=0, tmp, x, str='';\n\twhile (i < arguments.length) {\n\t\tif (tmp = arguments[i++]) {\n\t\t\tif (x = toVal(tmp)) {\n\t\t\t\tstr && (str += ' ');\n\t\t\t\tstr += x\n\t\t\t}\n\t\t}\n\t}\n\treturn str;\n}\n","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\thooks._pendingEffects = [];\n\t}\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks && c.__hooks._pendingEffects.length) {\n\t\tafterPaint(afterPaintEffects.push(c));\n\t}\n\tcurrentComponent = null;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\ttry {\n\t\t\tc.__hooks._list.forEach(invokeCleanup);\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({});\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst nextValue = hookState._reducer(hookState._value[0], action);\n\t\t\t\tif (hookState._value[0] !== nextValue) {\n\t\t\t\t\thookState._value = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\t}\n\n\treturn hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') ref(createHandle());\n\t\t\telse if (ref) ref.current = createHandle();\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = factory();\n\t\tstate._args = args;\n\t\tstate._factory = factory;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = err => {\n\t\t\tif (state._value) state._value(err);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tafterPaintEffects.forEach(component => {\n\t\tif (component._parentDom) {\n\t\t\ttry {\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\t} catch (e) {\n\t\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\t\toptions._catchError(e, component._vnode);\n\t\t\t}\n\t\t}\n\t});\n\tafterPaintEffects = [];\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tif (typeof hook._cleanup == 'function') hook._cleanup();\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-walletlink-link-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-walletlink-css-reset .-walletlink-link-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.33);transition:opacity .25s}.-walletlink-css-reset .-walletlink-link-dialog-backdrop-hidden{opacity:0}.-walletlink-css-reset .-walletlink-link-dialog-box{display:flex;position:relative;flex-direction:column;background-color:#f6f6f6;border-radius:16px;box-shadow:0px 16px 24px rgba(0,0,0,.1),0px 0px 8px rgba(0,0,0,.05);transform:scale(1);transition:opacity .25s,transform .25s;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-walletlink-css-reset .-walletlink-link-dialog-box-content{padding:24px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content h3{display:block;margin-bottom:24px;text-align:left;text-transform:uppercase;font-size:22px;font-weight:bold;line-height:1.2;color:#000}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode{position:relative;display:block;margin-bottom:24px;background-color:#f6f6f6;padding:16px;border-radius:16px;box-shadow:4px 4px 8px rgba(0,0,0,.15),-8px -8px 8px #fff;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper{display:block;width:232px;height:232px;padding:4px;border-radius:4px;background:#f4f4f4;margin-bottom:16px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper img{display:block;width:224px;height:224px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode>p{display:block;color:gray;font-weight:bold;font-size:12px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(246,246,246,.98)}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting p{margin-top:16px;color:#333;font-size:12px;font-weight:bold}.-walletlink-css-reset .-walletlink-link-dialog-box-content a{text-align:center;cursor:pointer;transition:color .1s;font-size:14px}.-walletlink-css-reset .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:visited{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:active{color:#666;text-decoration:underline}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:24px;right:24px;width:24px;height:24px;border-radius:12px;background-color:#e7e7e7;cursor:pointer}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x{position:relative;display:block}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{content:\"\";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:2px;background-color:#999;transition:background-color .2s}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before{transform:rotate(45deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{transform:rotate(135deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-a,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-b{background-color:#000}.-walletlink-css-reset .-walletlink-link-dialog-container{display:block}.-walletlink-css-reset .-walletlink-link-dialog-container-hidden{display:none}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box{background-color:#2a2a2a}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content h3{color:#ccc}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode{background-color:#2a2a2a;box-shadow:4px 4px 8px rgba(0,0,0,.5),-8px -8px 8px #343434}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode>p{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting{background:rgba(42,42,42,.98)}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting p{color:#ddd}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:visited{color:#888}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:active{color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel{background-color:#333}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::after{background-color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::after{background-color:#eee}`;\n","/**\n * @fileoverview\n * - modified davidshimjs/qrcodejs library for use in node.js\n * - Using the 'QRCode for Javascript library'\n * - Fixed dataset of 'QRCode for Javascript library' for support full-spec.\n * - this library has no dependencies.\n *\n * @version 0.9.1 (2016-02-12)\n * @author davidshimjs, papnkukn\n * @see <a href=\"http://www.d-project.com/\" target=\"_blank\">http://www.d-project.com/</a>\n * @see <a href=\"http://jeromeetienne.github.com/jquery-qrcode/\" target=\"_blank\">http://jeromeetienne.github.com/jquery-qrcode/</a>\n * @see <a href=\"https://github.com/davidshimjs/qrcodejs\" target=\"_blank\">https://github.com/davidshimjs/qrcodejs</a>\n */\n\n//---------------------------------------------------------------------\n// QRCode for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//   http://www.opensource.org/licenses/mit-license.php\n//\n// The word \"QR Code\" is registered trademark of\n// DENSO WAVE INCORPORATED\n//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\nfunction QR8bitByte(data) {\n  this.mode = QRMode.MODE_8BIT_BYTE;\n  this.data = data;\n  this.parsedData = [];\n\n  // Added to support UTF-8 Characters\n  for (var i = 0, l = this.data.length; i < l; i++) {\n    var byteArray = [];\n    var code = this.data.charCodeAt(i);\n\n    if (code > 0x10000) {\n      byteArray[0] = 0xF0 | ((code & 0x1C0000) >>> 18);\n      byteArray[1] = 0x80 | ((code & 0x3F000) >>> 12);\n      byteArray[2] = 0x80 | ((code & 0xFC0) >>> 6);\n      byteArray[3] = 0x80 | (code & 0x3F);\n    } else if (code > 0x800) {\n      byteArray[0] = 0xE0 | ((code & 0xF000) >>> 12);\n      byteArray[1] = 0x80 | ((code & 0xFC0) >>> 6);\n      byteArray[2] = 0x80 | (code & 0x3F);\n    } else if (code > 0x80) {\n      byteArray[0] = 0xC0 | ((code & 0x7C0) >>> 6);\n      byteArray[1] = 0x80 | (code & 0x3F);\n    } else {\n      byteArray[0] = code;\n    }\n\n    this.parsedData.push(byteArray);\n  }\n\n  this.parsedData = Array.prototype.concat.apply([], this.parsedData);\n\n  if (this.parsedData.length != this.data.length) {\n    this.parsedData.unshift(191);\n    this.parsedData.unshift(187);\n    this.parsedData.unshift(239);\n  }\n}\n\nQR8bitByte.prototype = {\n  getLength: function (buffer) {\n    return this.parsedData.length;\n  },\n  write: function (buffer) {\n    for (var i = 0, l = this.parsedData.length; i < l; i++) {\n      buffer.put(this.parsedData[i], 8);\n    }\n  }\n};\n\nfunction QRCodeModel(typeNumber, errorCorrectLevel) {\n  this.typeNumber = typeNumber;\n  this.errorCorrectLevel = errorCorrectLevel;\n  this.modules = null;\n  this.moduleCount = 0;\n  this.dataCache = null;\n  this.dataList = [];\n}\n\nQRCodeModel.prototype={addData:function(data){var newData=new QR8bitByte(data);this.dataList.push(newData);this.dataCache=null;},isDark:function(row,col){if(row<0||this.moduleCount<=row||col<0||this.moduleCount<=col){throw new Error(row+\",\"+col);}\nreturn this.modules[row][col];},getModuleCount:function(){return this.moduleCount;},make:function(){this.makeImpl(false,this.getBestMaskPattern());},makeImpl:function(test,maskPattern){this.moduleCount=this.typeNumber*4+17;this.modules=new Array(this.moduleCount);for(var row=0;row<this.moduleCount;row++){this.modules[row]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++){this.modules[row][col]=null;}}\nthis.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(test,maskPattern);if(this.typeNumber>=7){this.setupTypeNumber(test);}\nif(this.dataCache==null){this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList);}\nthis.mapData(this.dataCache,maskPattern);},setupPositionProbePattern:function(row,col){for(var r=-1;r<=7;r++){if(row+r<=-1||this.moduleCount<=row+r)continue;for(var c=-1;c<=7;c++){if(col+c<=-1||this.moduleCount<=col+c)continue;if((0<=r&&r<=6&&(c==0||c==6))||(0<=c&&c<=6&&(r==0||r==6))||(2<=r&&r<=4&&2<=c&&c<=4)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}},getBestMaskPattern:function(){var minLostPoint=0;var pattern=0;for(var i=0;i<8;i++){this.makeImpl(true,i);var lostPoint=QRUtil.getLostPoint(this);if(i==0||minLostPoint>lostPoint){minLostPoint=lostPoint;pattern=i;}}\nreturn pattern;},createMovieClip:function(target_mc,instance_name,depth){var qr_mc=target_mc.createEmptyMovieClip(instance_name,depth);var cs=1;this.make();for(var row=0;row<this.modules.length;row++){var y=row*cs;for(var col=0;col<this.modules[row].length;col++){var x=col*cs;var dark=this.modules[row][col];if(dark){qr_mc.beginFill(0,100);qr_mc.moveTo(x,y);qr_mc.lineTo(x+cs,y);qr_mc.lineTo(x+cs,y+cs);qr_mc.lineTo(x,y+cs);qr_mc.endFill();}}}\nreturn qr_mc;},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++){if(this.modules[r][6]!=null){continue;}\nthis.modules[r][6]=(r%2==0);}\nfor(var c=8;c<this.moduleCount-8;c++){if(this.modules[6][c]!=null){continue;}\nthis.modules[6][c]=(c%2==0);}},setupPositionAdjustPattern:function(){var pos=QRUtil.getPatternPosition(this.typeNumber);for(var i=0;i<pos.length;i++){for(var j=0;j<pos.length;j++){var row=pos[i];var col=pos[j];if(this.modules[row][col]!=null){continue;}\nfor(var r=-2;r<=2;r++){for(var c=-2;c<=2;c++){if(r==-2||r==2||c==-2||c==2||(r==0&&c==0)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}}}},setupTypeNumber:function(test){var bits=QRUtil.getBCHTypeNumber(this.typeNumber);for(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod;}\nfor(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod;}},setupTypeInfo:function(test,maskPattern){var data=(this.errorCorrectLevel<<3)|maskPattern;var bits=QRUtil.getBCHTypeInfo(data);for(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<6){this.modules[i][8]=mod;}else if(i<8){this.modules[i+1][8]=mod;}else{this.modules[this.moduleCount-15+i][8]=mod;}}\nfor(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<8){this.modules[8][this.moduleCount-i-1]=mod;}else if(i<9){this.modules[8][15-i-1+1]=mod;}else{this.modules[8][15-i-1]=mod;}}\nthis.modules[this.moduleCount-8][8]=(!test);},mapData:function(data,maskPattern){var inc=-1;var row=this.moduleCount-1;var bitIndex=7;var byteIndex=0;for(var col=this.moduleCount-1;col>0;col-=2){if(col==6)col--;while(true){for(var c=0;c<2;c++){if(this.modules[row][col-c]==null){var dark=false;if(byteIndex<data.length){dark=(((data[byteIndex]>>>bitIndex)&1)==1);}\nvar mask=QRUtil.getMask(maskPattern,row,col-c);if(mask){dark=!dark;}\nthis.modules[row][col-c]=dark;bitIndex--;if(bitIndex==-1){byteIndex++;bitIndex=7;}}}\nrow+=inc;if(row<0||this.moduleCount<=row){row-=inc;inc=-inc;break;}}}}};QRCodeModel.PAD0=0xEC;QRCodeModel.PAD1=0x11;QRCodeModel.createData=function(typeNumber,errorCorrectLevel,dataList){var rsBlocks=QRRSBlock.getRSBlocks(typeNumber,errorCorrectLevel);var buffer=new QRBitBuffer();for(var i=0;i<dataList.length;i++){var data=dataList[i];buffer.put(data.mode,4);buffer.put(data.getLength(),QRUtil.getLengthInBits(data.mode,typeNumber));data.write(buffer);}\nvar totalDataCount=0;for(var i=0;i<rsBlocks.length;i++){totalDataCount+=rsBlocks[i].dataCount;}\nif(buffer.getLengthInBits()>totalDataCount*8){throw new Error(\"code length overflow. (\"\n+buffer.getLengthInBits()\n+\">\"\n+totalDataCount*8\n+\")\");}\nif(buffer.getLengthInBits()+4<=totalDataCount*8){buffer.put(0,4);}\nwhile(buffer.getLengthInBits()%8!=0){buffer.putBit(false);}\nwhile(true){if(buffer.getLengthInBits()>=totalDataCount*8){break;}\nbuffer.put(QRCodeModel.PAD0,8);if(buffer.getLengthInBits()>=totalDataCount*8){break;}\nbuffer.put(QRCodeModel.PAD1,8);}\nreturn QRCodeModel.createBytes(buffer,rsBlocks);};QRCodeModel.createBytes=function(buffer,rsBlocks){var offset=0;var maxDcCount=0;var maxEcCount=0;var dcdata=new Array(rsBlocks.length);var ecdata=new Array(rsBlocks.length);for(var r=0;r<rsBlocks.length;r++){var dcCount=rsBlocks[r].dataCount;var ecCount=rsBlocks[r].totalCount-dcCount;maxDcCount=Math.max(maxDcCount,dcCount);maxEcCount=Math.max(maxEcCount,ecCount);dcdata[r]=new Array(dcCount);for(var i=0;i<dcdata[r].length;i++){dcdata[r][i]=0xff&buffer.buffer[i+offset];}\noffset+=dcCount;var rsPoly=QRUtil.getErrorCorrectPolynomial(ecCount);var rawPoly=new QRPolynomial(dcdata[r],rsPoly.getLength()-1);var modPoly=rawPoly.mod(rsPoly);ecdata[r]=new Array(rsPoly.getLength()-1);for(var i=0;i<ecdata[r].length;i++){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=(modIndex>=0)?modPoly.get(modIndex):0;}}\nvar totalCodeCount=0;for(var i=0;i<rsBlocks.length;i++){totalCodeCount+=rsBlocks[i].totalCount;}\nvar data=new Array(totalCodeCount);var index=0;for(var i=0;i<maxDcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<dcdata[r].length){data[index++]=dcdata[r][i];}}}\nfor(var i=0;i<maxEcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<ecdata[r].length){data[index++]=ecdata[r][i];}}}\nreturn data;};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};var QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};var QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:(1<<10)|(1<<8)|(1<<5)|(1<<4)|(1<<2)|(1<<1)|(1<<0),G18:(1<<12)|(1<<11)|(1<<10)|(1<<9)|(1<<8)|(1<<5)|(1<<2)|(1<<0),G15_MASK:(1<<14)|(1<<12)|(1<<10)|(1<<4)|(1<<1),getBCHTypeInfo:function(data){var d=data<<10;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)>=0){d^=(QRUtil.G15<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)));}\nreturn((data<<10)|d)^QRUtil.G15_MASK;},getBCHTypeNumber:function(data){var d=data<<12;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)>=0){d^=(QRUtil.G18<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)));}\nreturn(data<<12)|d;},getBCHDigit:function(data){var digit=0;while(data!=0){digit++;data>>>=1;}\nreturn digit;},getPatternPosition:function(typeNumber){return QRUtil.PATTERN_POSITION_TABLE[typeNumber-1];},getMask:function(maskPattern,i,j){switch(maskPattern){case QRMaskPattern.PATTERN000:return(i+j)%2==0;case QRMaskPattern.PATTERN001:return i%2==0;case QRMaskPattern.PATTERN010:return j%3==0;case QRMaskPattern.PATTERN011:return(i+j)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case QRMaskPattern.PATTERN101:return(i*j)%2+(i*j)%3==0;case QRMaskPattern.PATTERN110:return((i*j)%2+(i*j)%3)%2==0;case QRMaskPattern.PATTERN111:return((i*j)%3+(i+j)%2)%2==0;default:throw new Error(\"bad maskPattern:\"+maskPattern);}},getErrorCorrectPolynomial:function(errorCorrectLength){var a=new QRPolynomial([1],0);for(var i=0;i<errorCorrectLength;i++){a=a.multiply(new QRPolynomial([1,QRMath.gexp(i)],0));}\nreturn a;},getLengthInBits:function(mode,type){if(1<=type&&type<10){switch(mode){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error(\"mode:\"+mode);}}else if(type<27){switch(mode){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error(\"mode:\"+mode);}}else if(type<41){switch(mode){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error(\"mode:\"+mode);}}else{throw new Error(\"type:\"+type);}},getLostPoint:function(qrCode){var moduleCount=qrCode.getModuleCount();var lostPoint=0;for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount;col++){var sameCount=0;var dark=qrCode.isDark(row,col);for(var r=-1;r<=1;r++){if(row+r<0||moduleCount<=row+r){continue;}\nfor(var c=-1;c<=1;c++){if(col+c<0||moduleCount<=col+c){continue;}\nif(r==0&&c==0){continue;}\nif(dark==qrCode.isDark(row+r,col+c)){sameCount++;}}}\nif(sameCount>5){lostPoint+=(3+sameCount-5);}}}\nfor(var row=0;row<moduleCount-1;row++){for(var col=0;col<moduleCount-1;col++){var count=0;if(qrCode.isDark(row,col))count++;if(qrCode.isDark(row+1,col))count++;if(qrCode.isDark(row,col+1))count++;if(qrCode.isDark(row+1,col+1))count++;if(count==0||count==4){lostPoint+=3;}}}\nfor(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount-6;col++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row,col+1)&&qrCode.isDark(row,col+2)&&qrCode.isDark(row,col+3)&&qrCode.isDark(row,col+4)&&!qrCode.isDark(row,col+5)&&qrCode.isDark(row,col+6)){lostPoint+=40;}}}\nfor(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount-6;row++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row+1,col)&&qrCode.isDark(row+2,col)&&qrCode.isDark(row+3,col)&&qrCode.isDark(row+4,col)&&!qrCode.isDark(row+5,col)&&qrCode.isDark(row+6,col)){lostPoint+=40;}}}\nvar darkCount=0;for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount;row++){if(qrCode.isDark(row,col)){darkCount++;}}}\nvar ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;lostPoint+=ratio*10;return lostPoint;}};var QRMath={glog:function(n){if(n<1){throw new Error(\"glog(\"+n+\")\");}\nreturn QRMath.LOG_TABLE[n];},gexp:function(n){while(n<0){n+=255;}\nwhile(n>=256){n-=255;}\nreturn QRMath.EXP_TABLE[n];},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++){QRMath.EXP_TABLE[i]=1<<i;}\nfor(var i=8;i<256;i++){QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];}\nfor(var i=0;i<255;i++){QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;}\nfunction QRPolynomial(num,shift){if(num.length==undefined){throw new Error(num.length+\"/\"+shift);}\nvar offset=0;while(offset<num.length&&num[offset]==0){offset++;}\nthis.num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i++){this.num[i]=num[i+offset];}}\nQRPolynomial.prototype={get:function(index){return this.num[index];},getLength:function(){return this.num.length;},multiply:function(e){var num=new Array(this.getLength()+e.getLength()-1);for(var i=0;i<this.getLength();i++){for(var j=0;j<e.getLength();j++){num[i+j]^=QRMath.gexp(QRMath.glog(this.get(i))+QRMath.glog(e.get(j)));}}\nreturn new QRPolynomial(num,0);},mod:function(e){if(this.getLength()-e.getLength()<0){return this;}\nvar ratio=QRMath.glog(this.get(0))-QRMath.glog(e.get(0));var num=new Array(this.getLength());for(var i=0;i<this.getLength();i++){num[i]=this.get(i);}\nfor(var i=0;i<e.getLength();i++){num[i]^=QRMath.gexp(QRMath.glog(e.get(i))+ratio);}\nreturn new QRPolynomial(num,0).mod(e);}};function QRRSBlock(totalCount,dataCount){this.totalCount=totalCount;this.dataCount=dataCount;}\nQRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=QRRSBlock.getRsBlockTable(typeNumber,errorCorrectLevel);if(rsBlock==undefined){throw new Error(\"bad rs block @ typeNumber:\"+typeNumber+\"/errorCorrectLevel:\"+errorCorrectLevel);}\nvar length=rsBlock.length/3;var list=[];for(var i=0;i<length;i++){var count=rsBlock[i*3+0];var totalCount=rsBlock[i*3+1];var dataCount=rsBlock[i*3+2];for(var j=0;j<count;j++){list.push(new QRRSBlock(totalCount,dataCount));}}\nreturn list;};QRRSBlock.getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+3];default:return undefined;}};function QRBitBuffer(){this.buffer=[];this.length=0;}\nQRBitBuffer.prototype={get:function(index){var bufIndex=Math.floor(index/8);return((this.buffer[bufIndex]>>>(7-index%8))&1)==1;},put:function(num,length){for(var i=0;i<length;i++){this.putBit(((num>>>(length-i-1))&1)==1);}},getLengthInBits:function(){return this.length;},putBit:function(bit){var bufIndex=Math.floor(this.length/8);if(this.buffer.length<=bufIndex){this.buffer.push(0);}\nif(bit){this.buffer[bufIndex]|=(0x80>>>(this.length%8));}\nthis.length++;}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];\n\n\n/** Constructor */\nfunction QRCode(options) {\n  var instance = this;\n\n  //Default options\n  this.options = {\n    padding: 4,\n    width: 256,\n    height: 256,\n    typeNumber: 4,\n    color: \"#000000\",\n    background: \"#ffffff\",\n    ecl: \"M\",\n    image:{\n      svg:\"\",\n      width:0,\n      height:0\n    }\n  };\n\n  //In case the options is string\n  if (typeof options === 'string') {\n    options = {\n      content: options\n    };\n  }\n\n  //Merge options\n  if (options) {\n    for (var i in options) {\n      this.options[i] = options[i];\n    }\n  }\n\n  if (typeof this.options.content !== 'string') {\n    throw new Error(\"Expected 'content' as string!\");\n  }\n\n  if (this.options.content.length === 0 /* || this.options.content.length > 7089 */) {\n    throw new Error(\"Expected 'content' to be non-empty!\");\n  }\n\n  if (!(this.options.padding >= 0)) {\n    throw new Error(\"Expected 'padding' value to be non-negative!\");\n  }\n\n  if (!(this.options.width > 0) || !(this.options.height > 0)) {\n    throw new Error(\"Expected 'width' or 'height' value to be higher than zero!\");\n  }\n\n  //Gets the error correction level\n  function _getErrorCorrectLevel(ecl) {\n    switch (ecl) {\n        case \"L\":\n          return QRErrorCorrectLevel.L;\n\n        case \"M\":\n          return QRErrorCorrectLevel.M;\n\n        case \"Q\":\n          return QRErrorCorrectLevel.Q;\n\n        case \"H\":\n          return QRErrorCorrectLevel.H;\n\n        default:\n          throw new Error(\"Unknwon error correction level: \" + ecl);\n      }\n  }\n\n  //Get type number\n  function _getTypeNumber(content, ecl) {\n    var length = _getUTF8Length(content);\n\n    var type = 1;\n    var limit = 0;\n    for (var i = 0, len = QRCodeLimitLength.length; i <= len; i++) {\n      var table = QRCodeLimitLength[i];\n      if (!table) {\n        throw new Error(\"Content too long: expected \" + limit + \" but got \" + length);\n      }\n\n      switch (ecl) {\n        case \"L\":\n          limit = table[0];\n          break;\n\n        case \"M\":\n          limit = table[1];\n          break;\n\n        case \"Q\":\n          limit = table[2];\n          break;\n\n        case \"H\":\n          limit = table[3];\n          break;\n\n        default:\n          throw new Error(\"Unknwon error correction level: \" + ecl);\n      }\n\n      if (length <= limit) {\n        break;\n      }\n\n      type++;\n    }\n\n    if (type > QRCodeLimitLength.length) {\n      throw new Error(\"Content too long\");\n    }\n\n    return type;\n  }\n\n  //Gets text length\n  function _getUTF8Length(content) {\n    var result = encodeURI(content).toString().replace(/\\%[0-9a-fA-F]{2}/g, 'a');\n    return result.length + (result.length != content ? 3 : 0);\n  }\n\n  //Generate QR Code matrix\n  var content = this.options.content;\n  var type = _getTypeNumber(content, this.options.ecl);\n  var ecl = _getErrorCorrectLevel(this.options.ecl);\n  this.qrcode = new QRCodeModel(type, ecl);\n  this.qrcode.addData(content);\n  this.qrcode.make();\n}\n\n/** Generates QR Code as SVG image */\nQRCode.prototype.svg = function(opt) {\n  var options = this.options || { };\n  var modules = this.qrcode.modules;\n\n  if (typeof opt == \"undefined\") {\n    opt = { container: options.container || \"svg\" };\n  }\n\n  //Apply new lines and indents in SVG?\n  var pretty = typeof options.pretty != \"undefined\" ? !!options.pretty : true;\n\n  var indent = pretty ? '  ' : '';\n  var EOL = pretty ? '\\r\\n' : '';\n  var width = options.width;\n  var height = options.height;\n  var length = modules.length;\n  var xsize = width / (length + 2 * options.padding);\n  var ysize = height / (length + 2 * options.padding);\n\n  //Join (union, merge) rectangles into one shape?\n  var join = typeof options.join != \"undefined\" ? !!options.join : false;\n\n  //Swap the X and Y modules, pull request #2\n  var swap = typeof options.swap != \"undefined\" ? !!options.swap : false;\n\n  //Apply <?xml...?> declaration in SVG?\n  var xmlDeclaration = typeof options.xmlDeclaration != \"undefined\" ? !!options.xmlDeclaration : true;\n\n  //Populate with predefined shape instead of \"rect\" elements, thanks to @kkocdko\n  var predefined = typeof options.predefined != \"undefined\" ? !!options.predefined : false;\n  var defs = predefined ? indent + '<defs><path id=\"qrmodule\" d=\"M0 0 h' + ysize + ' v' + xsize + ' H0 z\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\" /></defs>' + EOL : '';\n\n  //Background rectangle\n  var bgrect = indent + '<rect x=\"0\" y=\"0\" width=\"' + width + '\" height=\"' + height + '\" style=\"fill:' + options.background + ';shape-rendering:crispEdges;\"/>' + EOL;\n\n  //Rectangles representing modules\n  var modrect = '';\n  var pathdata = '';\n\n  for (var y = 0; y < length; y++) {\n    for (var x = 0; x < length; x++) {\n      var module = modules[x][y];\n      if (module) {\n\n        var px = (x * xsize + options.padding * xsize);\n        var py = (y * ysize + options.padding * ysize);\n\n        //Some users have had issues with the QR Code, thanks to @danioso for the solution\n        if (swap) {\n          var t = px;\n          px = py;\n          py = t;\n        }\n\n        if (join) {\n          //Module as a part of svg path data, thanks to @danioso\n          var w = xsize + px\n          var h = ysize + py\n\n          px = (Number.isInteger(px))? Number(px): px.toFixed(2);\n          py = (Number.isInteger(py))? Number(py): py.toFixed(2);\n          w = (Number.isInteger(w))? Number(w): w.toFixed(2);\n          h = (Number.isInteger(h))? Number(h): h.toFixed(2);\n\n          pathdata += ('M' + px + ',' + py + ' V' + h + ' H' + w + ' V' + py + ' H' + px + ' Z ');\n        }\n        else if (predefined) {\n          //Module as a predefined shape, thanks to @kkocdko\n          modrect += indent + '<use x=\"' + px.toString() + '\" y=\"' + py.toString() + '\" href=\"#qrmodule\" />' + EOL;\n        }\n        else {\n          //Module as rectangle element\n          modrect += indent + '<rect x=\"' + px.toString() + '\" y=\"' + py.toString() + '\" width=\"' + xsize + '\" height=\"' + ysize + '\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\"/>' + EOL;\n        }\n      }\n    }\n  }\n\n  if (join) {\n    modrect = indent + '<path x=\"0\" y=\"0\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\" d=\"' + pathdata + '\" />';\n  }\n  let imgSvg = \"\";\n  if(this.options.image !== undefined && this.options.image.svg){\n    const imgWidth = width * this.options.image.width / 100;\n    const imgHeight = height * this.options.image.height / 100;\n    const imgX = (width/2) - imgWidth/2;\n    const imgY = (height/2) - imgHeight/2;\n    imgSvg += `<svg x=\"${imgX}\" y=\"${imgY}\" width=\"${imgWidth}\" height=\"${imgHeight}\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMinYMin meet\">`;\n    imgSvg += this.options.image.svg + EOL;\n    imgSvg += '</svg>';\n  }\n\n  var svg = \"\";\n  switch (opt.container) {\n    //Wrapped in SVG document\n    case \"svg\":\n      if (xmlDeclaration) {\n        svg += '<?xml version=\"1.0\" standalone=\"yes\"?>' + EOL;\n      }\n      svg += '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"' + width + '\" height=\"' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += imgSvg;\n      svg += '</svg>';\n      break;\n\n    //Viewbox for responsive use in a browser, thanks to @danioso\n    case \"svg-viewbox\":\n      if (xmlDeclaration) {\n        svg += '<?xml version=\"1.0\" standalone=\"yes\"?>' + EOL;\n      }\n      svg += '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 ' + width + ' ' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += imgSvg;\n      svg += '</svg>';\n      break;\n\n\n    //Wrapped in group element\n    case \"g\":\n      svg += '<g width=\"' + width + '\" height=\"' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += imgSvg;\n      svg += '</g>';\n\n      break;\n\n    //Without a container\n    default:\n      svg += (defs + bgrect + modrect + imgSvg).replace(/^\\s+/, \"\"); //Clear indents on each line\n      break;\n  }\n\n  return svg;\n};\n\nmodule.exports = QRCode;\n\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QRCode = void 0;\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst qrcode_svg_1 = __importDefault(require(\"../vendor-js/qrcode-svg\"));\nconst QRCode = props => {\n    const [svg, setSvg] = hooks_1.useState(\"\");\n    hooks_1.useEffect(() => {\n        var _a, _b;\n        const qrcode = new qrcode_svg_1.default({\n            content: props.content,\n            background: props.bgColor || \"#ffffff\",\n            color: props.fgColor || \"#000000\",\n            container: \"svg\",\n            ecl: \"M\",\n            width: (_a = props.width) !== null && _a !== void 0 ? _a : 256,\n            height: (_b = props.height) !== null && _b !== void 0 ? _b : 256,\n            padding: 0,\n            image: props.image\n        });\n        const base64 = Buffer.from(qrcode.svg(), \"utf8\").toString(\"base64\");\n        setSvg(`data:image/svg+xml;base64,${base64}`);\n    });\n    return svg ? preact_1.h(\"img\", { src: svg, alt: \"QR Code\" }) : null;\n};\nexports.QRCode = QRCode;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-walletlink-spinner{display:inline-block}.-walletlink-css-reset .-walletlink-spinner svg{display:inline-block;animation:2s linear infinite -walletlink-spinner-svg}.-walletlink-css-reset .-walletlink-spinner svg circle{animation:1.9s ease-in-out infinite both -walletlink-spinner-circle;display:block;fill:transparent;stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -walletlink-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -walletlink-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}`;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Spinner = void 0;\nconst preact_1 = require(\"preact\");\nconst Spinner_css_1 = __importDefault(require(\"./Spinner-css\"));\nconst Spinner = props => {\n    var _a;\n    const size = (_a = props.size) !== null && _a !== void 0 ? _a : 64;\n    const color = props.color || \"#000\";\n    return (preact_1.h(\"div\", { class: \"-walletlink-spinner\" },\n        preact_1.h(\"style\", null, Spinner_css_1.default),\n        preact_1.h(\"svg\", { viewBox: \"0 0 100 100\", xmlns: \"http://www.w3.org/2000/svg\", style: { width: size, height: size } },\n            preact_1.h(\"circle\", { style: { cx: 50, cy: 50, r: 45, stroke: color } }))));\n};\nexports.Spinner = Spinner;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkDialog = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst LinkDialog_css_1 = __importDefault(require(\"./LinkDialog-css\"));\nconst QRCode_1 = require(\"./QRCode\");\nconst Spinner_1 = require(\"./Spinner\");\nconst LinkDialog = props => {\n    const [isContainerHidden, setContainerHidden] = hooks_1.useState(!props.isOpen);\n    const [isDialogHidden, setDialogHidden] = hooks_1.useState(!props.isOpen);\n    hooks_1.useEffect(() => {\n        const { isOpen } = props;\n        const timers = [\n            window.setTimeout(() => {\n                setDialogHidden(!isOpen);\n            }, 10)\n        ];\n        if (isOpen) {\n            setContainerHidden(false);\n        }\n        else {\n            timers.push(window.setTimeout(() => {\n                setContainerHidden(true);\n            }, 360));\n        }\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    }, [props.isOpen]);\n    return (preact_1.h(\"div\", { class: clsx_1.default(\"-walletlink-link-dialog-container\", props.darkMode && \"-walletlink-link-dialog-container-dark\", isContainerHidden && \"-walletlink-link-dialog-container-hidden\") },\n        preact_1.h(\"style\", null, LinkDialog_css_1.default),\n        preact_1.h(\"div\", { class: clsx_1.default(\"-walletlink-link-dialog-backdrop\", isDialogHidden && \"-walletlink-link-dialog-backdrop-hidden\") }),\n        preact_1.h(\"div\", { class: \"-walletlink-link-dialog\" },\n            preact_1.h(\"div\", { class: clsx_1.default(\"-walletlink-link-dialog-box\", isDialogHidden && \"-walletlink-link-dialog-box-hidden\") },\n                preact_1.h(ScanQRCode, { darkMode: props.darkMode, version: props.version, sessionId: props.sessionId, sessionSecret: props.sessionSecret, walletLinkUrl: props.walletLinkUrl, isConnected: props.isConnected, isParentConnection: props.isParentConnection }),\n                props.onCancel && preact_1.h(CancelButton, { onClick: props.onCancel })))));\n};\nexports.LinkDialog = LinkDialog;\nconst ScanQRCode = props => {\n    const serverUrl = window.encodeURIComponent(props.walletLinkUrl);\n    const sessionIdKey = props.isParentConnection ? \"parent-id\" : \"id\";\n    const qrUrl = `${props.walletLinkUrl}/#/link?${sessionIdKey}=${props.sessionId}&secret=${props.sessionSecret}&server=${serverUrl}&v=1`;\n    return (preact_1.h(\"div\", { class: \"-walletlink-link-dialog-box-content\" },\n        preact_1.h(\"h3\", null,\n            \"Scan to\",\n            preact_1.h(\"br\", null),\n            \" Connect\"),\n        preact_1.h(\"div\", { class: \"-walletlink-link-dialog-box-content-qrcode\" },\n            preact_1.h(\"div\", { class: \"-walletlink-link-dialog-box-content-qrcode-wrapper\" },\n                preact_1.h(QRCode_1.QRCode, { content: qrUrl, width: 224, height: 224, fgColor: \"#000\", bgColor: \"transparent\" })),\n            preact_1.h(\"input\", { type: \"hidden\", value: qrUrl }),\n            !props.isConnected && (preact_1.h(\"div\", { class: \"-walletlink-link-dialog-box-content-qrcode-connecting\" },\n                preact_1.h(Spinner_1.Spinner, { size: 128, color: props.darkMode ? \"#fff\" : \"#000\" }),\n                preact_1.h(\"p\", null, \"Connecting...\"))),\n            preact_1.h(\"p\", { title: `WalletLink v${props.version}` }, \"Powered by WalletLink\")),\n        preact_1.h(\"a\", { href: `${props.walletLinkUrl}/#/wallets`, target: \"_blank\", rel: \"noopener\" }, \"Don\\u2019t have a wallet app?\")));\n};\nconst CancelButton = props => (preact_1.h(\"button\", { class: \"-walletlink-link-dialog-box-cancel\", onClick: props.onClick },\n    preact_1.h(\"div\", { class: \"-walletlink-link-dialog-box-cancel-x\" })));\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-walletlink-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-walletlink-css-reset .-walletlink-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);transition:opacity .25s}.-walletlink-css-reset .-walletlink-extension-dialog-backdrop-hidden{opacity:0}.-walletlink-css-reset .-walletlink-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-walletlink-css-reset .-walletlink-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-walletlink-css-reset .-walletlink-extension-dialog-box-top{display:flex;flex-direction:row;background-color:#fff;border-radius:8px;overflow:hidden;min-height:300px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;background-color:#fafbfc}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;color:#000;align-self:center}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;background-color:#fff;margin-top:8px}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1)}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-wrapper img{display:block}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:rgba(255,255,255,.95)}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;color:#000;margin-top:16px}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;background-color:#fafbfc;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::after{content:\"\";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;background-color:#000;transition:background-color .2s}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-a,.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-b{background-color:#000}.-walletlink-css-reset .-walletlink-extension-dialog-container{display:block}.-walletlink-css-reset .-walletlink-extension-dialog-container-hidden{display:none}.-walletlink-css-reset .-walletlink-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px;color:#000}`;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAwLTUuNTIxIDBMNi44OSA1LjMzNWEzLjg5NCAzLjg5NCAwIDAwLTEuMDkgMy40MDRjLjA4My41MDYuMjY4IDEuMDExLjU1MyAxLjQ2Ni4xNTEuMjUzLjMzNi40NzIuNTM3LjY5MWwuNjIxLjYyNCAxLjE0MS0xLjE0Ni0uNjItLjYyNGEyLjEwNSAyLjEwNSAwIDAxLS40ODctLjc0MSAyLjM0IDIuMzQgMCAwMS41MDMtMi41MWwzLjIwNi0zLjIyYTIuMjkzIDIuMjkzIDAgMDEzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAwLS41NTQtLjY5bC0uNjItLjYyNC0xLjE0MiAxLjE0Ni42MjEuNjIzYy4yMTguMjIuMzg2LjQ4OS40ODcuNzU4LjMzNS44MjYuMTY3IDEuODItLjUwNCAyLjQ5NGwtMy4yMDUgMy4yMTlhMi4yOTMgMi4yOTMgMCAwMS0zLjI0IDAgMi4zMTYgMi4zMTYgMCAwMTAtMy4yNTJsMS41MjgtMS41MzRhNC44MTUgNC44MTUgMCAwMS0uMjg1LTIuMDA1bC0yLjM4MyAyLjM5M2EzLjkyNyAzLjkyNyAwIDAwMCA1LjU0NCAzLjkwOSAzLjkwOSAwIDAwNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAwMS4wOTEtMy40MDQgNC4yMTEgNC4yMTEgMCAwMC0uNTM3LTEuNDQ5eiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==`;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOHptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNXpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNXpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOXpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1ek0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwMTIuMDkgOXptOC45NyA0LjE1Yy40OC0xLjE1LjgxLTIuNTguOTEtNC4xNWgxLjk0YTUuOTk4IDUuOTk4IDAgMDEtMi44NSA0LjE1eiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==`;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMXptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwMTIuNSAwYzAgLjUxLS4zMS45NS0uNzUgMS4xNHpNNS42NyA2VjQuMzNDNS42NyAzLjA1IDYuNzEgMiA4IDJzMi4zMyAxLjA1IDIuMzMgMi4zM1Y2aDJWNC4zM0MxMi4zMyAxLjk0IDEwLjM5IDAgOCAwUzMuNjcgMS45NCAzLjY3IDQuMzNWNmgyeiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==`;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `<svg width=\"100\" height=\"100\" viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"white\"/>\n<circle cx=\"49.9996\" cy=\"49.9996\" r=\"43.6363\" fill=\"#1B53E4\"/>\n<circle cx=\"49.9996\" cy=\"49.9996\" r=\"43.6363\" stroke=\"white\"/>\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z\" fill=\"white\"/>\n</svg>\n\n`;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TryExtensionLinkDialog = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst TryExtensionLinkDialog_css_1 = __importDefault(require(\"./TryExtensionLinkDialog-css\"));\nconst link_icon_svg_1 = __importDefault(require(\"./icons/link-icon-svg\"));\nconst globe_icon_svg_1 = __importDefault(require(\"./icons/globe-icon-svg\"));\nconst lock_icon_svg_1 = __importDefault(require(\"./icons/lock-icon-svg\"));\nconst QRLogo_1 = __importDefault(require(\"./icons/QRLogo\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst QRCode_1 = require(\"./QRCode\");\nconst Spinner_1 = require(\"./Spinner\");\nconst TryExtensionLinkDialog = props => {\n    const [isContainerHidden, setContainerHidden] = hooks_1.useState(!props.isOpen);\n    const [isDialogHidden, setDialogHidden] = hooks_1.useState(!props.isOpen);\n    hooks_1.useEffect(() => {\n        const { isOpen } = props;\n        const timers = [\n            window.setTimeout(() => {\n                setDialogHidden(!isOpen);\n            }, 10)\n        ];\n        if (isOpen) {\n            setContainerHidden(false);\n        }\n        else {\n            timers.push(window.setTimeout(() => {\n                setContainerHidden(true);\n            }, 360));\n        }\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    }, [props.isOpen]);\n    return (preact_1.h(\"div\", { class: clsx_1.default(\"-walletlink-extension-dialog-container\", isContainerHidden && \"-walletlink-extension-dialog-container-hidden\") },\n        preact_1.h(\"style\", null, TryExtensionLinkDialog_css_1.default),\n        preact_1.h(\"div\", { class: clsx_1.default(\"-walletlink-extension-dialog-backdrop\", isDialogHidden && \"-walletlink-extension-dialog-backdrop-hidden\") }),\n        preact_1.h(\"div\", { class: \"-walletlink-extension-dialog\" },\n            preact_1.h(\"div\", { class: clsx_1.default(\"-walletlink-extension-dialog-box\", isDialogHidden && \"-walletlink-extension-dialog-box-hidden\") },\n                preact_1.h(TryExtensionBox, { onInstallClick: () => {\n                        window.open(\"https://api.wallet.coinbase.com/rpc/v2/desktop/chrome\", \"_blank\");\n                    } }),\n                !props.connectDisabled ? preact_1.h(ScanQRBox, { darkMode: props.darkMode, version: props.version, sessionId: props.sessionId, sessionSecret: props.sessionSecret, walletLinkUrl: props.walletLinkUrl, isConnected: props.isConnected, isParentConnection: props.isParentConnection }) : null,\n                props.onCancel && preact_1.h(CancelButton, { onClick: props.onCancel })))));\n};\nexports.TryExtensionLinkDialog = TryExtensionLinkDialog;\nconst TryExtensionBox = props => {\n    return (preact_1.h(\"div\", { class: \"-walletlink-extension-dialog-box-top\" },\n        preact_1.h(\"div\", { class: \"-walletlink-extension-dialog-box-top-install-region\" },\n            preact_1.h(\"h2\", null, \"Try Coinbase Wallet extension\"),\n            preact_1.h(\"button\", { onClick: props.onInstallClick }, \"Install\")),\n        preact_1.h(\"div\", { class: \"-walletlink-extension-dialog-box-top-info-region\" },\n            preact_1.h(DescriptionItem, { icon: link_icon_svg_1.default, text: \"Connect to crypto apps with one click\" }),\n            preact_1.h(DescriptionItem, { icon: lock_icon_svg_1.default, text: \"Private keys remain secure on mobile app\" }),\n            preact_1.h(DescriptionItem, { icon: globe_icon_svg_1.default, text: \"Compatible with all crypto apps\" }))));\n};\nconst ScanQRBox = props => {\n    const serverUrl = window.encodeURIComponent(props.walletLinkUrl);\n    const sessionIdKey = props.isParentConnection ? \"parent-id\" : \"id\";\n    const qrUrl = `${props.walletLinkUrl}/#/link?${sessionIdKey}=${props.sessionId}&secret=${props.sessionSecret}&server=${serverUrl}&v=1`;\n    return (preact_1.h(\"div\", { class: \"-walletlink-extension-dialog-box-bottom\" },\n        preact_1.h(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-description-region\" },\n            preact_1.h(\"h2\", null, \"Or scan to connect\"),\n            preact_1.h(\"body\", { class: \"-walletlink-extension-dialog-box-bottom-description\" },\n                \"Open \",\n                preact_1.h(\"a\", { href: \"https://wallet.coinbase.com/\" }, \"Coinbase Wallet\"),\n                \" on your mobile phone and scan\")),\n        preact_1.h(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-qr-region\" },\n            preact_1.h(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-qr-wrapper\" },\n                preact_1.h(QRCode_1.QRCode, { content: qrUrl, width: 150, height: 150, fgColor: \"#000\", bgColor: \"transparent\", image: {\n                        svg: QRLogo_1.default,\n                        width: 34,\n                        height: 34\n                    } })),\n            preact_1.h(\"input\", { type: \"hidden\", value: qrUrl }),\n            !props.isConnected && (preact_1.h(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-qr-connecting\" },\n                preact_1.h(Spinner_1.Spinner, { size: 36, color: \"#000\" }),\n                preact_1.h(\"p\", null, \"Connecting...\"))))));\n};\nconst DescriptionItem = props => {\n    return (preact_1.h(\"div\", { class: \"-walletlink-extension-dialog-box-top-description\" },\n        preact_1.h(\"div\", { class: \"-walletlink-extension-dialog-box-top-description-icon-wrapper\" },\n            preact_1.h(\"img\", { src: props.icon })),\n        preact_1.h(\"body\", { class: \"-walletlink-extension-dialog-box-top-description-text\" }, props.text)));\n};\nconst CancelButton = props => (preact_1.h(\"button\", { class: \"-walletlink-extension-dialog-box-cancel\", onClick: props.onClick },\n    preact_1.h(\"div\", { class: \"-walletlink-extension-dialog-box-cancel-x\" })));\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkFlow = void 0;\nconst preact_1 = require(\"preact\");\nconst rxjs_1 = require(\"rxjs\");\nconst LinkDialog_1 = require(\"./LinkDialog\");\nconst operators_1 = require(\"rxjs/operators\");\nconst TryExtensionLinkDialog_1 = require(\"./TryExtensionLinkDialog\");\nclass LinkFlow {\n    constructor(options) {\n        this.extensionUI$ = new rxjs_1.BehaviorSubject({});\n        this.subscriptions = new rxjs_1.Subscription();\n        this.isConnected = false;\n        this.isOpen = false;\n        this.onCancel = null;\n        this.root = null;\n        // if true, hide QR code in LinkFlow (which happens if no jsonRpcUrl is provided)\n        this.connectDisabled = false;\n        this.darkMode = options.darkMode;\n        this.version = options.version;\n        this.sessionId = options.sessionId;\n        this.sessionSecret = options.sessionSecret;\n        this.walletLinkUrl = options.walletLinkUrl;\n        this.isParentConnection = options.isParentConnection;\n        this.connected$ = options.connected$;\n        // Check if extension UI is enabled\n        fetch(\"https://api.wallet.coinbase.com/rpc/v2/getFeatureFlags\")\n            .then(res => res.json())\n            .then(json => {\n            const enabled = json.result.desktop.extension_ui;\n            if (typeof enabled === \"undefined\") {\n                this.extensionUI$.next({ value: false });\n            }\n            else {\n                this.extensionUI$.next({ value: enabled });\n            }\n        })\n            .catch(_ => {\n            this.extensionUI$.next({ value: false });\n        });\n    }\n    attach(el) {\n        this.root = document.createElement(\"div\");\n        this.root.className = \"-walletlink-link-flow-root\";\n        el.appendChild(this.root);\n        this.render();\n        this.subscriptions.add(this.connected$.subscribe(v => {\n            if (this.isConnected !== v) {\n                this.isConnected = v;\n                this.render();\n            }\n        }));\n    }\n    detach() {\n        var _a;\n        if (!this.root) {\n            return;\n        }\n        this.subscriptions.unsubscribe();\n        preact_1.render(null, this.root);\n        (_a = this.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.root);\n    }\n    setConnectDisabled(connectDisabled) {\n        this.connectDisabled = connectDisabled;\n    }\n    open(options) {\n        this.isOpen = true;\n        this.onCancel = options.onCancel;\n        this.render();\n    }\n    close() {\n        this.isOpen = false;\n        this.onCancel = null;\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        const subscription = this.extensionUI$\n            .pipe(operators_1.first(enabled => enabled.value !== undefined)) // wait for a valid value before rendering\n            .subscribe(enabled => {\n            if (!this.root) {\n                return;\n            }\n            preact_1.render(enabled.value ? (preact_1.h(TryExtensionLinkDialog_1.TryExtensionLinkDialog, { darkMode: this.darkMode, version: this.version, sessionId: this.sessionId, sessionSecret: this.sessionSecret, walletLinkUrl: this.walletLinkUrl, isOpen: this.isOpen, isConnected: this.isConnected, isParentConnection: this.isParentConnection, onCancel: this.onCancel, connectDisabled: this.connectDisabled })) : (preact_1.h(LinkDialog_1.LinkDialog, { darkMode: this.darkMode, version: this.version, sessionId: this.sessionId, sessionSecret: this.sessionSecret, walletLinkUrl: this.walletLinkUrl, isOpen: this.isOpen, isConnected: this.isConnected, isParentConnection: this.isParentConnection, onCancel: this.onCancel })), this.root);\n        });\n        this.subscriptions.add(subscription);\n    }\n}\nexports.LinkFlow = LinkFlow;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-walletlink-css-reset .-gear-container *{user-select:none}.-walletlink-css-reset .-gear-container svg{opacity:0;position:absolute}.-walletlink-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-walletlink-css-reset .-walletlink-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-walletlink-css-reset .-walletlink-snackbar *{user-select:none}.-walletlink-css-reset .-walletlink-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-walletlink-css-reset .-walletlink-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-walletlink-css-reset .-walletlink-snackbar-instance-header *{cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-walletlink-css-reset .-walletlink-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-walletlink-css-reset .-walletlink-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-walletlink-css-reset .-walletlink-snackbar-instance-expanded .-walletlink-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}`;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Snackbar = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst Snackbar_css_1 = __importDefault(require(\"./Snackbar-css\"));\nconst cblogo = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+`;\nconst gearIcon = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=`;\nclass Snackbar {\n    constructor(options) {\n        this.items = new Map();\n        this.nextItemKey = 0;\n        this.root = null;\n        this.darkMode = options.darkMode;\n    }\n    attach(el) {\n        this.root = document.createElement(\"div\");\n        this.root.className = \"-walletlink-snackbar-root\";\n        el.appendChild(this.root);\n        this.render();\n    }\n    presentItem(itemProps) {\n        const key = this.nextItemKey++;\n        this.items.set(key, itemProps);\n        this.render();\n        return () => {\n            this.items.delete(key);\n            this.render();\n        };\n    }\n    clear() {\n        this.items.clear();\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        preact_1.render(preact_1.h(\"div\", null,\n            preact_1.h(SnackbarContainer, { darkMode: this.darkMode }, Array.from(this.items.entries()).map(([key, itemProps]) => (preact_1.h(SnackbarInstance, Object.assign({}, itemProps, { key: key })))))), this.root);\n    }\n}\nexports.Snackbar = Snackbar;\nconst SnackbarContainer = props => (preact_1.h(\"div\", { class: clsx_1.default(\"-walletlink-snackbar-container\") },\n    preact_1.h(\"style\", null, Snackbar_css_1.default),\n    preact_1.h(\"div\", { class: \"-walletlink-snackbar\" }, props.children)));\nconst SnackbarInstance = ({ message, menuItems }) => {\n    const [hidden, setHidden] = hooks_1.useState(true);\n    const [expanded, setExpanded] = hooks_1.useState(false);\n    hooks_1.useEffect(() => {\n        const timers = [\n            window.setTimeout(() => {\n                setHidden(false);\n            }, 1),\n            window.setTimeout(() => {\n                setExpanded(true);\n            }, 10000)\n        ];\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    });\n    const toggleExpanded = () => {\n        setExpanded(!expanded);\n    };\n    return (preact_1.h(\"div\", { class: clsx_1.default(\"-walletlink-snackbar-instance\", hidden && \"-walletlink-snackbar-instance-hidden\", expanded && \"-walletlink-snackbar-instance-expanded\") },\n        preact_1.h(\"div\", { class: \"-walletlink-snackbar-instance-header\", onClick: toggleExpanded },\n            preact_1.h(\"img\", { src: cblogo, class: \"-walletlink-snackbar-instance-header-cblogo\" }),\n            preact_1.h(\"div\", { class: \"-walletlink-snackbar-instance-header-message\" }, message),\n            preact_1.h(\"div\", { class: \"-gear-container\" },\n                !expanded && (preact_1.h(\"svg\", { width: \"24\", height: \"24\", viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n                    preact_1.h(\"circle\", { cx: \"12\", cy: \"12\", r: \"12\", fill: \"#F5F7F8\" }))),\n                preact_1.h(\"img\", { src: gearIcon, class: \"-gear-icon\", title: \"Expand\" }))),\n        menuItems && menuItems.length > 0 && (preact_1.h(\"div\", { class: \"-walletlink-snackbar-instance-menu\" }, menuItems.map((action, i) => (preact_1.h(\"div\", { class: clsx_1.default(\"-walletlink-snackbar-instance-menu-item\", action.isRed && \"-walletlink-snackbar-instance-menu-item-is-red\"), onClick: action.onClick, key: i },\n            preact_1.h(\"svg\", { width: action.svgWidth, height: action.svgHeight, viewBox: \"0 0 10 11\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n                preact_1.h(\"path\", { \"fill-rule\": action.defaultFillRule, \"clip-rule\": action.defaultClipRule, d: action.path, fill: \"#AAAAAA\" })),\n            preact_1.h(\"span\", { class: clsx_1.default(\"-walletlink-snackbar-instance-menu-item-info\", action.isRed && \"-walletlink-snackbar-instance-menu-item-info-is-red\") }, action.info))))))));\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkSdkUI = void 0;\nconst WalletLinkUI_1 = require(\"./WalletLinkUI\");\nconst cssReset_1 = require(\"../lib/cssReset\");\nconst LinkFlow_1 = require(\"../components/LinkFlow\");\nconst Snackbar_1 = require(\"../components/Snackbar\");\nclass WalletLinkSdkUI extends WalletLinkUI_1.WalletLinkUI {\n    constructor(options) {\n        super(options);\n        this.attached = false;\n        this.snackbar = new Snackbar_1.Snackbar({\n            darkMode: options.darkMode\n        });\n        this.linkFlow = new LinkFlow_1.LinkFlow({\n            darkMode: options.darkMode,\n            version: options.version,\n            sessionId: options.session.id,\n            sessionSecret: options.session.secret,\n            walletLinkUrl: options.walletLinkUrl,\n            connected$: options.connected$,\n            isParentConnection: false\n        });\n    }\n    attach() {\n        if (this.attached) {\n            throw new Error(\"WalletLinkUI is already attached\");\n        }\n        const el = document.documentElement;\n        const container = document.createElement(\"div\");\n        container.className = \"-walletlink-css-reset\";\n        el.appendChild(container);\n        this.linkFlow.attach(container);\n        this.snackbar.attach(container);\n        this.attached = true;\n        cssReset_1.injectCssReset();\n    }\n    setConnectDisabled(connectDisabled) {\n        this.linkFlow.setConnectDisabled(connectDisabled);\n    }\n    // @ts-ignore\n    switchEthereumChain(options) {\n        // no-op\n    }\n    requestEthereumAccounts(options) {\n        this.linkFlow.open({ onCancel: options.onCancel });\n    }\n    hideRequestEthereumAccounts() {\n        this.linkFlow.close();\n    }\n    showConnecting(options) {\n        const snackbarProps = {\n            message: \"Confirm on phone\",\n            menuItems: [\n                {\n                    isRed: true,\n                    info: \"Cancel transaction\",\n                    svgWidth: \"11\",\n                    svgHeight: \"11\",\n                    path: \"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z\",\n                    defaultFillRule: \"inherit\",\n                    defaultClipRule: \"inherit\",\n                    onClick: options.onCancel\n                },\n                {\n                    isRed: false,\n                    info: \"Reset connection\",\n                    svgWidth: \"10\",\n                    svgHeight: \"11\",\n                    path: \"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z\",\n                    defaultFillRule: \"evenodd\",\n                    defaultClipRule: \"evenodd\",\n                    onClick: options.onResetConnection\n                }\n            ]\n        };\n        return this.snackbar.presentItem(snackbarProps);\n    }\n    reloadUI() {\n        document.location.reload();\n    }\n    inlineAccountsResponse() {\n        return false;\n    }\n    inlineSwitchEthereumChain() {\n        return false;\n    }\n}\nexports.WalletLinkSdkUI = WalletLinkSdkUI;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar constants;\n(function (constants) {\n    constants.typeOfFunction = 'function';\n    constants.boolTrue = true;\n})(constants || (constants = {}));\nfunction bind(target, propertyKey, descriptor) {\n    if (!descriptor || (typeof descriptor.value !== constants.typeOfFunction)) {\n        throw new TypeError(\"Only methods can be decorated with @bind. <\" + propertyKey + \"> is not a method!\");\n    }\n    return {\n        configurable: constants.boolTrue,\n        get: function () {\n            var bound = descriptor.value.bind(this);\n            // Credits to https://github.com/andreypopp/autobind-decorator for memoizing the result of bind against a symbol on the instance.\n            Object.defineProperty(this, propertyKey, {\n                value: bound,\n                configurable: constants.boolTrue,\n                writable: constants.boolTrue\n            });\n            return bound;\n        }\n    };\n}\nexports.bind = bind;\nexports.default = bind;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ClientMessagePublishEvent = exports.ClientMessageSetSessionConfig = exports.ClientMessageGetSessionConfig = exports.ClientMessageIsLinked = exports.ClientMessageHostSession = void 0;\nfunction ClientMessageHostSession(params) {\n    return Object.assign({ type: \"HostSession\" }, params);\n}\nexports.ClientMessageHostSession = ClientMessageHostSession;\nfunction ClientMessageIsLinked(params) {\n    return Object.assign({ type: \"IsLinked\" }, params);\n}\nexports.ClientMessageIsLinked = ClientMessageIsLinked;\nfunction ClientMessageGetSessionConfig(params) {\n    return Object.assign({ type: \"GetSessionConfig\" }, params);\n}\nexports.ClientMessageGetSessionConfig = ClientMessageGetSessionConfig;\nfunction ClientMessageSetSessionConfig(params) {\n    return Object.assign({ type: \"SetSessionConfig\" }, params);\n}\nexports.ClientMessageSetSessionConfig = ClientMessageSetSessionConfig;\nfunction ClientMessagePublishEvent(params) {\n    return Object.assign({ type: \"PublishEvent\" }, params);\n}\nexports.ClientMessagePublishEvent = ClientMessagePublishEvent;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RxWebSocket = exports.ConnectionState = void 0;\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"DISCONNECTED\"] = 0] = \"DISCONNECTED\";\n    ConnectionState[ConnectionState[\"CONNECTING\"] = 1] = \"CONNECTING\";\n    ConnectionState[ConnectionState[\"CONNECTED\"] = 2] = \"CONNECTED\";\n})(ConnectionState = exports.ConnectionState || (exports.ConnectionState = {}));\n/**\n * Rx-ified WebSocket\n */\nclass RxWebSocket {\n    /**\n     * Constructor\n     * @param url WebSocket server URL\n     * @param [WebSocketClass] Custom WebSocket implementation\n     */\n    constructor(url, WebSocketClass = WebSocket) {\n        this.WebSocketClass = WebSocketClass;\n        this.webSocket = null;\n        this.connectionStateSubject = new rxjs_1.BehaviorSubject(ConnectionState.DISCONNECTED);\n        this.incomingDataSubject = new rxjs_1.Subject();\n        this.url = url.replace(/^http/, \"ws\");\n    }\n    /**\n     * Make a websocket connection\n     * @returns an Observable that completes when connected\n     */\n    connect() {\n        if (this.webSocket) {\n            return rxjs_1.throwError(new Error(\"webSocket object is not null\"));\n        }\n        return new rxjs_1.Observable(obs => {\n            let webSocket;\n            try {\n                this.webSocket = webSocket = new this.WebSocketClass(this.url);\n            }\n            catch (err) {\n                obs.error(err);\n                return;\n            }\n            this.connectionStateSubject.next(ConnectionState.CONNECTING);\n            webSocket.onclose = evt => {\n                this.clearWebSocket();\n                obs.error(new Error(`websocket error ${evt.code}: ${evt.reason}`));\n                this.connectionStateSubject.next(ConnectionState.DISCONNECTED);\n            };\n            webSocket.onopen = _ => {\n                obs.next();\n                obs.complete();\n                this.connectionStateSubject.next(ConnectionState.CONNECTED);\n            };\n            webSocket.onmessage = evt => {\n                this.incomingDataSubject.next(evt.data);\n            };\n        }).pipe(operators_1.take(1));\n    }\n    /**\n     * Disconnect from server\n     */\n    disconnect() {\n        const { webSocket } = this;\n        if (!webSocket) {\n            return;\n        }\n        this.clearWebSocket();\n        this.connectionStateSubject.next(ConnectionState.DISCONNECTED);\n        try {\n            webSocket.close();\n        }\n        catch (_a) { }\n    }\n    /**\n     * Emit current connection state and subsequent changes\n     * @returns an Observable for the connection state\n     */\n    get connectionState$() {\n        return this.connectionStateSubject.asObservable();\n    }\n    /**\n     * Emit incoming data from server\n     * @returns an Observable for the data received\n     */\n    get incomingData$() {\n        return this.incomingDataSubject.asObservable();\n    }\n    /**\n     * Emit incoming JSON data from server. non-JSON data are ignored\n     * @returns an Observable for parsed JSON data\n     */\n    get incomingJSONData$() {\n        return this.incomingData$.pipe(operators_1.flatMap(m => {\n            let j;\n            try {\n                j = JSON.parse(m);\n            }\n            catch (err) {\n                return rxjs_1.empty();\n            }\n            return rxjs_1.of(j);\n        }));\n    }\n    /**\n     * Send data to server\n     * @param data text to send\n     */\n    sendData(data) {\n        const { webSocket } = this;\n        if (!webSocket) {\n            throw new Error(\"websocket is not connected\");\n        }\n        webSocket.send(data);\n    }\n    clearWebSocket() {\n        const { webSocket } = this;\n        if (!webSocket) {\n            return;\n        }\n        this.webSocket = null;\n        webSocket.onclose = null;\n        webSocket.onerror = null;\n        webSocket.onmessage = null;\n        webSocket.onopen = null;\n    }\n}\nexports.RxWebSocket = RxWebSocket;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isServerMessageFail = void 0;\nfunction isServerMessageFail(msg) {\n    return (msg &&\n        msg.type === \"Fail\" &&\n        typeof msg.id === \"number\" &&\n        typeof msg.sessionId === \"string\" &&\n        typeof msg.error === \"string\");\n}\nexports.isServerMessageFail = isServerMessageFail;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkConnection = void 0;\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst types_1 = require(\"../types\");\nconst ClientMessage_1 = require(\"./ClientMessage\");\nconst RxWebSocket_1 = require(\"./RxWebSocket\");\nconst ServerMessage_1 = require(\"./ServerMessage\");\nconst HEARTBEAT_INTERVAL = 10000;\nconst REQUEST_TIMEOUT = 60000;\n/**\n * WalletLink Connection\n */\nclass WalletLinkConnection {\n    /**\n     * Constructor\n     * @param sessionId Session ID\n     * @param sessionKey Session Key\n     * @param serverUrl Walletlinkd RPC URL\n     * @param [WebSocketClass] Custom WebSocket implementation\n     */\n    constructor(sessionId, sessionKey, serverUrl, WebSocketClass = WebSocket) {\n        this.sessionId = sessionId;\n        this.sessionKey = sessionKey;\n        this.subscriptions = new rxjs_1.Subscription();\n        this.destroyed = false;\n        this.lastHeartbeatResponse = 0;\n        this.nextReqId = types_1.IntNumber(1);\n        this.connectedSubject = new rxjs_1.BehaviorSubject(false);\n        this.linkedSubject = new rxjs_1.BehaviorSubject(false);\n        this.sessionConfigSubject = new rxjs_1.ReplaySubject(1);\n        const ws = new RxWebSocket_1.RxWebSocket(serverUrl + \"/rpc\", WebSocketClass);\n        this.ws = ws;\n        // attempt to reconnect every 5 seconds when disconnected\n        this.subscriptions.add(ws.connectionState$\n            .pipe(\n        // ignore initial DISCONNECTED state\n        operators_1.skip(1), \n        // if DISCONNECTED and not destroyed\n        operators_1.filter(cs => cs === RxWebSocket_1.ConnectionState.DISCONNECTED && !this.destroyed), \n        // wait 5 seconds\n        operators_1.delay(5000), \n        // check whether it's destroyed again\n        operators_1.filter(_ => !this.destroyed), \n        // reconnect\n        operators_1.flatMap(_ => ws.connect()), operators_1.retry())\n            .subscribe());\n        // perform authentication upon connection\n        this.subscriptions.add(ws.connectionState$\n            .pipe(\n        // ignore initial DISCONNECTED and CONNECTING states\n        operators_1.skip(2), operators_1.switchMap(cs => rxjs_1.iif(() => cs === RxWebSocket_1.ConnectionState.CONNECTED, \n        // if CONNECTED, authenticate, and then check link status\n        this.authenticate().pipe(operators_1.tap(_ => this.sendIsLinked()), operators_1.tap(_ => this.sendGetSessionConfig()), operators_1.map(_ => true)), \n        // if not CONNECTED, emit false immediately\n        rxjs_1.of(false))), operators_1.distinctUntilChanged(), operators_1.catchError(_ => rxjs_1.of(false)))\n            .subscribe(connected => this.connectedSubject.next(connected)));\n        // send heartbeat every n seconds while connected\n        this.subscriptions.add(ws.connectionState$\n            .pipe(\n        // ignore initial DISCONNECTED state\n        operators_1.skip(1), operators_1.switchMap(cs => rxjs_1.iif(() => cs === RxWebSocket_1.ConnectionState.CONNECTED, \n        // if CONNECTED, start the heartbeat timer\n        rxjs_1.timer(0, HEARTBEAT_INTERVAL))))\n            .subscribe(i => \n        // first timer event updates lastHeartbeat timestamp\n        // subsequent calls send heartbeat message\n        i === 0 ? this.updateLastHeartbeat() : this.heartbeat()));\n        // handle server's heartbeat responses\n        this.subscriptions.add(ws.incomingData$\n            .pipe(operators_1.filter(m => m === \"h\"))\n            .subscribe(_ => this.updateLastHeartbeat()));\n        // handle link status updates\n        this.subscriptions.add(ws.incomingJSONData$\n            .pipe(operators_1.filter(m => [\"IsLinkedOK\", \"Linked\"].includes(m.type)))\n            .subscribe(m => {\n            const msg = m;\n            this.linkedSubject.next(msg.linked || msg.onlineGuests > 0);\n        }));\n        // handle session config updates\n        this.subscriptions.add(ws.incomingJSONData$\n            .pipe(operators_1.filter(m => [\"GetSessionConfigOK\", \"SessionConfigUpdated\"].includes(m.type)))\n            .subscribe(m => {\n            const msg = m;\n            this.sessionConfigSubject.next({\n                webhookId: msg.webhookId,\n                webhookUrl: msg.webhookUrl,\n                metadata: msg.metadata\n            });\n        }));\n    }\n    /**\n     * Make a connection to the server\n     */\n    connect() {\n        if (this.destroyed) {\n            throw new Error(\"instance is destroyed\");\n        }\n        this.ws.connect().subscribe();\n    }\n    /**\n     * Terminate connection, and mark as destroyed. To reconnect, create a new\n     * instance of WalletLinkConnection\n     */\n    destroy() {\n        this.subscriptions.unsubscribe();\n        this.ws.disconnect();\n        this.destroyed = true;\n    }\n    /**\n     * Emit true if connected and authenticated, else false\n     * @returns an Observable\n     */\n    get connected$() {\n        return this.connectedSubject.asObservable();\n    }\n    /**\n     * Emit once connected\n     * @returns an Observable\n     */\n    get onceConnected$() {\n        return this.connected$.pipe(operators_1.filter(v => v), operators_1.take(1), operators_1.map(() => void 0));\n    }\n    /**\n     * Emit true if linked (a guest has joined before)\n     * @returns an Observable\n     */\n    get linked$() {\n        return this.linkedSubject.asObservable();\n    }\n    /**\n     * Emit once when linked\n     * @returns an Observable\n     */\n    get onceLinked$() {\n        return this.linked$.pipe(operators_1.filter(v => v), operators_1.take(1), operators_1.map(() => void 0));\n    }\n    /**\n     * Emit current session config if available, and subsequent updates\n     * @returns an Observable for the session config\n     */\n    get sessionConfig$() {\n        return this.sessionConfigSubject.asObservable();\n    }\n    /**\n     * Emit incoming Event messages\n     * @returns an Observable for the messages\n     */\n    get incomingEvent$() {\n        return this.ws.incomingJSONData$.pipe(operators_1.filter(m => {\n            if (m.type !== \"Event\") {\n                return false;\n            }\n            const sme = m;\n            return (typeof sme.sessionId === \"string\" &&\n                typeof sme.eventId === \"string\" &&\n                typeof sme.event === \"string\" &&\n                typeof sme.data === \"string\");\n        }), operators_1.map(m => m));\n    }\n    /**\n     * Set session metadata in SessionConfig object\n     * @param key\n     * @param value\n     * @returns an Observable that completes when successful\n     */\n    setSessionMetadata(key, value) {\n        const message = ClientMessage_1.ClientMessageSetSessionConfig({\n            id: types_1.IntNumber(this.nextReqId++),\n            sessionId: this.sessionId,\n            metadata: { [key]: value }\n        });\n        return this.onceConnected$.pipe(operators_1.flatMap(_ => this.makeRequest(message)), operators_1.map(res => {\n            if (ServerMessage_1.isServerMessageFail(res)) {\n                throw new Error(res.error || \"failed to set session metadata\");\n            }\n        }));\n    }\n    /**\n     * Publish an event and emit event ID when successful\n     * @param event event name\n     * @param data event data\n     * @param callWebhook whether the webhook should be invoked\n     * @returns an Observable that emits event ID when successful\n     */\n    publishEvent(event, data, callWebhook = false) {\n        const message = ClientMessage_1.ClientMessagePublishEvent({\n            id: types_1.IntNumber(this.nextReqId++),\n            sessionId: this.sessionId,\n            event,\n            data,\n            callWebhook\n        });\n        return this.onceLinked$.pipe(operators_1.flatMap(_ => this.makeRequest(message)), operators_1.map(res => {\n            if (ServerMessage_1.isServerMessageFail(res)) {\n                throw new Error(res.error || \"failed to publish event\");\n            }\n            return res.eventId;\n        }));\n    }\n    sendData(message) {\n        this.ws.sendData(JSON.stringify(message));\n    }\n    updateLastHeartbeat() {\n        this.lastHeartbeatResponse = Date.now();\n    }\n    heartbeat() {\n        if (Date.now() - this.lastHeartbeatResponse > HEARTBEAT_INTERVAL * 2) {\n            this.ws.disconnect();\n            return;\n        }\n        try {\n            this.ws.sendData(\"h\");\n        }\n        catch (_a) { }\n    }\n    makeRequest(message, timeout = REQUEST_TIMEOUT) {\n        const reqId = message.id;\n        try {\n            this.sendData(message);\n        }\n        catch (err) {\n            return rxjs_1.throwError(err);\n        }\n        // await server message with corresponding id\n        return this.ws.incomingJSONData$.pipe(operators_1.timeoutWith(timeout, rxjs_1.throwError(new Error(`request ${reqId} timed out`))), operators_1.filter(m => m.id === reqId), operators_1.take(1));\n    }\n    authenticate() {\n        const msg = ClientMessage_1.ClientMessageHostSession({\n            id: types_1.IntNumber(this.nextReqId++),\n            sessionId: this.sessionId,\n            sessionKey: this.sessionKey\n        });\n        return this.makeRequest(msg).pipe(operators_1.map(res => {\n            if (ServerMessage_1.isServerMessageFail(res)) {\n                throw new Error(res.error || \"failed to authentcate\");\n            }\n        }));\n    }\n    sendIsLinked() {\n        const msg = ClientMessage_1.ClientMessageIsLinked({\n            id: types_1.IntNumber(this.nextReqId++),\n            sessionId: this.sessionId\n        });\n        this.sendData(msg);\n    }\n    sendGetSessionConfig() {\n        const msg = ClientMessage_1.ClientMessageGetSessionConfig({\n            id: types_1.IntNumber(this.nextReqId++),\n            sessionId: this.sessionId\n        });\n        this.sendData(msg);\n    }\n}\nexports.WalletLinkConnection = WalletLinkConnection;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decrypt = exports.encrypt = void 0;\nconst util_1 = require(\"../util\");\nconst rxjs_1 = require(\"rxjs\");\n/**\n *\n * @param plainText string to be encrypted\n * @param secret hex representation of 32-byte secret\n * returns hex string representation of bytes in the order: initialization vector (iv),\n * auth tag, encrypted plaintext. IV is 12 bytes. Auth tag is 16 bytes. Remaining bytes are the\n * encrypted plainText.\n */\nasync function encrypt(plainText, secret) {\n    if (secret.length !== 64)\n        throw Error(`secret must be 256 bits`);\n    const ivBytes = crypto.getRandomValues(new Uint8Array(12));\n    const secretKey = await crypto.subtle.importKey(\"raw\", util_1.hexStringToUint8Array(secret), { \"name\": \"aes-gcm\" }, false, [\"encrypt\", \"decrypt\"]);\n    const enc = new TextEncoder();\n    // Will return encrypted plainText with auth tag (ie MAC or checksum) appended at the end\n    const encryptedResult = await window.crypto.subtle.encrypt({\n        name: \"AES-GCM\",\n        iv: ivBytes\n    }, secretKey, enc.encode(plainText));\n    const tagLength = 16;\n    const authTag = encryptedResult.slice(encryptedResult.byteLength - tagLength);\n    const encryptedPlaintext = encryptedResult.slice(0, encryptedResult.byteLength - tagLength);\n    const authTagBytes = new Uint8Array(authTag);\n    const encryptedPlaintextBytes = new Uint8Array(encryptedPlaintext);\n    const concatted = new Uint8Array([...ivBytes, ...authTagBytes, ...encryptedPlaintextBytes]);\n    return util_1.uint8ArrayToHex(concatted);\n}\nexports.encrypt = encrypt;\n/**\n *\n * @param cipherText hex string representation of bytes in the order: initialization vector (iv),\n * auth tag, encrypted plaintext. IV is 12 bytes. Auth tag is 16 bytes.\n * @param secret hex string representation of 32-byte secret\n */\nfunction decrypt(cipherText, secret) {\n    if (secret.length !== 64)\n        throw Error(`secret must be 256 bits`);\n    return new rxjs_1.Observable((subscriber) => {\n        (async () => {\n            const secretKey = await crypto.subtle.importKey(\"raw\", util_1.hexStringToUint8Array(secret), { \"name\": \"aes-gcm\" }, false, [\"encrypt\", \"decrypt\"]);\n            const encrypted = util_1.hexStringToUint8Array(cipherText);\n            const ivBytes = encrypted.slice(0, 12);\n            const authTagBytes = encrypted.slice(12, 28);\n            const encryptedPlaintextBytes = encrypted.slice(28);\n            const concattedBytes = new Uint8Array([...encryptedPlaintextBytes, ...authTagBytes]);\n            const algo = {\n                name: \"AES-GCM\",\n                iv: new Uint8Array(ivBytes)\n            };\n            const decrypted = await window.crypto.subtle.decrypt(algo, secretKey, concattedBytes);\n            const decoder = new TextDecoder();\n            subscriber.next(decoder.decode(decrypted));\n            subscriber.complete();\n        })();\n    });\n}\nexports.decrypt = decrypt;\n","/**\n * [js-sha256]{@link https://github.com/emn178/js-sha256}\n *\n * @version 0.9.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2014-2017\n * @license MIT\n */\n/*jslint bitwise: true */\n(function () {\n  'use strict';\n\n  var ERROR = 'input is invalid type';\n  var WINDOW = typeof window === 'object';\n  var root = WINDOW ? window : {};\n  if (root.JS_SHA256_NO_WINDOW) {\n    WINDOW = false;\n  }\n  var WEB_WORKER = !WINDOW && typeof self === 'object';\n  var NODE_JS = !root.JS_SHA256_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = global;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n  var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = typeof define === 'function' && define.amd;\n  var ARRAY_BUFFER = !root.JS_SHA256_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [-2147483648, 8388608, 32768, 128];\n  var SHIFT = [24, 16, 8, 0];\n  var K = [\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n  ];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];\n\n  var blocks = [];\n\n  if (root.JS_SHA256_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  if (ARRAY_BUFFER && (root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n\n  var createOutputMethod = function (outputType, is224) {\n    return function (message) {\n      return new Sha256(is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createMethod = function (is224) {\n    var method = createOutputMethod('hex', is224);\n    if (NODE_JS) {\n      method = nodeWrap(method, is224);\n    }\n    method.create = function () {\n      return new Sha256(is224);\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  var nodeWrap = function (method, is224) {\n    var crypto = eval(\"require('crypto')\");\n    var Buffer = eval(\"require('buffer').Buffer\");\n    var algorithm = is224 ? 'sha224' : 'sha256';\n    var nodeMethod = function (message) {\n      if (typeof message === 'string') {\n        return crypto.createHash(algorithm).update(message, 'utf8').digest('hex');\n      } else {\n        if (message === null || message === undefined) {\n          throw new Error(ERROR);\n        } else if (message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        }\n      }\n      if (Array.isArray(message) || ArrayBuffer.isView(message) ||\n        message.constructor === Buffer) {\n        return crypto.createHash(algorithm).update(new Buffer(message)).digest('hex');\n      } else {\n        return method(message);\n      }\n    };\n    return nodeMethod;\n  };\n\n  var createHmacOutputMethod = function (outputType, is224) {\n    return function (key, message) {\n      return new HmacSha256(key, is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createHmacMethod = function (is224) {\n    var method = createHmacOutputMethod('hex', is224);\n    method.create = function (key) {\n      return new HmacSha256(key, is224);\n    };\n    method.update = function (key, message) {\n      return method.create(key).update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createHmacOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  function Sha256(is224, sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n    } else {\n      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    }\n\n    if (is224) {\n      this.h0 = 0xc1059ed8;\n      this.h1 = 0x367cd507;\n      this.h2 = 0x3070dd17;\n      this.h3 = 0xf70e5939;\n      this.h4 = 0xffc00b31;\n      this.h5 = 0x68581511;\n      this.h6 = 0x64f98fa7;\n      this.h7 = 0xbefa4fa4;\n    } else { // 256\n      this.h0 = 0x6a09e667;\n      this.h1 = 0xbb67ae85;\n      this.h2 = 0x3c6ef372;\n      this.h3 = 0xa54ff53a;\n      this.h4 = 0x510e527f;\n      this.h5 = 0x9b05688c;\n      this.h6 = 0x1f83d9ab;\n      this.h7 = 0x5be0cd19;\n    }\n\n    this.block = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n    this.is224 = is224;\n  }\n\n  Sha256.prototype.update = function (message) {\n    if (this.finalized) {\n      return;\n    }\n    var notString, type = typeof message;\n    if (type !== 'string') {\n      if (type === 'object') {\n        if (message === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        } else if (!Array.isArray(message)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n      notString = true;\n    }\n    var code, index = 0, i, length = message.length, blocks = this.blocks;\n\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = this.block;\n        blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n          blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n          blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n          blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n\n      if (notString) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n      if (i >= 64) {\n        this.block = blocks[16];\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n    return this;\n  };\n\n  Sha256.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex;\n    blocks[16] = this.block;\n    blocks[i >> 2] |= EXTRA[i & 3];\n    this.block = blocks[16];\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n      blocks[0] = this.block;\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n    blocks[14] = this.hBytes << 3 | this.bytes >>> 29;\n    blocks[15] = this.bytes << 3;\n    this.hash();\n  };\n\n  Sha256.prototype.hash = function () {\n    var a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6,\n      h = this.h7, blocks = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;\n\n    for (j = 16; j < 64; ++j) {\n      // rightrotate\n      t1 = blocks[j - 15];\n      s0 = ((t1 >>> 7) | (t1 << 25)) ^ ((t1 >>> 18) | (t1 << 14)) ^ (t1 >>> 3);\n      t1 = blocks[j - 2];\n      s1 = ((t1 >>> 17) | (t1 << 15)) ^ ((t1 >>> 19) | (t1 << 13)) ^ (t1 >>> 10);\n      blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 << 0;\n    }\n\n    bc = b & c;\n    for (j = 0; j < 64; j += 4) {\n      if (this.first) {\n        if (this.is224) {\n          ab = 300032;\n          t1 = blocks[0] - 1413257819;\n          h = t1 - 150054599 << 0;\n          d = t1 + 24177077 << 0;\n        } else {\n          ab = 704751109;\n          t1 = blocks[0] - 210244248;\n          h = t1 - 1521486534 << 0;\n          d = t1 + 143694565 << 0;\n        }\n        this.first = false;\n      } else {\n        s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10));\n        s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7));\n        ab = a & b;\n        maj = ab ^ (a & c) ^ bc;\n        ch = (e & f) ^ (~e & g);\n        t1 = h + s1 + ch + K[j] + blocks[j];\n        t2 = s0 + maj;\n        h = d + t1 << 0;\n        d = t1 + t2 << 0;\n      }\n      s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10));\n      s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7));\n      da = d & a;\n      maj = da ^ (d & b) ^ ab;\n      ch = (h & e) ^ (~h & f);\n      t1 = g + s1 + ch + K[j + 1] + blocks[j + 1];\n      t2 = s0 + maj;\n      g = c + t1 << 0;\n      c = t1 + t2 << 0;\n      s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10));\n      s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7));\n      cd = c & d;\n      maj = cd ^ (c & a) ^ da;\n      ch = (g & h) ^ (~g & e);\n      t1 = f + s1 + ch + K[j + 2] + blocks[j + 2];\n      t2 = s0 + maj;\n      f = b + t1 << 0;\n      b = t1 + t2 << 0;\n      s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10));\n      s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7));\n      bc = b & c;\n      maj = bc ^ (b & d) ^ cd;\n      ch = (f & g) ^ (~f & h);\n      t1 = e + s1 + ch + K[j + 3] + blocks[j + 3];\n      t2 = s0 + maj;\n      e = a + t1 << 0;\n      a = t1 + t2 << 0;\n    }\n\n    this.h0 = this.h0 + a << 0;\n    this.h1 = this.h1 + b << 0;\n    this.h2 = this.h2 + c << 0;\n    this.h3 = this.h3 + d << 0;\n    this.h4 = this.h4 + e << 0;\n    this.h5 = this.h5 + f << 0;\n    this.h6 = this.h6 + g << 0;\n    this.h7 = this.h7 + h << 0;\n  };\n\n  Sha256.prototype.hex = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var hex = HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\n      HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\n      HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\n      HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\n      HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\n      HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\n      HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\n      HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\n      HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\n      HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\n      HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\n      HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\n      HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F] +\n      HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\n      HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\n      HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\n      HEX_CHARS[(h4 >> 28) & 0x0F] + HEX_CHARS[(h4 >> 24) & 0x0F] +\n      HEX_CHARS[(h4 >> 20) & 0x0F] + HEX_CHARS[(h4 >> 16) & 0x0F] +\n      HEX_CHARS[(h4 >> 12) & 0x0F] + HEX_CHARS[(h4 >> 8) & 0x0F] +\n      HEX_CHARS[(h4 >> 4) & 0x0F] + HEX_CHARS[h4 & 0x0F] +\n      HEX_CHARS[(h5 >> 28) & 0x0F] + HEX_CHARS[(h5 >> 24) & 0x0F] +\n      HEX_CHARS[(h5 >> 20) & 0x0F] + HEX_CHARS[(h5 >> 16) & 0x0F] +\n      HEX_CHARS[(h5 >> 12) & 0x0F] + HEX_CHARS[(h5 >> 8) & 0x0F] +\n      HEX_CHARS[(h5 >> 4) & 0x0F] + HEX_CHARS[h5 & 0x0F] +\n      HEX_CHARS[(h6 >> 28) & 0x0F] + HEX_CHARS[(h6 >> 24) & 0x0F] +\n      HEX_CHARS[(h6 >> 20) & 0x0F] + HEX_CHARS[(h6 >> 16) & 0x0F] +\n      HEX_CHARS[(h6 >> 12) & 0x0F] + HEX_CHARS[(h6 >> 8) & 0x0F] +\n      HEX_CHARS[(h6 >> 4) & 0x0F] + HEX_CHARS[h6 & 0x0F];\n    if (!this.is224) {\n      hex += HEX_CHARS[(h7 >> 28) & 0x0F] + HEX_CHARS[(h7 >> 24) & 0x0F] +\n        HEX_CHARS[(h7 >> 20) & 0x0F] + HEX_CHARS[(h7 >> 16) & 0x0F] +\n        HEX_CHARS[(h7 >> 12) & 0x0F] + HEX_CHARS[(h7 >> 8) & 0x0F] +\n        HEX_CHARS[(h7 >> 4) & 0x0F] + HEX_CHARS[h7 & 0x0F];\n    }\n    return hex;\n  };\n\n  Sha256.prototype.toString = Sha256.prototype.hex;\n\n  Sha256.prototype.digest = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var arr = [\n      (h0 >> 24) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 8) & 0xFF, h0 & 0xFF,\n      (h1 >> 24) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 8) & 0xFF, h1 & 0xFF,\n      (h2 >> 24) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 8) & 0xFF, h2 & 0xFF,\n      (h3 >> 24) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 8) & 0xFF, h3 & 0xFF,\n      (h4 >> 24) & 0xFF, (h4 >> 16) & 0xFF, (h4 >> 8) & 0xFF, h4 & 0xFF,\n      (h5 >> 24) & 0xFF, (h5 >> 16) & 0xFF, (h5 >> 8) & 0xFF, h5 & 0xFF,\n      (h6 >> 24) & 0xFF, (h6 >> 16) & 0xFF, (h6 >> 8) & 0xFF, h6 & 0xFF\n    ];\n    if (!this.is224) {\n      arr.push((h7 >> 24) & 0xFF, (h7 >> 16) & 0xFF, (h7 >> 8) & 0xFF, h7 & 0xFF);\n    }\n    return arr;\n  };\n\n  Sha256.prototype.array = Sha256.prototype.digest;\n\n  Sha256.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var buffer = new ArrayBuffer(this.is224 ? 28 : 32);\n    var dataView = new DataView(buffer);\n    dataView.setUint32(0, this.h0);\n    dataView.setUint32(4, this.h1);\n    dataView.setUint32(8, this.h2);\n    dataView.setUint32(12, this.h3);\n    dataView.setUint32(16, this.h4);\n    dataView.setUint32(20, this.h5);\n    dataView.setUint32(24, this.h6);\n    if (!this.is224) {\n      dataView.setUint32(28, this.h7);\n    }\n    return buffer;\n  };\n\n  function HmacSha256(key, is224, sharedMemory) {\n    var i, type = typeof key;\n    if (type === 'string') {\n      var bytes = [], length = key.length, index = 0, code;\n      for (i = 0; i < length; ++i) {\n        code = key.charCodeAt(i);\n        if (code < 0x80) {\n          bytes[index++] = code;\n        } else if (code < 0x800) {\n          bytes[index++] = (0xc0 | (code >> 6));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else if (code < 0xd800 || code >= 0xe000) {\n          bytes[index++] = (0xe0 | (code >> 12));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else {\n          code = 0x10000 + (((code & 0x3ff) << 10) | (key.charCodeAt(++i) & 0x3ff));\n          bytes[index++] = (0xf0 | (code >> 18));\n          bytes[index++] = (0x80 | ((code >> 12) & 0x3f));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        }\n      }\n      key = bytes;\n    } else {\n      if (type === 'object') {\n        if (key === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && key.constructor === ArrayBuffer) {\n          key = new Uint8Array(key);\n        } else if (!Array.isArray(key)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(key)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n    }\n\n    if (key.length > 64) {\n      key = (new Sha256(is224, true)).update(key).array();\n    }\n\n    var oKeyPad = [], iKeyPad = [];\n    for (i = 0; i < 64; ++i) {\n      var b = key[i] || 0;\n      oKeyPad[i] = 0x5c ^ b;\n      iKeyPad[i] = 0x36 ^ b;\n    }\n\n    Sha256.call(this, is224, sharedMemory);\n\n    this.update(iKeyPad);\n    this.oKeyPad = oKeyPad;\n    this.inner = true;\n    this.sharedMemory = sharedMemory;\n  }\n  HmacSha256.prototype = new Sha256();\n\n  HmacSha256.prototype.finalize = function () {\n    Sha256.prototype.finalize.call(this);\n    if (this.inner) {\n      this.inner = false;\n      var innerHash = this.array();\n      Sha256.call(this, this.is224, this.sharedMemory);\n      this.update(this.oKeyPad);\n      this.update(innerHash);\n      Sha256.prototype.finalize.call(this);\n    }\n  };\n\n  var exports = createMethod();\n  exports.sha256 = exports;\n  exports.sha224 = createMethod(true);\n  exports.sha256.hmac = createHmacMethod();\n  exports.sha224.hmac = createHmacMethod(true);\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    root.sha256 = exports.sha256;\n    root.sha224 = exports.sha224;\n    if (AMD) {\n      define(function () {\n        return exports;\n      });\n    }\n  }\n})();\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Session = void 0;\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst util_1 = require(\"../util\");\nconst js_sha256_1 = require(\"js-sha256\");\nconst STORAGE_KEY_SESSION_ID = \"session:id\";\nconst STORAGE_KEY_SESSION_SECRET = \"session:secret\";\nconst STORAGE_KEY_SESSION_LINKED = \"session:linked\";\nclass Session {\n    constructor(storage, id, secret, linked) {\n        this._storage = storage;\n        this._id = id || util_1.randomBytesHex(16);\n        this._secret = secret || util_1.randomBytesHex(32);\n        const hash = js_sha256_1.sha256.create();\n        hash.update(`${this._id}, ${this._secret} WalletLink`);\n        this._key = hash.hex();\n        this._linked = !!linked;\n    }\n    static load(storage) {\n        const id = storage.getItem(STORAGE_KEY_SESSION_ID);\n        const linked = storage.getItem(STORAGE_KEY_SESSION_LINKED);\n        const secret = storage.getItem(STORAGE_KEY_SESSION_SECRET);\n        if (id && secret) {\n            return new Session(storage, id, secret, linked === \"1\");\n        }\n        return null;\n    }\n    static clear(storage) {\n        storage.removeItem(STORAGE_KEY_SESSION_SECRET);\n        storage.removeItem(STORAGE_KEY_SESSION_ID);\n        storage.removeItem(STORAGE_KEY_SESSION_LINKED);\n    }\n    static get persistedSessionIdChange$() {\n        return rxjs_1.fromEvent(window, \"storage\").pipe(operators_1.filter(evt => evt.key === STORAGE_KEY_SESSION_ID), operators_1.map(evt => ({\n            oldValue: evt.oldValue || null,\n            newValue: evt.newValue || null\n        })));\n    }\n    get id() {\n        return this._id;\n    }\n    get secret() {\n        return this._secret;\n    }\n    get key() {\n        return this._key;\n    }\n    get linked() {\n        return this._linked;\n    }\n    set linked(val) {\n        this._linked = val;\n        this.persistLinked();\n    }\n    save() {\n        this._storage.setItem(STORAGE_KEY_SESSION_ID, this._id);\n        this._storage.setItem(STORAGE_KEY_SESSION_SECRET, this._secret);\n        this.persistLinked();\n        return this;\n    }\n    persistLinked() {\n        this._storage.setItem(STORAGE_KEY_SESSION_LINKED, this._linked ? \"1\" : \"0\");\n    }\n}\nexports.Session = Session;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3Method = void 0;\nvar Web3Method;\n(function (Web3Method) {\n    Web3Method[\"requestEthereumAccounts\"] = \"requestEthereumAccounts\";\n    Web3Method[\"signEthereumMessage\"] = \"signEthereumMessage\";\n    Web3Method[\"signEthereumTransaction\"] = \"signEthereumTransaction\";\n    Web3Method[\"submitEthereumTransaction\"] = \"submitEthereumTransaction\";\n    Web3Method[\"ethereumAddressFromSignedMessage\"] = \"ethereumAddressFromSignedMessage\";\n    Web3Method[\"scanQRCode\"] = \"scanQRCode\";\n    Web3Method[\"arbitrary\"] = \"arbitrary\";\n    Web3Method[\"childRequestEthereumAccounts\"] = \"childRequestEthereumAccounts\";\n    Web3Method[\"addEthereumChain\"] = \"addEthereumChain\";\n    Web3Method[\"switchEthereumChain\"] = \"switchEthereumChain\";\n})(Web3Method = exports.Web3Method || (exports.Web3Method = {}));\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RelayMessageType = void 0;\nvar RelayMessageType;\n(function (RelayMessageType) {\n    RelayMessageType[\"SESSION_ID_REQUEST\"] = \"SESSION_ID_REQUEST\";\n    RelayMessageType[\"SESSION_ID_RESPONSE\"] = \"SESSION_ID_RESPONSE\";\n    RelayMessageType[\"LINKED\"] = \"LINKED\";\n    RelayMessageType[\"UNLINKED\"] = \"UNLINKED\";\n    RelayMessageType[\"WEB3_REQUEST\"] = \"WEB3_REQUEST\";\n    RelayMessageType[\"WEB3_REQUEST_CANCELED\"] = \"WEB3_REQUEST_CANCELED\";\n    RelayMessageType[\"WEB3_RESPONSE\"] = \"WEB3_RESPONSE\";\n})(RelayMessageType = exports.RelayMessageType || (exports.RelayMessageType = {}));\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3RequestCanceledMessage = void 0;\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3RequestCanceledMessage(id) {\n    return { type: RelayMessage_1.RelayMessageType.WEB3_REQUEST_CANCELED, id };\n}\nexports.Web3RequestCanceledMessage = Web3RequestCanceledMessage;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3RequestMessage = void 0;\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3RequestMessage(params) {\n    return Object.assign({ type: RelayMessage_1.RelayMessageType.WEB3_REQUEST }, params);\n}\nexports.Web3RequestMessage = Web3RequestMessage;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChildRequestEthereumAccountsResponse = exports.isRequestEthereumAccountsResponse = exports.RequestEthereumAccountsResponse = exports.SwitchEthereumChainResponse = exports.ErrorResponse = void 0;\nconst Web3Method_1 = require(\"./Web3Method\");\nfunction ErrorResponse(method, errorMessage) {\n    return { method, errorMessage };\n}\nexports.ErrorResponse = ErrorResponse;\nfunction SwitchEthereumChainResponse(isApproved) {\n    return { method: Web3Method_1.Web3Method.switchEthereumChain, result: isApproved };\n}\nexports.SwitchEthereumChainResponse = SwitchEthereumChainResponse;\nfunction RequestEthereumAccountsResponse(addresses) {\n    return { method: Web3Method_1.Web3Method.requestEthereumAccounts, result: addresses };\n}\nexports.RequestEthereumAccountsResponse = RequestEthereumAccountsResponse;\nfunction isRequestEthereumAccountsResponse(res) {\n    return res && res.method === Web3Method_1.Web3Method.requestEthereumAccounts;\n}\nexports.isRequestEthereumAccountsResponse = isRequestEthereumAccountsResponse;\nfunction ChildRequestEthereumAccountsResponse(result) {\n    return { method: Web3Method_1.Web3Method.childRequestEthereumAccounts, result };\n}\nexports.ChildRequestEthereumAccountsResponse = ChildRequestEthereumAccountsResponse;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isWeb3ResponseMessage = exports.Web3ResponseMessage = void 0;\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3ResponseMessage(params) {\n    return Object.assign({ type: RelayMessage_1.RelayMessageType.WEB3_RESPONSE }, params);\n}\nexports.Web3ResponseMessage = Web3ResponseMessage;\nfunction isWeb3ResponseMessage(msg) {\n    return msg && msg.type === RelayMessage_1.RelayMessageType.WEB3_RESPONSE;\n}\nexports.isWeb3ResponseMessage = isWeb3ResponseMessage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkRelayAbstract = exports.WALLET_USER_NAME_KEY = void 0;\nexports.WALLET_USER_NAME_KEY = \"walletUsername\";\nclass WalletLinkRelayAbstract {\n}\nexports.WalletLinkRelayAbstract = WalletLinkRelayAbstract;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkRelay = void 0;\nconst bind_decorator_1 = __importDefault(require(\"bind-decorator\"));\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst WalletLinkConnection_1 = require(\"../connection/WalletLinkConnection\");\nconst util_1 = require(\"../util\");\nconst aes256gcm = __importStar(require(\"./aes256gcm\"));\nconst Session_1 = require(\"./Session\");\nconst Web3Method_1 = require(\"./Web3Method\");\nconst Web3RequestCanceledMessage_1 = require(\"./Web3RequestCanceledMessage\");\nconst Web3RequestMessage_1 = require(\"./Web3RequestMessage\");\nconst Web3Response_1 = require(\"./Web3Response\");\nconst Web3ResponseMessage_1 = require(\"./Web3ResponseMessage\");\nconst WalletLinkRelayAbstract_1 = require(\"./WalletLinkRelayAbstract\");\nclass WalletLinkRelay {\n    constructor(options) {\n        this.accountsCallback = null;\n        this.chainIdCallback = null;\n        this.jsonRpcUrlCallback = null;\n        this.appName = \"\";\n        this.appLogoUrl = null;\n        this.walletLinkUrl = options.walletLinkUrl;\n        this.storage = options.storage;\n        this.session =\n            Session_1.Session.load(options.storage) || new Session_1.Session(options.storage).save();\n        this.relayEventManager = options.relayEventManager;\n        this.connection = new WalletLinkConnection_1.WalletLinkConnection(this.session.id, this.session.key, this.walletLinkUrl);\n        this.connection.incomingEvent$\n            .pipe(operators_1.filter(m => m.event === \"Web3Response\"))\n            .subscribe({ next: this.handleIncomingEvent });\n        // if session is marked destroyed, reset and reload\n        this.connection.sessionConfig$\n            .pipe(operators_1.filter(c => !!c.metadata && c.metadata.__destroyed === \"1\"))\n            .subscribe({ next: this.resetAndReload });\n        this.connection.sessionConfig$\n            .pipe(operators_1.filter(c => c.metadata && c.metadata.WalletUsername !== undefined))\n            .pipe(operators_1.mergeMap(c => aes256gcm.decrypt(c.metadata.WalletUsername, this.session.secret)))\n            .subscribe({\n            next: walletUsername => {\n                this.storage.setItem(WalletLinkRelayAbstract_1.WALLET_USER_NAME_KEY, walletUsername);\n            }\n        });\n        this.connection.sessionConfig$\n            .pipe(operators_1.filter(c => c.metadata && c.metadata.ChainId !== undefined))\n            .pipe(operators_1.mergeMap(c => aes256gcm.decrypt(c.metadata.ChainId, this.session.secret)))\n            .pipe(operators_1.distinctUntilChanged())\n            .subscribe({ next: chainId => {\n                if (this.chainIdCallback) {\n                    this.chainIdCallback(chainId);\n                }\n            }\n        });\n        this.connection.sessionConfig$\n            .pipe(operators_1.filter(c => c.metadata && c.metadata.JsonRpcUrl !== undefined))\n            .pipe(operators_1.mergeMap(c => aes256gcm.decrypt(c.metadata.JsonRpcUrl, this.session.secret)))\n            .pipe(operators_1.distinctUntilChanged())\n            .subscribe({\n            next: jsonRpcURl => {\n                if (this.jsonRpcUrlCallback) {\n                    this.jsonRpcUrlCallback(jsonRpcURl);\n                }\n            },\n        });\n        this.connection.sessionConfig$\n            .pipe(operators_1.filter(c => c.metadata && c.metadata.EthereumAddress !== undefined))\n            .pipe(operators_1.mergeMap(c => aes256gcm.decrypt(c.metadata.EthereumAddress, this.session.secret)))\n            .subscribe({\n            next: selectedAddress => {\n                if (this.accountsCallback) {\n                    this.accountsCallback([selectedAddress]);\n                }\n                if (WalletLinkRelay.accountRequestCallbackIds.size > 0) {\n                    // We get the ethereum address from the metadata.  If for whatever\n                    // reason we don't get a response via an explicit web3 message\n                    // we can still fulfill the eip1102 request.\n                    Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach(id => {\n                        const message = Web3ResponseMessage_1.Web3ResponseMessage({\n                            id,\n                            response: Web3Response_1.RequestEthereumAccountsResponse([selectedAddress])\n                        });\n                        this.invokeCallback(Object.assign(Object.assign({}, message), { id }));\n                    });\n                    WalletLinkRelay.accountRequestCallbackIds.clear();\n                }\n            }\n        });\n        this.ui = options.walletLinkUIConstructor({\n            walletLinkUrl: options.walletLinkUrl,\n            version: options.version,\n            darkMode: options.darkMode,\n            session: this.session,\n            connected$: this.connection.connected$\n        });\n        this.connection.connect();\n    }\n    attachUI() {\n        this.ui.attach();\n    }\n    resetAndReload() {\n        this.connection\n            .setSessionMetadata(\"__destroyed\", \"1\")\n            .pipe(operators_1.timeout(1000), operators_1.catchError(_ => rxjs_1.of(null)))\n            .subscribe(_ => {\n            this.connection.destroy();\n            this.storage.clear();\n            this.ui.reloadUI();\n        });\n    }\n    setAppInfo(appName, appLogoUrl) {\n        this.appName = appName;\n        this.appLogoUrl = appLogoUrl;\n    }\n    getStorageItem(key) {\n        return this.storage.getItem(key);\n    }\n    setStorageItem(key, value) {\n        this.storage.setItem(key, value);\n    }\n    childRequestEthereumAccounts(childSessionId, childSessionSecret, dappName, dappLogoURL, dappURL) {\n        return this.sendChildRequest({\n            method: Web3Method_1.Web3Method.childRequestEthereumAccounts,\n            params: {\n                sessionId: childSessionId,\n                sessionSecret: childSessionSecret,\n                appName: dappName,\n                appLogoURL: dappLogoURL,\n                appURL: dappURL\n            }\n        });\n    }\n    requestEthereumAccounts() {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.requestEthereumAccounts,\n            params: {\n                appName: this.appName,\n                appLogoUrl: this.appLogoUrl || null\n            }\n        });\n    }\n    signEthereumMessage(message, address, addPrefix, typedDataJson) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumMessage,\n            params: {\n                message: util_1.hexStringFromBuffer(message, true),\n                address,\n                addPrefix,\n                typedDataJson: typedDataJson || null\n            }\n        });\n    }\n    ethereumAddressFromSignedMessage(message, signature, addPrefix) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.ethereumAddressFromSignedMessage,\n            params: {\n                message: util_1.hexStringFromBuffer(message, true),\n                signature: util_1.hexStringFromBuffer(signature, true),\n                addPrefix\n            }\n        });\n    }\n    signEthereumTransaction(params) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumTransaction,\n            params: {\n                fromAddress: params.fromAddress,\n                toAddress: params.toAddress,\n                weiValue: util_1.bigIntStringFromBN(params.weiValue),\n                data: util_1.hexStringFromBuffer(params.data, true),\n                nonce: params.nonce,\n                gasPriceInWei: params.gasPriceInWei\n                    ? util_1.bigIntStringFromBN(params.gasPriceInWei)\n                    : null,\n                maxFeePerGas: params.gasPriceInWei\n                    ? util_1.bigIntStringFromBN(params.gasPriceInWei)\n                    : null,\n                maxPriorityFeePerGas: params.gasPriceInWei\n                    ? util_1.bigIntStringFromBN(params.gasPriceInWei)\n                    : null,\n                gasLimit: params.gasLimit ? util_1.bigIntStringFromBN(params.gasLimit) : null,\n                chainId: params.chainId,\n                shouldSubmit: false\n            }\n        });\n    }\n    signAndSubmitEthereumTransaction(params) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumTransaction,\n            params: {\n                fromAddress: params.fromAddress,\n                toAddress: params.toAddress,\n                weiValue: util_1.bigIntStringFromBN(params.weiValue),\n                data: util_1.hexStringFromBuffer(params.data, true),\n                nonce: params.nonce,\n                gasPriceInWei: params.gasPriceInWei\n                    ? util_1.bigIntStringFromBN(params.gasPriceInWei)\n                    : null,\n                maxFeePerGas: params.maxFeePerGas\n                    ? util_1.bigIntStringFromBN(params.maxFeePerGas)\n                    : null,\n                maxPriorityFeePerGas: params.maxPriorityFeePerGas\n                    ? util_1.bigIntStringFromBN(params.maxPriorityFeePerGas)\n                    : null,\n                gasLimit: params.gasLimit ? util_1.bigIntStringFromBN(params.gasLimit) : null,\n                chainId: params.chainId,\n                shouldSubmit: true\n            }\n        });\n    }\n    submitEthereumTransaction(signedTransaction, chainId) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.submitEthereumTransaction,\n            params: {\n                signedTransaction: util_1.hexStringFromBuffer(signedTransaction, true),\n                chainId\n            }\n        });\n    }\n    scanQRCode(regExp) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.scanQRCode,\n            params: { regExp }\n        });\n    }\n    arbitraryRequest(data) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.arbitrary,\n            params: { data }\n        });\n    }\n    addEthereumChain(chainId, blockExplorerUrls, chainName, iconUrls, nativeCurrency) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.addEthereumChain,\n            params: {\n                chainId,\n                blockExplorerUrls,\n                chainName,\n                iconUrls,\n                nativeCurrency\n            }\n        });\n    }\n    /**\n     *\n     * @param request a request to connect the child session using a parent session's connection\n     *\n     * A note on why we're not using the sendRequest method.  The sendRequest function doesn't have\n     * any way to tell when a message has been sent - it either times out after 60 seconds, or\n     * waits until it gets a response from the mobile client.  In the case of sending a child request,\n     * we don't wait for a response from the mobile client, we continue as soon as we know the server\n     * has received the message.  Hence why we have a separate method here.\n     */\n    sendChildRequest(request) {\n        return new Promise((resolve, reject) => {\n            const id = util_1.randomBytesHex(8);\n            const message = Web3RequestMessage_1.Web3RequestMessage({ id, request });\n            this.publishEvent(\"Web3Request\", message, true)\n                .subscribe({\n                next: ret => {\n                    resolve(Web3Response_1.ChildRequestEthereumAccountsResponse(ret));\n                },\n                error: err => {\n                    reject(new Error(err.message));\n                }\n            });\n        });\n    }\n    sendRequest(request) {\n        return new Promise((resolve, reject) => {\n            var _a;\n            let hideSnackbarItem = null;\n            const id = util_1.randomBytesHex(8);\n            const isRequestAccounts = request.method === Web3Method_1.Web3Method.requestEthereumAccounts;\n            const isSwitchEthereumChain = request.method === Web3Method_1.Web3Method.switchEthereumChain;\n            const cancel = () => {\n                this.publishWeb3RequestCanceledEvent(id);\n                this.handleWeb3ResponseMessage(Web3ResponseMessage_1.Web3ResponseMessage({\n                    id,\n                    response: Web3Response_1.ErrorResponse(request.method, \"User rejected request\")\n                }));\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n            };\n            if (isRequestAccounts) {\n                const userAgent = ((_a = window === null || window === void 0 ? void 0 : window.navigator) === null || _a === void 0 ? void 0 : _a.userAgent) || null;\n                if (userAgent &&\n                    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent)) {\n                    window.location.href = `https://go.cb-w.com/xoXnYwQimhb?cb_url=${window.location.href}`;\n                    return;\n                }\n                if (this.ui.inlineAccountsResponse()) {\n                    const onAccounts = (accounts) => {\n                        this.handleWeb3ResponseMessage(Web3ResponseMessage_1.Web3ResponseMessage({\n                            id,\n                            response: Web3Response_1.RequestEthereumAccountsResponse(accounts)\n                        }));\n                    };\n                    this.ui.requestEthereumAccounts({\n                        onCancel: cancel,\n                        onAccounts\n                    });\n                }\n                else {\n                    this.ui.requestEthereumAccounts({\n                        onCancel: cancel\n                    });\n                }\n                WalletLinkRelay.accountRequestCallbackIds.add(id);\n            }\n            else if (request.method === Web3Method_1.Web3Method.switchEthereumChain || request.method === Web3Method_1.Web3Method.addEthereumChain) {\n                const cancel = () => {\n                    this.handleWeb3ResponseMessage(Web3ResponseMessage_1.Web3ResponseMessage({\n                        id,\n                        response: Web3Response_1.SwitchEthereumChainResponse(false),\n                    }));\n                };\n                const approve = () => {\n                    this.handleWeb3ResponseMessage(Web3ResponseMessage_1.Web3ResponseMessage({\n                        id,\n                        response: Web3Response_1.SwitchEthereumChainResponse(true),\n                    }));\n                };\n                this.ui.switchEthereumChain({\n                    onCancel: cancel,\n                    onApprove: approve,\n                    chainId: request.params.chainId,\n                });\n                if (!this.ui.inlineSwitchEthereumChain()) {\n                    hideSnackbarItem = this.ui.showConnecting({\n                        onCancel: cancel,\n                        onResetConnection: this.resetAndReload,\n                    });\n                }\n            }\n            else {\n                hideSnackbarItem = this.ui.showConnecting({\n                    onCancel: cancel,\n                    onResetConnection: this.resetAndReload\n                });\n            }\n            this.relayEventManager.callbacks.set(id, response => {\n                this.ui.hideRequestEthereumAccounts();\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            if ((isRequestAccounts && this.ui.inlineAccountsResponse()) ||\n                (isSwitchEthereumChain && this.ui.inlineSwitchEthereumChain())) {\n                return;\n            }\n            this.publishWeb3RequestEvent(id, request);\n        });\n    }\n    setConnectDisabled(disabled) {\n        this.ui.setConnectDisabled(disabled);\n    }\n    setAccountsCallback(accountsCallback) {\n        this.accountsCallback = accountsCallback;\n    }\n    setChainIdCallback(chainIdCallback) {\n        this.chainIdCallback = chainIdCallback;\n    }\n    setJsonRpcUrlCallback(jsonRpcUrlCallback) {\n        this.jsonRpcUrlCallback = jsonRpcUrlCallback;\n    }\n    publishWeb3RequestEvent(id, request) {\n        const message = Web3RequestMessage_1.Web3RequestMessage({ id, request });\n        this.publishEvent(\"Web3Request\", message, true).subscribe({\n            error: err => {\n                this.handleWeb3ResponseMessage(Web3ResponseMessage_1.Web3ResponseMessage({\n                    id: message.id,\n                    response: {\n                        method: message.request.method,\n                        errorMessage: err.message\n                    }\n                }));\n            }\n        });\n    }\n    publishWeb3RequestCanceledEvent(id) {\n        const message = Web3RequestCanceledMessage_1.Web3RequestCanceledMessage(id);\n        this.publishEvent(\"Web3RequestCanceled\", message, false).subscribe();\n    }\n    publishEvent(event, message, callWebhook) {\n        const secret = this.session.secret;\n        return new rxjs_1.Observable((subscriber) => {\n            aes256gcm.encrypt(JSON.stringify(Object.assign(Object.assign({}, message), { origin: location.origin })), secret).then((encrypted) => {\n                subscriber.next(encrypted);\n                subscriber.complete();\n            });\n        }).pipe(operators_1.mergeMap((encrypted) => {\n            return this.connection.publishEvent(event, encrypted, callWebhook);\n        }));\n    }\n    handleIncomingEvent(event) {\n        try {\n            aes256gcm.decrypt(event.data, this.session.secret)\n                .pipe(operators_1.map(c => JSON.parse(c)))\n                .subscribe({\n                next: json => {\n                    const message = Web3ResponseMessage_1.isWeb3ResponseMessage(json) ? json : null;\n                    if (!message) {\n                        return;\n                    }\n                    this.handleWeb3ResponseMessage(message);\n                }\n            });\n        }\n        catch (_a) {\n            return;\n        }\n    }\n    handleWeb3ResponseMessage(message) {\n        const { response } = message;\n        if (Web3Response_1.isRequestEthereumAccountsResponse(response)) {\n            Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach(id => this.invokeCallback(Object.assign(Object.assign({}, message), { id })));\n            WalletLinkRelay.accountRequestCallbackIds.clear();\n            return;\n        }\n        this.invokeCallback(message);\n    }\n    invokeCallback(message) {\n        const callback = this.relayEventManager.callbacks.get(message.id);\n        if (callback) {\n            callback(message.response);\n            this.relayEventManager.callbacks.delete(message.id);\n        }\n    }\n    switchEthereumChain(chainId) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.switchEthereumChain,\n            params: {\n                chainId\n            }\n        });\n    }\n}\nWalletLinkRelay.accountRequestCallbackIds = new Set();\n__decorate([\n    bind_decorator_1.default\n], WalletLinkRelay.prototype, \"resetAndReload\", null);\n__decorate([\n    bind_decorator_1.default\n], WalletLinkRelay.prototype, \"handleIncomingEvent\", null);\nexports.WalletLinkRelay = WalletLinkRelay;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkRelayEventManager = void 0;\nconst util_1 = require(\"../util\");\nclass WalletLinkRelayEventManager {\n    constructor() {\n        this._nextRequestId = 0;\n        this.callbacks = new Map();\n    }\n    makeRequestId() {\n        // max nextId == max int32 for compatibility with mobile\n        this._nextRequestId = (this._nextRequestId + 1) % 0x7fffffff;\n        const id = this._nextRequestId;\n        const idStr = util_1.prepend0x(id.toString(16));\n        // unlikely that this will ever be an issue, but just to be safe\n        const callback = this.callbacks.get(idStr);\n        if (callback) {\n            this.callbacks.delete(idStr);\n        }\n        return id;\n    }\n}\nexports.WalletLinkRelayEventManager = WalletLinkRelayEventManager;\n","module.exports = {\n  \"name\": \"walletlink\",\n  \"version\": \"2.1.11\",\n  \"description\": \"WalletLink JavaScript SDK\",\n  \"keywords\": [\n    \"cipher\",\n    \"cipherbrowser\",\n    \"coinbase\",\n    \"coinbasewallet\",\n    \"eth\",\n    \"ether\",\n    \"ethereum\",\n    \"etherium\",\n    \"injection\",\n    \"toshi\",\n    \"wallet\",\n    \"walletlink\",\n    \"web3\"\n  ],\n  \"main\": \"dist/index.js\",\n  \"types\": \"dist/index.d.ts\",\n  \"repository\": \"https://github.com/walletlink/walletlink.git\",\n  \"author\": \"Coinbase, Inc.\",\n  \"license\": \"Apache-2.0\",\n\n  \"scripts\": {\n    \"tsc\": \"tsc --noEmit --pretty\",\n    \"test\": \"yarn build-npm && karma start\",\n    \"build\": \"node compile-assets.js && webpack --config webpack.config.js\",\n    \"build-chrome\": \"webpack --config webpack.config.chrome.js\",\n    \"build-npm\": \"tsc -p ./tsconfig.build.json\",\n    \"build:dev\": \"export WALLETLINK_URL='http://localhost:3000'; yarn build && yarn build-chrome\",\n    \"build:dev:watch\": \"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --watch chrome/ --exec 'yarn build:dev'\",\n    \"build:prod\": \"yarn build && yarn build-chrome && yarn build-npm && cp ./package.json ../README.md ../LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  \\\"private\\\": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak\",\n    \"lint\": \"tslint -p . 'src/**/*.ts{,x}'\",\n    \"lint:watch\": \"nodemon -e ts,tsx,js,json,css,scss,svg --watch src/ --exec 'yarn tsc && yarn lint'\"\n  },\n  \"dependencies\": {\n    \"@metamask/safe-event-emitter\": \"2.0.0\",\n    \"bind-decorator\": \"^1.0.11\",\n    \"bn.js\": \"^5.1.1\",\n    \"buffer\": \"^6.0.3\",\n    \"clsx\": \"^1.1.0\",\n    \"eth-block-tracker\": \"4.4.3\",\n    \"eth-json-rpc-filters\": \"4.2.2\",\n    \"eth-rpc-errors\": \"4.0.2\",\n    \"js-sha256\": \"0.9.0\",\n    \"json-rpc-engine\": \"6.1.0\",\n    \"keccak\": \"^3.0.1\",\n    \"preact\": \"^10.5.9\",\n    \"rxjs\": \"^6.6.3\",\n    \"stream-browserify\": \"^3.0.0\",\n    \"util\": \"^0.12.4\"\n  },\n  \"devDependencies\": {\n    \"@types/bn.js\": \"^4.11.6\",\n    \"@types/node\": \"^14.14.20\",\n    \"browserify\": \"17.0.0\",\n    \"copy-webpack-plugin\": \"^6.4.1\",\n    \"core-js\": \"^3.8.2\",\n    \"jasmine\": \"3.8.0\",\n    \"karma\": \"^6.3.2\",\n    \"karma-browserify\": \"8.1.0\",\n    \"karma-chrome-launcher\": \"^3.1.0\",\n    \"karma-jasmine\": \"^4.0.1\",\n    \"nodemon\": \"^2.0.6\",\n    \"raw-loader\": \"^4.0.2\",\n    \"regenerator-runtime\": \"^0.13.7\",\n    \"rxjs-tslint\": \"^0.1.7\",\n    \"sass\": \"^1.32.0\",\n    \"svgo\": \"^1.3.2\",\n    \"ts-jest\": \"^26.4.4\",\n    \"ts-loader\": \"^8.0.13\",\n    \"tslib\": \"^2.0.3\",\n    \"tslint\": \"^6.1.3\",\n    \"tslint-config-prettier\": \"^1.18.0\",\n    \"tslint-config-security\": \"^1.16.0\",\n    \"tslint-microsoft-contrib\": \"^6.2.0\",\n    \"typescript\": \"^4.1.3\",\n    \"watchify\": \"4.0.0\",\n    \"webpack\": \"^5.49.0\",\n    \"webpack-cli\": \"^3.3.12\",\n    \"whatwg-fetch\": \"^3.5.0\"\n  },\n  \"engines\": {\n    \"node\": \">= 10.0.0\"\n  }\n}\n;","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLink = void 0;\nconst ScopedLocalStorage_1 = require(\"./lib/ScopedLocalStorage\");\nconst WalletLinkProvider_1 = require(\"./provider/WalletLinkProvider\");\nconst WalletLinkSdkUI_1 = require(\"./provider/WalletLinkSdkUI\");\nconst WalletLinkRelay_1 = require(\"./relay/WalletLinkRelay\");\nconst WalletLinkRelayEventManager_1 = require(\"./relay/WalletLinkRelayEventManager\");\nconst util_1 = require(\"./util\");\nconst WALLETLINK_URL = process.env.WALLETLINK_URL || \"https://www.walletlink.org\";\nconst WALLETLINK_VERSION = process.env.WALLETLINK_VERSION ||\n    require(\"../package.json\").version ||\n    \"unknown\";\nclass WalletLink {\n    /**\n     * Constructor\n     * @param options WalletLink options object\n     */\n    constructor(options) {\n        this._appName = \"\";\n        this._appLogoUrl = null;\n        this._relay = null;\n        this._relayEventManager = null;\n        let walletLinkUrl = options.walletLinkUrl || WALLETLINK_URL;\n        let walletLinkUIConstructor;\n        if (!options.walletLinkUIConstructor) {\n            walletLinkUIConstructor = options => new WalletLinkSdkUI_1.WalletLinkSdkUI(options);\n        }\n        else {\n            walletLinkUIConstructor = options.walletLinkUIConstructor;\n        }\n        if (typeof options.overrideIsMetaMask === \"undefined\") {\n            this._overrideIsMetaMask = false;\n        }\n        else {\n            this._overrideIsMetaMask = options.overrideIsMetaMask;\n        }\n        const u = new URL(walletLinkUrl);\n        const walletLinkOrigin = `${u.protocol}//${u.host}`;\n        this._storage = new ScopedLocalStorage_1.ScopedLocalStorage(`-walletlink:${walletLinkOrigin}`);\n        this._storage.setItem(\"version\", WalletLink.VERSION);\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            return;\n        }\n        this._relayEventManager = new WalletLinkRelayEventManager_1.WalletLinkRelayEventManager();\n        this._relay = new WalletLinkRelay_1.WalletLinkRelay({\n            walletLinkUrl: walletLinkUrl,\n            version: WALLETLINK_VERSION,\n            darkMode: !!options.darkMode,\n            walletLinkUIConstructor: walletLinkUIConstructor,\n            storage: this._storage,\n            relayEventManager: this._relayEventManager\n        });\n        this.setAppInfo(options.appName, options.appLogoUrl);\n        this._relay.attachUI();\n    }\n    /**\n     * Create a Web3 Provider object\n     * @param jsonRpcUrl Ethereum JSON RPC URL (Default: \"\")\n     * @param chainId Ethereum Chain ID (Default: 1)\n     * @returns A Web3 Provider\n     */\n    makeWeb3Provider(jsonRpcUrl = \"\", chainId = 1) {\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            if (\n            //@ts-ignore\n            typeof window.walletLinkExtension.isCipher !== \"boolean\" ||\n                //@ts-ignore\n                !window.walletLinkExtension.isCipher) {\n                //@ts-ignore\n                window.walletLinkExtension.setProviderInfo(jsonRpcUrl, chainId);\n            }\n            return window.walletLinkExtension;\n        }\n        const relay = this._relay;\n        if (!relay || !this._relayEventManager || !this._storage) {\n            throw new Error(\"Relay not initialized, should never happen\");\n        }\n        if (!jsonRpcUrl)\n            relay.setConnectDisabled(true);\n        return new WalletLinkProvider_1.WalletLinkProvider({\n            relayProvider: () => Promise.resolve(relay),\n            relayEventManager: this._relayEventManager,\n            storage: this._storage,\n            jsonRpcUrl,\n            chainId,\n            overrideIsMetaMask: this._overrideIsMetaMask\n        });\n    }\n    /**\n     * Set application information\n     * @param appName Application name\n     * @param appLogoUrl Application logo image URL\n     */\n    setAppInfo(appName, appLogoUrl) {\n        var _a;\n        this._appName = appName || \"DApp\";\n        this._appLogoUrl = appLogoUrl || util_1.getFavicon();\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            if (\n            //@ts-ignore\n            typeof window.walletLinkExtension.isCipher !== \"boolean\" ||\n                //@ts-ignore\n                !window.walletLinkExtension.isCipher) {\n                //@ts-ignore\n                window.walletLinkExtension.setAppInfo(this._appName, this._appLogoUrl);\n            }\n        }\n        else {\n            (_a = this._relay) === null || _a === void 0 ? void 0 : _a.setAppInfo(this._appName, this._appLogoUrl);\n        }\n    }\n    /**\n     * Disconnect. After disconnecting, this will reload the web page to ensure\n     * all potential stale state is cleared.\n     */\n    disconnect() {\n        var _a;\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            window.walletLinkExtension.close();\n        }\n        else {\n            (_a = this._relay) === null || _a === void 0 ? void 0 : _a.resetAndReload();\n        }\n    }\n}\nexports.WalletLink = WalletLink;\n/**\n * WalletLink version\n */\nWalletLink.VERSION = WALLETLINK_VERSION;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLink = exports.WalletLinkProvider = void 0;\nconst WalletLinkProvider_1 = require(\"./provider/WalletLinkProvider\");\nconst WalletLink_1 = require(\"./WalletLink\");\nvar WalletLinkProvider_2 = require(\"./provider/WalletLinkProvider\");\nObject.defineProperty(exports, \"WalletLinkProvider\", { enumerable: true, get: function () { return WalletLinkProvider_2.WalletLinkProvider; } });\nvar WalletLink_2 = require(\"./WalletLink\");\nObject.defineProperty(exports, \"WalletLink\", { enumerable: true, get: function () { return WalletLink_2.WalletLink; } });\nexports.default = WalletLink_1.WalletLink;\nif (typeof window !== \"undefined\") {\n    window.WalletLink = WalletLink_1.WalletLink;\n    window.WalletLinkProvider = WalletLinkProvider_1.WalletLinkProvider;\n}\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}