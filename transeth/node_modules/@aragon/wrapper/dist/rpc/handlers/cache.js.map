{"version":3,"file":"cache.js","names":["request","proxy","wrapper","cacheKey","getCacheKey","address","params","cache","set","get","observe","Promise","reject","Error"],"sources":["../../../src/rpc/handlers/cache.js"],"sourcesContent":["import { getCacheKey } from '../../utils/index'\n\nexport default function (request, proxy, wrapper) {\n  const cacheKey = getCacheKey(proxy.address, request.params[1])\n\n  if (request.params[0] === 'set') {\n    return wrapper.cache.set(cacheKey, request.params[2])\n  }\n\n  if (request.params[0] === 'get') {\n    return wrapper.cache.get(cacheKey)\n  }\n\n  if (request.params[0] === 'observe') {\n    return wrapper.cache.observe(cacheKey)\n  }\n\n  return Promise.reject(\n    new Error('Invalid cache operation')\n  )\n}\n"],"mappings":"aAAA,wC,oDAqeuB;4BAneR,kBAAUA,OAAV,CAAmBC,KAAnB,CAA0BC,OAA1B,CAAmC,CAChD,KAAMC,SAAQ,CAAG,GAAAC,kBAAA,EAAYH,KAAK,CAACI,OAAlB,CAA2BL,OAAO,CAACM,MAAR,CAAe,CAAf,CAA3B,CAAjB,CADgD,MAGtB,KAAtB,GAAAN,OAAO,CAACM,MAAR,CAAe,CAAf,CAH4C,CAIvCJ,OAAO,CAACK,KAAR,CAAcC,GAAd,CAAkBL,QAAlB,CAA4BH,OAAO,CAACM,MAAR,CAAe,CAAf,CAA5B,CAJuC,CAOtB,KAAtB,GAAAN,OAAO,CAACM,MAAR,CAAe,CAAf,CAP4C,CAQvCJ,OAAO,CAACK,KAAR,CAAcE,GAAd,CAAkBN,QAAlB,CARuC,CAWtB,SAAtB,GAAAH,OAAO,CAACM,MAAR,CAAe,CAAf,CAX4C,CAYvCJ,OAAO,CAACK,KAAR,CAAcG,OAAd,CAAsBP,QAAtB,CAZuC,CAezCQ,OAAO,CAACC,MAAR,CACL,GAAIC,MAAJ,CAAU,yBAAV,CADK,CAGR"}