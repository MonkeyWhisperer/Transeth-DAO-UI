{"version":3,"sources":["../../../src/rpc/handlers/cache.js"],"names":["request","proxy","wrapper","cacheKey","address","params","cache","set","get","observe","Promise","reject","Error"],"mappings":"aAAA,wC,oDA6duB;4BA3dR,kBAAUA,OAAV,CAAmBC,KAAnB,CAA0BC,OAA1B,CAAmC,CAChD,KAAMC,CAAAA,QAAQ,CAAG,uBAAYF,KAAK,CAACG,OAAlB,CAA2BJ,OAAO,CAACK,MAAR,CAAe,CAAf,CAA3B,CAAjB,CADgD,MAGtB,KAAtB,GAAAL,OAAO,CAACK,MAAR,CAAe,CAAf,CAH4C,CAIvCH,OAAO,CAACI,KAAR,CAAcC,GAAd,CAAkBJ,QAAlB,CAA4BH,OAAO,CAACK,MAAR,CAAe,CAAf,CAA5B,CAJuC,CAOtB,KAAtB,GAAAL,OAAO,CAACK,MAAR,CAAe,CAAf,CAP4C,CAQvCH,OAAO,CAACI,KAAR,CAAcE,GAAd,CAAkBL,QAAlB,CARuC,CAWtB,SAAtB,GAAAH,OAAO,CAACK,MAAR,CAAe,CAAf,CAX4C,CAYvCH,OAAO,CAACI,KAAR,CAAcG,OAAd,CAAsBN,QAAtB,CAZuC,CAezCO,OAAO,CAACC,MAAR,CACL,GAAIC,CAAAA,KAAJ,CAAU,yBAAV,CADK,CAGR","sourcesContent":["import { getCacheKey } from '../../utils/index'\n\nexport default function (request, proxy, wrapper) {\n  const cacheKey = getCacheKey(proxy.address, request.params[1])\n\n  if (request.params[0] === 'set') {\n    return wrapper.cache.set(cacheKey, request.params[2])\n  }\n\n  if (request.params[0] === 'get') {\n    return wrapper.cache.get(cacheKey)\n  }\n\n  if (request.params[0] === 'observe') {\n    return wrapper.cache.observe(cacheKey)\n  }\n\n  return Promise.reject(\n    new Error('Invalid cache operation')\n  )\n}\n"],"file":"cache.js"}