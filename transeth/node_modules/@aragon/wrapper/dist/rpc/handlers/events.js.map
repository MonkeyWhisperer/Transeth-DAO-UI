{"version":3,"sources":["../../../src/rpc/handlers/events.js"],"names":["request","proxy","params","length","eventNames","eventOptions","events","fromBlock"],"mappings":"aAAA,0C,oDA6duB;4BA3dR,kBAAUA,OAAV,CAAmBC,KAAnB,CAA0B,CACvC;AACA;AACA;AACA,GAA8B,CAA1B,GAAAD,OAAO,CAACE,MAAR,CAAeC,MAAnB,CAAiC,CAC/B;AAD+B,KAEzBC,CAAAA,UAAU,CAAG,0BAAcJ,OAAO,CAACE,MAAR,CAAe,CAAf,CAAd,CAFY,CAGzBG,YAAY,CAAGL,OAAO,CAACE,MAAR,CAAe,CAAf,CAHU,CAI/B,MAAOD,CAAAA,KAAK,CAACK,MAAN,CAAaF,UAAb,CAAyBC,YAAzB,CACR,CAMD;AANO,GAA6B,CAAzB,EAAAL,OAAO,CAACE,MAAR,CAAeC,MAAnB,CAAgC,CACrC;AACA,KAAMI,CAAAA,SAAS,CAAGP,OAAO,CAACE,MAAR,CAAe,CAAf,CAAlB,CACA,MAAOD,CAAAA,KAAK,CAACK,MAAN,CAAa,IAAb,CAAmB,CAAEC,SAAF,CAAnB,CACR,CAGD,MAAON,CAAAA,KAAK,CAACK,MAAN,EACR","sourcesContent":["import { getEventNames } from '../../utils/events'\n\nexport default function (request, proxy) {\n  // `events` RPC compatibility with aragonAPI versions:\n  //   - aragonAPIv2: `'events', [eventNames, eventOptions]`\n  //   - aragonAPIv1: `'events', [fromBlock (optional)]`\n  if (request.params.length === 2) {\n    // aragonAPIv2\n    const eventNames = getEventNames(request.params[0])\n    const eventOptions = request.params[1]\n    return proxy.events(eventNames, eventOptions)\n  } else if (request.params.length <= 1) {\n    // aragonAPIv1\n    const fromBlock = request.params[0]\n    return proxy.events(null, { fromBlock })\n  }\n\n  // Otherwise, just use event defaults\n  return proxy.events()\n}\n"],"file":"events.js"}