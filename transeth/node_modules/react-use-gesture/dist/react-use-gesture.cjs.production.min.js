"use strict";var t,e,n=(t=require("react"))&&"object"==typeof t&&"default"in t?t.default:t;function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function i(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)e.indexOf(n=i[r])>=0||(o[n]=t[n]);return o}!function(t){t.OnStart="start",t.OnChange="change",t.OnEnd="end"}(e||(e={}));var a=function(){},c=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.forEach(function(t){return t.apply(void 0,n)})}},s=function(t,e){return t.map(function(t,n){return t+e[n]})},u=function(t,e){return t.map(function(t,n){return t-e[n]})},l=function(t){return function(e,n,r){var o=t?"addEventListener":"removeEventListener";n.forEach(function(t){return e[o](t[0],t[1],r)})}},d=l(!0),v=l(!1);function h(t){return{shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey}}function f(t){return r({values:[t.deltaX,t.deltaY]},h(t))}function g(t){var e=t.touches,n=t.buttons,o=t.changedTouches,i=e&&e.length>0?e:o&&o.length>0?o:null,a=i?i[0]:t;return r({values:[a.clientX,a.clientY],touches:i&&i.length||0,down:i&&i.length>0||n>0,buttons:n},h(t))}function p(t){var e=t.touches,n=e[1].clientX-e[0].clientX,o=e[1].clientY-e[0].clientY;return r({values:[Math.hypot(n,o),-180*Math.atan2(n,o)/Math.PI],origin:[(e[1].clientX+e[0].clientX)/2,(e[1].clientY+e[0].clientY)/2],touches:2,down:e.length>0},h(t))}function m(t,e,n){return n=n||Math.hypot.apply(Math,t),e?n/e:0}function S(t,e){return e?t.map(function(t){return t/e}):Array(t.length).fill(0)}function y(t){return Math.hypot.apply(Math,t)}function E(t,e){return e=e||Math.hypot.apply(Math,t)||1,t.map(function(t){return t/e})}var w={drag:{stateKey:"drag",handlerKey:"onDrag"},pinch:{stateKey:"pinch",handlerKey:"onPinch"},move:{stateKey:"move",handlerKey:"onMove"},scroll:{stateKey:"scroll",handlerKey:"onScroll"},wheel:{stateKey:"wheel",handlerKey:"onWheel"},hover:{stateKey:"move",handlerKey:"onHover"}},K={domTarget:void 0,event:{passive:!0,capture:!1},pointerEvents:!1,window:"undefined"!=typeof window?window:void 0,transform:{x:function(t){return t},y:function(t){return t}},enabled:!0,drag:!0,pinch:!0,scroll:!0,wheel:!0,hover:!0,move:!0},b={event:void 0,currentTarget:void 0,pointerId:void 0,values:[0,0],velocities:[0,0],delta:[0,0],initial:[0,0],previous:[0,0],transform:void 0,local:[0,0],lastLocal:[0,0],first:!1,last:!1,active:!1,time:void 0,cancel:a,canceled:!1,memo:void 0,args:void 0},C={xy:[0,0],vxvy:[0,0],velocity:0,distance:0,direction:[0,0]},O={shared:{hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1},move:r({},b,{},C),drag:r({},b,{},C),scroll:r({},b,{},C),wheel:r({},b,{},C),pinch:r({},b,{},{da:[0,0],vdva:[0,0],origin:[0,0],turns:0})},T={first:!1,last:!0,active:!1},L=function(t,e,n){var o=this;void 0===n&&(n=[]),this.gestureKey=t,this.controller=e,this.args=n,this.isEnabled=function(){return o.controller.config.enabled&&o.controller.config[o.gestureKey]},this.setTimeout=function(t,e){var n;void 0===e&&(e=140);for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];o.controller.timeouts[o.stateKey]=(n=window).setTimeout.apply(n,[t,e].concat(i))},this.clearTimeout=function(){clearTimeout(o.controller.timeouts[o.stateKey])},this.getState=function(){return o.controller.state[o.stateKey]},this.getSharedState=function(){return o.controller.state.shared},this.pointerEventsEnabled=function(){return o.controller.config.pointerEvents},this.getTransformConfig=function(){return o.controller.config.transform},this.addWindowListeners=function(t){o.controller.addWindowListeners(o.stateKey,t)},this.removeWindowListeners=function(){o.controller.removeWindowListeners(o.stateKey)},this.updateState=function(t,e,n){o.controller.updateState(t,e,o.gestureKey,n)},this.getStartState=function(t,e){var n=o.getState(),i=O[o.stateKey],a=n.transform||e.transform||o.getTransformConfig(),c=n.local||i.local;return r({},i,{event:e,values:t,initial:t,previous:t,local:c,lastLocal:c,first:!0,active:!0,transform:a,time:e.timeStamp,args:o.args})},this.stateKey=w[t].stateKey},M=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).getKinematics=function(t,n){var r=e.getState(),o=r.values,i=r.initial,a=r.lastLocal,c=r.time,l=void 0===c?0:c,d=r.transform||n.transform||e.getTransformConfig(),v=u(t,i).map(function(t,e){return Object.values(d)[e](t)}),h=function(t,e,n){var r=Math.hypot.apply(Math,e);return{velocities:S(e,n),velocity:m(e,n,r),distance:y(t),direction:E(e,r)}}(v,u(t,o).map(function(t,e){return Object.values(d)[e](t)}),n.timeStamp-l);return{event:n,values:t,delta:v,velocity:h.velocity,velocities:h.velocities,distance:h.distance,direction:h.direction,local:s(a,v),previous:o,transform:d,time:n.timeStamp}},e}return o(e,t),e}(L),D=function(t){function n(n,o){var c;return(c=t.call(this,"drag",n,o)||this).onStart=function(t){if(c.isEnabled()){var n=g(t),o=n.values,a=i(n,["values"]);if(!(a.touches>1)){var s=t.currentTarget,u=t.pointerId;c.pointerEventsEnabled()?s&&s.setPointerCapture(u):(c.removeWindowListeners(),c.addWindowListeners([["mousemove",c.onChange],["mouseup",c.onEnd],["touchmove",c.onChange],["touchend",c.onEnd],["touchcancel",c.onEnd]]));var l=c.getStartState(o,t);c.updateState(r({},a,{dragging:!0,down:!0}),r({},l,{currentTarget:s,pointerId:u,cancel:function(){return c.onCancel(t)}}),e.OnStart)}}},c.onChange=function(t){var n=c.getState();if(!n.canceled&&n.active){var o=g(t),a=o.values,s=i(o,["values"]);if(0!==s.buttons||0!==s.touches){var u=c.getKinematics(a,t);c.updateState(s,r({},u,{first:!1,cancel:function(){return c.onCancel(t)}}),e.OnChange)}else c.onEnd(t)}},c.onEnd=function(t){var n=c.getState();if(n.active){var o=n.currentTarget,i=n.pointerId;o&&c.pointerEventsEnabled()?o.releasePointerCapture(i):c.removeWindowListeners(),c.updateState({dragging:!1,down:!1,buttons:0,touches:0},r({},T,{event:t}),e.OnEnd)}},c.onCancel=function(t){c.updateState(null,{canceled:!0,cancel:a}),requestAnimationFrame(function(){return c.onEnd(t)})},c}return o(n,t),n.prototype.getEventBindings=function(){return this.pointerEventsEnabled()?[["onPointerDown",this.onStart],["onPointerMove",this.onChange],[["onPointerUp","onPointerCancel"],this.onEnd]]:[[["onMouseDown","onTouchStart"],this.onStart]]},n}(M),W=function(t){function n(n,o){var a;return(a=t.call(this,"scroll",n,o)||this).onChange=function(t){if(a.isEnabled()){a.clearTimeout(),a.setTimeout(a.onEnd);var n=function(t){var e=t.currentTarget;return r({values:[e.scrollX||e.scrollLeft||0,e.scrollY||e.scrollTop||0]},h(t))}(t),o=n.values,c=i(n,["values"]);if(a.getState().active){var s=a.getKinematics(o,t);a.updateState(c,r({},s,{first:!1}),e.OnChange)}else{var u=a.getStartState(o,t);a.updateState(r({scrolling:!0},c),u,e.OnStart)}}},a.onEnd=function(){a.getState().active&&a.updateState({scrolling:!1},r({},T,{velocity:0,velocities:[0,0]}),e.OnEnd)},a}return o(n,t),n.prototype.getEventBindings=function(){return[["onScroll",this.onChange]]},n}(M),P=function(t){function n(n,o){var a;return(a=t.call(this,"wheel",n,o)||this).onChange=function(t){if(a.isEnabled()){a.clearTimeout(),a.setTimeout(a.onEnd);var n=f(t),o=n.values,c=i(n,["values"]),u=s(o,a.getState().values);if(a.getState().active){var l=a.getKinematics(u,t);a.updateState(c,r({},l,{first:!1}),e.OnChange)}else{var d=a.getStartState(u,t);a.updateState(r({wheeling:!0},c),d,e.OnStart)}}},a.onEnd=function(){a.getState().active&&a.updateState({wheeling:!1},r({},T,{velocity:0,velocities:[0,0]}),e.OnEnd)},a}return o(n,t),n.prototype.getEventBindings=function(){return[["onWheel",this.onChange]]},n}(M),B=function(t){function n(n,o){var a;return(a=t.call(this,"move",n,o)||this).onChange=function(t){if(a.isEnabled()){a.clearTimeout(),a.setTimeout(a.onEnd);var n=g(t),o=n.values,c=i(n,["values"]);if(a.getState().active){var s=a.getKinematics(o,t);a.updateState(c,r({},s,{first:!1}),e.OnChange)}else{var u=a.getStartState(o,t);a.updateState(r({moving:!0},c),u,e.OnStart)}}},a.onEnd=function(){a.getState().active&&a.updateState({moving:!1},r({},T,{velocity:0,velocities:[0,0]}),e.OnEnd)},a}return o(n,t),n.prototype.getEventBindings=function(){return this.pointerEventsEnabled()?[["onPointerMove",this.onChange]]:[["onMouseMove",this.onChange]]},n}(M),A=function(t){function n(n,o){var a;return(a=t.call(this,"hover",n,o)||this).onStart=function(t){if(a.isEnabled()){var n=g(t),o=n.values,c=i(n,["values"]);a.updateState(r({hovering:!0},c),{values:o,event:t,args:a.args},e.OnChange)}},a.onEnd=function(t){if(a.isEnabled()){var n=g(t),o=n.values,c=i(n,["values"]),s=a.getKinematics(o,t);a.updateState(r({hovering:!1,moving:!1},c),r({},s,{},T,{velocity:0,velocities:[0,0]})),a.controller.fireGestureHandler("move",e.OnEnd),a.controller.fireGestureHandler("hover",e.OnChange)}},a}return o(n,t),n.prototype.getEventBindings=function(){return this.pointerEventsEnabled()?[["onPointerEnter",this.onStart],["onPointerLeave",this.onEnd]]:[["onMouseEnter",this.onStart],["onMouseLeave",this.onEnd]]},n}(M),x=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).getKinematics=function(t,n){var r=t[0],o=t[1],i=e.getState(),a=i.values,c=i.turns,u=i.initial,l=i.lastLocal,d=i.time,v=void 0===d?0:d,h=r-a[0],f=(o=void 0===o?a[1]:o)-a[1],g=Math.abs(f)>300?c+Math.sign(f):c,p=[r-u[0],o-360*g-u[1]];return{event:n,values:[r,o],delta:p,velocities:S([h,f-=360*g],n.timeStamp-v),turns:g,local:s(l,p),previous:a,time:n.timeStamp}},e}return o(e,t),e}(L),j=function(t){function n(n,o){var c;return(c=t.call(this,"pinch",n,o)||this).onStart=function(t){if(c.isEnabled()&&2===t.touches.length){var n=p(t),o=n.values,a=n.origin,s=i(n,["values","origin"]),u=c.getStartState(o,t);c.updateState(r({},s,{pinching:!0,down:!0}),r({},u,{origin:a,cancel:function(){return c.onCancel(t)}}),e.OnStart)}},c.onChange=function(t){var n=c.getState();if(!n.canceled&&n.active&&2===t.touches.length){var o=p(t),a=o.values,s=o.origin,u=i(o,["values","origin"]),l=c.getKinematics(a,t);c.updateState(u,r({},l,{origin:s,first:!1,cancel:function(){return c.onCancel(t)}}),e.OnChange)}},c.onEnd=function(t){c.getState().active&&c.updateState({pinching:!1,down:!1,touches:0},r({},T,{event:t}),e.OnEnd)},c.onCancel=function(t){c.updateState(null,{canceled:!0,cancel:a}),requestAnimationFrame(function(){return c.onEnd(t)})},c}return o(n,t),n.prototype.getEventBindings=function(){return[["onTouchStart",this.onStart],["onTouchMove",this.onChange],[["onTouchEnd","onTouchCancel"],this.onEnd]]},n}(x),z=function(t){function n(n,o){var a;return(a=t.call(this,"pinch",n,o)||this).onChange=function(t){if(a.isEnabled()&&t.ctrlKey){t.preventDefault(),a.clearTimeout(),a.setTimeout(a.onEnd);var n=f(t),o=n.values,c=i(n,["values"]),s=a.getState().values[0]-o[1];if(a.getState().active){var u=a.getKinematics([s,void 0],t);a.updateState(c,r({},u,{first:!1}),e.OnChange)}else{var l=a.getStartState([s,0],t);a.updateState(r({pinching:!0},c),l,e.OnStart)}}},a.onEnd=function(){a.getState().active&&a.updateState({pinching:!1,down:!1,touches:0},r({},T),e.OnEnd)},a}return o(n,t),n.prototype.getEventBindings=function(){return[["onWheel",this.onChange]]},n}(x),R=260,G=function(t){function n(n,o){var i;return(i=t.call(this,"pinch",n,o)||this).onStart=function(t){if(i.isEnabled()){t.preventDefault();var n=i.getStartState([t.scale*R,t.rotation],t);i.updateState({pinching:!0,down:!0,touches:2},r({},n,{cancel:function(){return i.onCancel(t)}}),e.OnStart)}},i.onChange=function(t){var n=i.getState();if(!n.canceled&&n.active){t.preventDefault();var o=i.getKinematics([t.scale*R,t.rotation],t);i.updateState(null,r({},o,{first:!1,cancel:function(){return i.onCancel(t)}}),e.OnChange)}},i.onEnd=function(t){i.getState().active&&(t.preventDefault(),i.updateState({pinching:!1,down:!1,touches:0},r({},T,{event:t}),e.OnEnd))},i.onCancel=function(t){i.updateState(null,{canceled:!0,cancel:a}),requestAnimationFrame(function(){return i.onEnd(t)})},i.updateTouchData=function(t){if(i.isEnabled()&&2===t.touches.length){var e=p(t);i.updateState(null,{origin:e.origin})}},i}return o(n,t),n.prototype.getEventBindings=function(){return[["onGestureStart",this.onStart],["onGestureChange",this.onChange],[["onGestureEnd","onTouchCancel"],this.onEnd],[["onTouchStart","onTouchMove"],this.updateTouchData]]},n}(x),H=function(t,n){var o=this;this.handlers=t,this.config=n,this.state=O,this.timeouts={},this.bindings={},this.domListeners=[],this.windowListeners={},this.clean=function(){o.cleanOnBind(),Object.values(o.timeouts).forEach(clearTimeout),Object.keys(o.windowListeners).forEach(function(t){return o.removeWindowListeners(t)})},this.cleanOnBind=function(){o.bindings={};var t=o.config.domTarget;t&&(v(t,o.domListeners,o.config.event),o.domListeners=[])},this.updateState=function(t,e,n,i){var a,c=w[n].stateKey;o.state=r({},o.state,((a={shared:r({},o.state.shared,{},t)})[c]=r({},o.state[c],{},e),a)),i&&o.fireGestureHandler(n,i)},this.fireGestureHandler=function(t,n){var i=w[t],a=i.stateKey,c=i.handlerKey,s=r({},o.state.shared,{},o.state[a]);if("pinch"===t){var u=s;u.da=s.values,u.vdva=s.velocities}else{var l=s;l.xy=s.values,l.vxvy=s.velocities}if(s.temp=s.memo,n===e.OnStart){var d=o.handlers[c+"Start"];d&&d(s)}var v=o.handlers[c];if(v){var h=v(s);o.state[a].memo=void 0!==h?h:o.state[a].memo}if(n===e.OnEnd){var f=o.handlers[c+"End"];f&&f(s)}},this.addWindowListeners=function(t,e){o.config.window&&(o.windowListeners[t]=e,d(o.config.window,e,o.config.event))},this.removeWindowListeners=function(t){if(o.config.window){var e=o.windowListeners[t];e&&(v(o.config.window,e,o.config.event),delete o.windowListeners[t])}},this.addRecognizer=function(t){t.getEventBindings().map(o.addEventBindings)},this.addEventBindings=function(t){var e=t[0],n=t[1];(Array.isArray(e)?e:[e]).forEach(function(t){o.bindings[t]=o.bindings[t]?[].concat(o.bindings[t],[n]):[n]})},this.addDomTargetListeners=function(){var t=o.config.domTarget;Object.entries(o.bindings).forEach(function(t){var e=t[1];o.domListeners.push([t[0].substr(2).toLowerCase(),c.apply(void 0,e)])}),d(t,o.domListeners,o.config.event)},this.getBindings=function(){var t={},e=o.config.event.capture?"Capture":"";return Object.entries(o.bindings).forEach(function(n){var r=n[0],o=n[1],i=Array.isArray(o)?o:[o];t[r+e]=c.apply(void 0,i)}),t},this.bind=function(){var t=new Set(Object.keys(o.handlers).filter(function(t){return 0===t.indexOf("on")}).map(function(t){var e=t.match(/(on[A-Z][a-z]+)/);return e?e[1]:void 0})),e=o.config.domTarget,n=r({},o.handlers);o.cleanOnBind();for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return t.has("onDrag")&&(o.addRecognizer(new D(o,a)),delete n.onDrag,delete n.onDragStart,delete n.onDragEnd),t.has("onScroll")&&(o.addRecognizer(new W(o,a)),delete n.onScroll,delete n.onScrollStart,delete n.onScrollEnd),t.has("onWheel")&&(o.addRecognizer(new P(o,a)),delete n.onWheel,delete n.onWheelStart,delete n.onWheelEnd),t.has("onMove")&&(o.addRecognizer(new B(o,a)),delete n.onMove,delete n.onMoveStart,delete n.onMoveEnd),t.has("onHover")&&(o.addRecognizer(new A(o,a)),delete n.onHover),t.has("onPinch")&&(e&&function(){try{return"constructor"in GestureEvent}catch(t){return!1}}()?o.addRecognizer(new G(o,a)):(o.addRecognizer(new j(o,a)),o.addRecognizer(new z(o,a))),delete n.onPinch,delete n.onPinchStart,delete n.onPinchEnd),Object.entries(n).map(function(t){o.addEventBindings([t[0],t[1]])}),e?(o.addDomTargetListeners(),o.clean):o.getBindings()}};function X(t,e){var r=n.useRef();return r.current||(r.current=new H(Y(t),I(e))),n.useEffect(function(){r.current.config=I(e),r.current.handlers=Y(t)},[t,e]),n.useEffect(function(){return r.current.clean},[]),r.current.bind}function Y(t){if("function"==typeof t)return{onDrag:t};var e=t.onAction,n=i(t,["onAction"]);return e&&(n.onDrag=e),n}function I(t){var e=r({},K,{},t),n=e.domTarget;return e.domTarget=n&&"current"in n?n.current:n,e}exports.useDrag=function(t,e){return X({onDrag:t},e)},exports.useGesture=X,exports.useHover=function(t,e){return X({onHover:t},e)},exports.useMove=function(t,e){return X({onMove:t},e)},exports.usePinch=function(t,e){return X({onPinch:t},e)},exports.useScroll=function(t,e){return X({onScroll:t},e)},exports.useWheel=function(t,e){return X({onWheel:t},e)};
//# sourceMappingURL=react-use-gesture.cjs.production.min.js.map
